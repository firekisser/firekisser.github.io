<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha256-BZ71u1P7NUocEN9mKkcAovn3q5JPm/r9xVyjWh/Kqrc=" crossorigin="anonymous"><style>.markdown-body hr::after,.markdown-body::after{clear:both}.loopLine,.messageLine0{marker-end:"url(#arrowhead)"}@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff')}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";line-height:1.5;word-wrap:break-word}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2::before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body hr::after,.markdown-body hr::before,.markdown-body::after,.markdown-body::before{display:table;content:""}.markdown-body a{background-color:transparent;-webkit-text-decoration-skip:objects;color:#0366d6;text-decoration:none}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body hr{box-sizing:content-box}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body td,.markdown-body th{padding:0}.markdown-body blockquote{margin:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body .task-list-item,ul.table-of-contents{list-style-type:none}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:0}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{overflow:hidden;background:#e1e4e8;height:.25em;padding:0;margin:24px 0;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h6{color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code::after,.markdown-body code::before{letter-spacing:-.2em;content:"\00a0"}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code::after,.markdown-body pre code::before{content:normal}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1}.hljs,.katex .katex-html>.newline{display:block}.node text,.noteText,div.mermaidTooltip{font-family:'trebuchet ms',verdana,arial}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.hljs{overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-meta,.hljs-strong{font-weight:700}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.mermaid .label{color:#333}.node circle,.node ellipse,.node polygon,.node rect{fill:#ECECFF;stroke:#CCF;stroke-width:1px}.edgePath .path{stroke:#333}.edgeLabel{background-color:#e8e8e8}.cluster rect{fill:#ffffde!important;rx:4!important;stroke:#aa3!important;stroke-width:1px!important}.cluster text{fill:#333}.actor{stroke:#CCF;fill:#ECECFF}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0,.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#CCF;fill:#ECECFF}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";stroke:#CCF}.note{stroke:#aa3;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-size:14px}.section{stroke:none;opacity:.2}.section0{fill:rgba(102,102,255,.49)}.section2{fill:#fff400}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:#d3d3d3;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#8a90dd;stroke:#534fbc}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#bfc7ff;stroke:#534fbc}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:#d3d3d3;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}.node text{font-size:14px}div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(fonts/KaTeX_AMS-Regular.woff2) format("woff2"),url(fonts/KaTeX_AMS-Regular.woff) format("woff"),url(fonts/KaTeX_AMS-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Caligraphic-Bold.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Bold.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Caligraphic-Regular.woff2) format("woff2"),url(fonts/KaTeX_Caligraphic-Regular.woff) format("woff"),url(fonts/KaTeX_Caligraphic-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Fraktur-Bold.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Bold.woff) format("woff"),url(fonts/KaTeX_Fraktur-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Fraktur-Regular.woff2) format("woff2"),url(fonts/KaTeX_Fraktur-Regular.woff) format("woff"),url(fonts/KaTeX_Fraktur-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(fonts/KaTeX_Main-Bold.woff2) format("woff2"),url(fonts/KaTeX_Main-Bold.woff) format("woff"),url(fonts/KaTeX_Main-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Main-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Main-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Main-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Main-Italic.woff2) format("woff2"),url(fonts/KaTeX_Main-Italic.woff) format("woff"),url(fonts/KaTeX_Main-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Main-Regular.woff2) format("woff2"),url(fonts/KaTeX_Main-Regular.woff) format("woff"),url(fonts/KaTeX_Main-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(fonts/KaTeX_Math-BoldItalic.woff2) format("woff2"),url(fonts/KaTeX_Math-BoldItalic.woff) format("woff"),url(fonts/KaTeX_Math-BoldItalic.ttf) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(fonts/KaTeX_Math-Italic.woff2) format("woff2"),url(fonts/KaTeX_Math-Italic.woff) format("woff"),url(fonts/KaTeX_Math-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:700;src:url(fonts/KaTeX_SansSerif-Bold.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Bold.woff) format("woff"),url(fonts/KaTeX_SansSerif-Bold.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:italic;font-weight:400;src:url(fonts/KaTeX_SansSerif-Italic.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Italic.woff) format("woff"),url(fonts/KaTeX_SansSerif-Italic.ttf) format("truetype")}@font-face{font-family:KaTeX_SansSerif;font-style:normal;font-weight:400;src:url(fonts/KaTeX_SansSerif-Regular.woff2) format("woff2"),url(fonts/KaTeX_SansSerif-Regular.woff) format("woff"),url(fonts/KaTeX_SansSerif-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Script-Regular.woff2) format("woff2"),url(fonts/KaTeX_Script-Regular.woff) format("woff"),url(fonts/KaTeX_Script-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size1-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size1-Regular.woff) format("woff"),url(fonts/KaTeX_Size1-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size2-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size2-Regular.woff) format("woff"),url(fonts/KaTeX_Size2-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size3-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size3-Regular.woff) format("woff"),url(fonts/KaTeX_Size3-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Size4-Regular.woff2) format("woff2"),url(fonts/KaTeX_Size4-Regular.woff) format("woff"),url(fonts/KaTeX_Size4-Regular.ttf) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(fonts/KaTeX_Typewriter-Regular.woff2) format("woff2"),url(fonts/KaTeX_Typewriter-Regular.woff) format("woff"),url(fonts/KaTeX_Typewriter-Regular.ttf) format("truetype")}.katex{font:400 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex .mathit,.katex .textit{font-style:italic}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-mathml{border:0;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .base{position:relative;white-space:nowrap;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathdefault{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .clap>.fix,.katex .fontsize-ensurer,.katex .hdashline,.katex .llap>.fix,.katex .mfrac .frac-line,.katex .mspace,.katex .nulldelimiter,.katex .rlap>.fix,.katex .rule,.katex .sizing{display:inline-block}.katex .msupsub{text-align:left}.katex .accent>.vlist-t,.katex .mfrac>span>span,.katex .mtable .col-align-c>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .accent .accent-body,.katex .delimcenter,.katex .op-symbol,.katex .rule{position:relative}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;width:100%}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{width:.12em}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{border-right:.05em solid;display:inline-block;margin:0 -.025em;min-width:1px}.katex .mtable .vs-dashed{border-right:.05em dashed}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex .mover,.katex .munder,.katex .x-arrow,.katex-display,div[data-role=mermaid]{text-align:center}.katex svg{display:block;fill:currentColor;fill-opacity:1;fill-rule:nonzero;height:inherit;position:absolute;stroke:currentColor;stroke-dasharray:none;stroke-dashoffset:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-width:1;width:100%}.katex .hide-tail,.katex .stretchy{overflow:hidden;position:relative;width:100%}.katex svg path{stroke:none}.katex .stretchy{display:block}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .brace-center,.katex .brace-left,.katex .brace-right,.katex .halfarrow-left,.katex .halfarrow-right{position:absolute;overflow:hidden}.katex .halfarrow-left{left:0;width:50.2%}.katex .halfarrow-right{right:0;width:50.2%}.katex .brace-left{left:0;width:25.1%}.katex .brace-center{left:25%;width:50%}.katex .brace-right{right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .boxpad{padding:0 .3em}.katex .fbox{border:.04em solid #000;box-sizing:border-box}.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex-display{display:block;margin:1em 0}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}body{margin:0;padding:0}.markdown-body{min-width:256px;max-width:978px;margin:0 auto;padding:20px;font-size:14px}.markdown-body h1{font-size:2.25em}.markdown-body h2{font-size:1.75em}.markdown-body h3{font-size:1.5em}.markdown-body h4{font-size:1.25em}.markdown-body h5,.markdown-body h6{font-size:1em}div[data-role=mermaid] svg{height:auto}hr.footnotes-sep{margin:64px 0 32px;height:1px}.footnotes{font-size:90%;padding-left:16px}li.footnote-item>p{margin:8px 0}.danger,.info,.success,.warning{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.danger>p:last-child,.info>p:last-child,.success>p:last-child,.warning>p:last-child{margin-bottom:0}.success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.info{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}abbr[title]{cursor:help;border-bottom:1px dotted #777}ul.table-of-contents li{margin:4px 0}.markdown-body table{border-spacing:0;border-collapse:collapse;width:auto;display:inline-block;overflow:hidden}.markdown-body table td,.markdown-body table th{word-break:break-all}</style></head><article class="markdown-body" id="preview" data-open-title="Hide Preview" data-closed-title="Show Preview" style="padding-bottom: 0px;"><div><h1 id="noah" data-source-line="1"><a class="markdownIt-Anchor" href="#noah"></a><strong>Noah</strong></h1>
<h3 id="author-chang-liu" data-source-line="2"><a class="markdownIt-Anchor" href="#author-chang-liu"></a><em>@Author: Chang Liu</em></h3>
<h3 id="mail-lchang1994outlookcom" data-source-line="3"><a class="markdownIt-Anchor" href="#mail-lchang1994outlookcom"></a><em>@Mail: <a href="http://mailto:lchang1994@outlook.com" target="_blank">lchang1994@outlook.com</a></em></h3>
<hr>
<h2 id="array" data-source-line="5"><a class="markdownIt-Anchor" href="#array"></a><a href="#1-array">Array</a></h2>
<h3 id="sumadd" data-source-line="6"><a class="markdownIt-Anchor" href="#sumadd"></a><a href="#11-sumadd">Sum/Add</a></h3>
<h3 id="binary-search" data-source-line="7"><a class="markdownIt-Anchor" href="#binary-search"></a><a href="#12-binary-search">Binary Search</a></h3>
<h3 id="two-pointers" data-source-line="8"><a class="markdownIt-Anchor" href="#two-pointers"></a><a href="#13-two-pointers">Two Pointers</a></h3>
<h3 id="remove-elements" data-source-line="9"><a class="markdownIt-Anchor" href="#remove-elements"></a><a href="#14-remove-elements">Remove Elements</a></h3>
<h3 id="in-place-hashing" data-source-line="10"><a class="markdownIt-Anchor" href="#in-place-hashing"></a><a href="#16-in-place-hashing">In-place Hashing</a></h3>
<h3 id="matrix-reordertransform" data-source-line="11"><a class="markdownIt-Anchor" href="#matrix-reordertransform"></a><a href="#17-matrix-reordertransform">Matrix Reorder/Transform</a></h3>
<h3 id="subarraysubsequence" data-source-line="12"><a class="markdownIt-Anchor" href="#subarraysubsequence"></a><a href="#18-subarrayubsequence">Subarray/Subsequence</a></h3>
<h3 id="intervals" data-source-line="13"><a class="markdownIt-Anchor" href="#intervals"></a><a href="#19-intervals">Intervals</a></h3>
<h3 id="big-number" data-source-line="14"><a class="markdownIt-Anchor" href="#big-number"></a><a href="#1a-big-number">Big Number</a></h3>
<h3 id="rectangle" data-source-line="15"><a class="markdownIt-Anchor" href="#rectangle"></a><a href="#1b-rectangle">Rectangle</a></h3>
<h3 id="in-place-reorder" data-source-line="16"><a class="markdownIt-Anchor" href="#in-place-reorder"></a><a href="#1c-in-place-reorder">In-place Reorder</a></h3>
<h3 id="subset" data-source-line="17"><a class="markdownIt-Anchor" href="#subset"></a><a href="#1d-subset">Subset</a></h3>
<h3 id="sliding-window" data-source-line="18"><a class="markdownIt-Anchor" href="#sliding-window"></a><a href="#1f-sliding-window">Sliding Window</a></h3>
<h3 id="lhs-rhs" data-source-line="19"><a class="markdownIt-Anchor" href="#lhs-rhs"></a><a href="#1g-lhs-rhs">LHS RHS</a></h3>
<h3 id="gapduplicatebucket" data-source-line="20"><a class="markdownIt-Anchor" href="#gapduplicatebucket"></a><a href="#1h-gapduplicatebucket">Gap/Duplicate/Bucket</a></h3>
<h3 id="sortselect" data-source-line="21"><a class="markdownIt-Anchor" href="#sortselect"></a><a href="#1i-sortselect">Sort/Select</a></h3>
<h3 id="prefix-sum" data-source-line="22"><a class="markdownIt-Anchor" href="#prefix-sum"></a><a href="#1j-prefix-sum">Prefix Sum</a></h3>
<hr>
<h2 id="linked-list" data-source-line="24"><a class="markdownIt-Anchor" href="#linked-list"></a><a href="#2-linked-list">Linked List</a></h2>
<h3 id="add-two-numbers" data-source-line="25"><a class="markdownIt-Anchor" href="#add-two-numbers"></a><a href="#21-add-two-numbers">Add Two Numbers</a></h3>
<h3 id="remove-node" data-source-line="26"><a class="markdownIt-Anchor" href="#remove-node"></a><a href="#22-remove-node">Remove Node</a></h3>
<h3 id="merge-lists" data-source-line="27"><a class="markdownIt-Anchor" href="#merge-lists"></a><a href="#23-merge-lists">Merge Lists</a></h3>
<h3 id="reorder-nodes" data-source-line="28"><a class="markdownIt-Anchor" href="#reorder-nodes"></a><a href="#24-reorder-nodes">Reorder Nodes</a></h3>
<h3 id="reverse-list" data-source-line="29"><a class="markdownIt-Anchor" href="#reverse-list"></a><a href="#25-reverse-list">Reverse List</a></h3>
<h3 id="rotate-list" data-source-line="30"><a class="markdownIt-Anchor" href="#rotate-list"></a><a href="#26-rotate-list">Rotate List</a></h3>
<h3 id="partition-list" data-source-line="31"><a class="markdownIt-Anchor" href="#partition-list"></a><a href="#27-partition-list">Partition List</a></h3>
<h3 id="list-extra-pointer" data-source-line="32"><a class="markdownIt-Anchor" href="#list-extra-pointer"></a><a href="#28-list-extra-pointer">List Extra Pointer</a></h3>
<h3 id="cycle" data-source-line="33"><a class="markdownIt-Anchor" href="#cycle"></a><a href="#29-cycle">Cycle</a></h3>
<hr>
<h2 id="string" data-source-line="35"><a class="markdownIt-Anchor" href="#string"></a><a href="#3-string">String</a></h2>
<h3 id="substring" data-source-line="36"><a class="markdownIt-Anchor" href="#substring"></a><a href="#31-substring">Substring</a></h3>
<h3 id="palindrome" data-source-line="37"><a class="markdownIt-Anchor" href="#palindrome"></a><a href="#32-palindrome">Palindrome</a></h3>
<h3 id="string-reorder" data-source-line="38"><a class="markdownIt-Anchor" href="#string-reorder"></a><a href="#33-string-reorder">String Reorder</a></h3>
<h3 id="string-number" data-source-line="39"><a class="markdownIt-Anchor" href="#string-number"></a><a href="#34-string-number">String Number</a></h3>
<h3 id="roman" data-source-line="40"><a class="markdownIt-Anchor" href="#roman"></a><a href="#35-roman">Roman</a></h3>
<h3 id="prefix" data-source-line="41"><a class="markdownIt-Anchor" href="#prefix"></a><a href="#36-prefix">Prefix</a></h3>
<h3 id="zip-string" data-source-line="42"><a class="markdownIt-Anchor" href="#zip-string"></a><a href="#37-zip-string">Zip String</a></h3>
<h3 id="anagrams" data-source-line="43"><a class="markdownIt-Anchor" href="#anagrams"></a><a href="#38-anagrams">Anagrams</a></h3>
<h3 id="text" data-source-line="44"><a class="markdownIt-Anchor" href="#text"></a><a href="#39-text">Text</a></h3>
<h3 id="file-path" data-source-line="45"><a class="markdownIt-Anchor" href="#file-path"></a><a href="#3a-file-path">File Path</a></h3>
<h3 id="string-sliding-window" data-source-line="46"><a class="markdownIt-Anchor" href="#string-sliding-window"></a><a href="#3b-string-sliding-window">String Sliding Window</a></h3>
<h3 id="decode" data-source-line="47"><a class="markdownIt-Anchor" href="#decode"></a><a href="#3c-decode">Decode</a></h3>
<h3 id="ip-address" data-source-line="48"><a class="markdownIt-Anchor" href="#ip-address"></a><a href="#3d-ip-address">IP Address</a></h3>
<h3 id="string-conversion" data-source-line="49"><a class="markdownIt-Anchor" href="#string-conversion"></a><a href="#3e-string-conversion">String Conversion</a></h3>
<h3 id="string-subsequence" data-source-line="50"><a class="markdownIt-Anchor" href="#string-subsequence"></a><a href="#3f-string-subsquence">String Subsequence</a></h3>
<h3 id="string-compare" data-source-line="51"><a class="markdownIt-Anchor" href="#string-compare"></a><a href="#3g-string-compare">String Compare</a></h3>
<h3 id="string-length" data-source-line="52"><a class="markdownIt-Anchor" href="#string-length"></a><a href="#3f-string-length">String Length</a></h3>
<h3 id="password" data-source-line="53"><a class="markdownIt-Anchor" href="#password"></a><a href="#3g-password">Password</a></h3>
<hr>
<h2 id="stack" data-source-line="55"><a class="markdownIt-Anchor" href="#stack"></a><a href="#4-stack">Stack</a></h2>
<h3 id="brackets" data-source-line="56"><a class="markdownIt-Anchor" href="#brackets"></a><a href="#41-brackets">Brackets</a></h3>
<h3 id="expression" data-source-line="57"><a class="markdownIt-Anchor" href="#expression"></a><a href="#42-expression">Expression</a></h3>
<h3 id="order-stack" data-source-line="58"><a class="markdownIt-Anchor" href="#order-stack"></a><a href="#43-order-stack">Order Stack</a></h3>
<hr>
<h2 id="dp" data-source-line="60"><a class="markdownIt-Anchor" href="#dp"></a><a href="#5-DP">DP</a></h2>
<h3 id="two-sequences" data-source-line="61"><a class="markdownIt-Anchor" href="#two-sequences"></a><a href="#51-two-sequences">Two Sequences</a></h3>
<h3 id="jump" data-source-line="62"><a class="markdownIt-Anchor" href="#jump"></a><a href="#52-jump">Jump</a></h3>
<h3 id="grid-path" data-source-line="63"><a class="markdownIt-Anchor" href="#grid-path"></a><a href="#53-grid-path">Grid Path</a></h3>
<h3 id="triangle" data-source-line="64"><a class="markdownIt-Anchor" href="#triangle"></a><a href="#54-triangle">Triangle</a></h3>
<h3 id="stock" data-source-line="65"><a class="markdownIt-Anchor" href="#stock"></a><a href="#55-stock">Stock</a></h3>
<h3 id="robber" data-source-line="66"><a class="markdownIt-Anchor" href="#robber"></a><a href="#56-robber">Robber</a></h3>
<h3 id="lis" data-source-line="67"><a class="markdownIt-Anchor" href="#lis"></a><a href="#57-lis">LIS</a></h3>
<h3 id="square" data-source-line="68"><a class="markdownIt-Anchor" href="#square"></a><a href="#58-square">Square</a></h3>
<h3 id="balloons" data-source-line="69"><a class="markdownIt-Anchor" href="#balloons"></a><a href="#59-ballons">Balloons</a></h3>
<h3 id="coins" data-source-line="70"><a class="markdownIt-Anchor" href="#coins"></a><a href="#5a-coins">Coins</a></h3>
<hr>
<h2 id="dfsbfs" data-source-line="72"><a class="markdownIt-Anchor" href="#dfsbfs"></a><a href="#6-dfsbfs">DFS/BFS</a></h2>
<h3 id="permutations" data-source-line="73"><a class="markdownIt-Anchor" href="#permutations"></a><a href="#61-permutations">Permutations</a></h3>
<h3 id="trace" data-source-line="74"><a class="markdownIt-Anchor" href="#trace"></a><a href="#62-trace">Trace</a></h3>
<h3 id="n-queens" data-source-line="75"><a class="markdownIt-Anchor" href="#n-queens"></a><a href="#63-n-queens">N Queens</a></h3>
<h3 id="island" data-source-line="76"><a class="markdownIt-Anchor" href="#island"></a><a href="#64-island">Island</a></h3>
<h3 id="graph" data-source-line="77"><a class="markdownIt-Anchor" href="#graph"></a><a href="#65-graph">Graph</a></h3>
<hr>
<h2 id="math" data-source-line="79"><a class="markdownIt-Anchor" href="#math"></a><a href="#7-math">Math</a></h2>
<h3 id="number" data-source-line="80"><a class="markdownIt-Anchor" href="#number"></a><a href="#71-number">Number</a></h3>
<h3 id="operator" data-source-line="81"><a class="markdownIt-Anchor" href="#operator"></a><a href="#72-operator">Operator</a></h3>
<h3 id="puzzlegame" data-source-line="82"><a class="markdownIt-Anchor" href="#puzzlegame"></a><a href="#73-puzzlegame">Puzzle/Game</a></h3>
<h3 id="binary-code" data-source-line="83"><a class="markdownIt-Anchor" href="#binary-code"></a><a href="#74-binary-code">Binary Code</a></h3>
<h3 id="geometry" data-source-line="84"><a class="markdownIt-Anchor" href="#geometry"></a><a href="#75-geometry">Geometry</a></h3>
<h3 id="primeuglygood-number" data-source-line="85"><a class="markdownIt-Anchor" href="#primeuglygood-number"></a><a href="#76-primeuglygood-number">Prime/Ugly/Good Number</a></h3>
<hr>
<h2 id="tree" data-source-line="87"><a class="markdownIt-Anchor" href="#tree"></a><a href="#8-tree">Tree</a></h2>
<h3 id="traversal" data-source-line="88"><a class="markdownIt-Anchor" href="#traversal"></a><a href="#81-traversal">Traversal</a></h3>
<h3 id="binary-search-tree" data-source-line="89"><a class="markdownIt-Anchor" href="#binary-search-tree"></a><a href="#82-binary-search-tree">Binary Search Tree</a></h3>
<h3 id="samemirror-tree" data-source-line="90"><a class="markdownIt-Anchor" href="#samemirror-tree"></a><a href="#83-samemirror-tree">Same/Mirror Tree</a></h3>
<h3 id="depthwidth" data-source-line="91"><a class="markdownIt-Anchor" href="#depthwidth"></a><a href="#84-depthwidth">Depth/Width</a></h3>
<h3 id="contructdeserilize" data-source-line="92"><a class="markdownIt-Anchor" href="#contructdeserilize"></a><a href="#85-contructdeserilize">Contruct/(De)Serilize</a></h3>
<h3 id="balanced-tree" data-source-line="93"><a class="markdownIt-Anchor" href="#balanced-tree"></a><a href="#86-balanced-tree">Balanced Tree</a></h3>
<h3 id="tree-path" data-source-line="94"><a class="markdownIt-Anchor" href="#tree-path"></a><a href="#87-tree-path">Tree Path</a></h3>
<h3 id="tree-to-list" data-source-line="95"><a class="markdownIt-Anchor" href="#tree-to-list"></a><a href="#88-tree-to-list">Tree To List</a></h3>
<h3 id="tree-next-pointer" data-source-line="96"><a class="markdownIt-Anchor" href="#tree-next-pointer"></a><a href="#89-tree-next-pointer">Tree Next Pointer</a></h3>
<hr>
<h2 id="design" data-source-line="98"><a class="markdownIt-Anchor" href="#design"></a><a href="#9-design">Design</a></h2>
<h3 id="cache" data-source-line="99"><a class="markdownIt-Anchor" href="#cache"></a><a href="#91-cache">Cache</a></h3>
<h3 id="special-stackqueuelist" data-source-line="100"><a class="markdownIt-Anchor" href="#special-stackqueuelist"></a><a href="#92-special-stackqueuelist">Special Stack/Queue/List</a></h3>
<h3 id="data-stream-io" data-source-line="101"><a class="markdownIt-Anchor" href="#data-stream-io"></a><a href="#93-data-stream-io">Data Stream I/O</a></h3>
<h3 id="iterator" data-source-line="102"><a class="markdownIt-Anchor" href="#iterator"></a><a href="#94-iterator">Iterator</a></h3>
<h3 id="trie" data-source-line="103"><a class="markdownIt-Anchor" href="#trie"></a><a href="#95-trie">Trie</a></h3>
<h3 id="nested-integer" data-source-line="104"><a class="markdownIt-Anchor" href="#nested-integer"></a><a href="#96-nested-integer">Nested Integer</a></h3>
<h3 id="app" data-source-line="105"><a class="markdownIt-Anchor" href="#app"></a><a href="#97-app">App</a></h3>
<hr>
<h2 id="topodisjoint" data-source-line="107"><a class="markdownIt-Anchor" href="#topodisjoint"></a><a href="#a-topodisjoint">Topo/Disjoint</a></h2>
<h3 id="course-schedule" data-source-line="108"><a class="markdownIt-Anchor" href="#course-schedule"></a><a href="#a1-course-schedule">Course Schedule</a></h3>
<hr>
<hr>
<h2 id="1-array" data-source-line="111"><a class="markdownIt-Anchor" href="#1-array"></a><a href="#array">1 Array</a></h2>
<h3 id="11-sumadd" data-source-line="112"><a class="markdownIt-Anchor" href="#11-sumadd"></a><a href="#sumadd">1.1 Sum/Add</a></h3>
<h4 id="le_1-two-sum" data-source-line="113"><a class="markdownIt-Anchor" href="#le_1-two-sum"></a>LE_1. Two Sum</h4>
<pre data-source-line="114"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; twoSum(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; val_ind_map;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (val_ind_map.find(target - nums[i]) != val_ind_map.end())
      <span class="hljs-keyword">return</span> {val_ind_map[target - nums[i]], i};
    val_ind_map[nums[i]] = i;
  }
  <span class="hljs-keyword">return</span> {<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>};
}
</code></pre><h4 id="le_167-two-sum-ii-input-array-is-sorted" data-source-line="125"><a class="markdownIt-Anchor" href="#le_167-two-sum-ii-input-array-is-sorted"></a>LE_167. Two Sum II - Input Array Is Sorted</h4>
<pre data-source-line="126"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; twoSum(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; numbers, <span class="hljs-keyword">int</span> target) {
  <span class="hljs-keyword">if</span> (numbers.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-keyword">int</span> low = <span class="hljs-number">0</span>, high = numbers.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (low &lt; high)
    <span class="hljs-keyword">if</span> (numbers[low] + numbers[high] == target) 
      <span class="hljs-keyword">return</span> { low + <span class="hljs-number">1</span>, high + <span class="hljs-number">1</span> };
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (numbers[low] + numbers[high] &lt; target) low++;
    <span class="hljs-keyword">else</span> high--;
  <span class="hljs-keyword">return</span> {};
}
</code></pre><h4 id="le_15-3sum" data-source-line="138"><a class="markdownIt-Anchor" href="#le_15-3sum"></a>LE_15. 3Sum</h4>
<pre data-source-line="139"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; threeSum(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  sort(nums.begin(), nums.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (i &lt; nums.size()) {
    <span class="hljs-keyword">int</span> l = i + <span class="hljs-number">1</span>, r = nums.size() - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (l &lt; r) {
      <span class="hljs-keyword">int</span> tmp_sum = nums[i] + nums[l] + nums[r];
      <span class="hljs-keyword">if</span> (tmp_sum == <span class="hljs-number">0</span>) {
        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tmp_res = {nums[i], nums[l], nums[r]};
        res.push_back(tmp_res);
        <span class="hljs-keyword">while</span> (l &lt; r &amp;&amp; nums[l] == tmp_res[<span class="hljs-number">1</span>]) l++;
        <span class="hljs-keyword">while</span> (r &gt; l &amp;&amp; nums[r] == tmp_res[<span class="hljs-number">2</span>]) r--; 
      }
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tmp_sum &lt; <span class="hljs-number">0</span>) l++;
      <span class="hljs-keyword">else</span> r--;
    }
    <span class="hljs-keyword">while</span> (i + <span class="hljs-number">1</span> &lt; nums.size() &amp;&amp; nums[i + <span class="hljs-number">1</span>] == nums[i]) i++;
    i++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_16-3sum-closest" data-source-line="163"><a class="markdownIt-Anchor" href="#le_16-3sum-closest"></a>LE_16. 3Sum Closest</h4>
<pre data-source-line="164"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">threeSumClosest</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  sort(nums.begin(), nums.end());
  <span class="hljs-keyword">int</span> res = nums[<span class="hljs-number">0</span>] + nums[<span class="hljs-number">1</span>] + nums[nums.size() - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">int</span> l = i + <span class="hljs-number">1</span>, r = nums.size() - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (l &lt; r) {
      <span class="hljs-keyword">int</span> tmp_sum = nums[i] + nums[l] + nums[r];
      tmp_sum &lt; target ? l++ : r--;
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">abs</span>(target - tmp_sum) &lt; <span class="hljs-built_in">abs</span>(target - res)) res = tmp_sum;
    }
    <span class="hljs-keyword">while</span> (i + <span class="hljs-number">1</span> &lt; nums.size() &amp;&amp; nums[i + <span class="hljs-number">1</span>] == nums[i]) i++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_18-4sum" data-source-line="181"><a class="markdownIt-Anchor" href="#le_18-4sum"></a>LE_18. 4Sum</h4>
<pre data-source-line="182"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; fourSum(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target) {
  <span class="hljs-keyword">if</span> (nums.size() &lt; <span class="hljs-number">4</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  sort(nums.begin(), nums.end());
  <span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>, d = nums.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>; a &lt; nums.size(); a++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> b = a + <span class="hljs-number">1</span>; b &lt; nums.size(); b++) {
      <span class="hljs-keyword">int</span> c = b + <span class="hljs-number">1</span>, d = nums.size() - <span class="hljs-number">1</span>;
      <span class="hljs-keyword">while</span> (c &lt; d) {
        <span class="hljs-keyword">auto</span> tmp_sum = <span class="hljs-keyword">long</span>(nums[a]) + nums[b] + nums[c] + nums[d];
        <span class="hljs-keyword">if</span> (tmp_sum == target) {
          <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tmp_res = {nums[a], nums[b], nums[c], nums[d]};
          res.push_back(tmp_res);
          <span class="hljs-keyword">while</span> (c &lt; d &amp;&amp; nums[c] == tmp_res[<span class="hljs-number">2</span>]) c++;
          <span class="hljs-keyword">while</span> (c &lt; d &amp;&amp; nums[d] == tmp_res[<span class="hljs-number">3</span>]) d--;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tmp_sum &lt; target) c++;
        <span class="hljs-keyword">else</span> d--;
      }
      <span class="hljs-keyword">while</span> (b + <span class="hljs-number">1</span> &lt; nums.size() &amp;&amp; nums[b + <span class="hljs-number">1</span>] == nums[b]) b++;
    }
    <span class="hljs-keyword">while</span> (a + <span class="hljs-number">1</span> &lt; nums.size() &amp;&amp; nums[a + <span class="hljs-number">1</span>] == nums[a]) a++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_454-4sum-ii" data-source-line="208"><a class="markdownIt-Anchor" href="#le_454-4sum-ii"></a>LE_454. 4Sum II</h4>
<pre data-source-line="209"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fourSumCount</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2, 
                 <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums3, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums4)</span> </span>{
  <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">map</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; a: nums1) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; b: nums2) <span class="hljs-built_in">map</span>[a + b]++;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; c: nums3) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; d: nums4) cnt += <span class="hljs-built_in">map</span>[-(c + d)];
  <span class="hljs-keyword">return</span> cnt;
}
</code></pre><h4 id="le_39-combination-sum" data-source-line="219"><a class="markdownIt-Anchor" href="#le_39-combination-sum"></a>LE_39. Combination Sum</h4>
<pre data-source-line="220"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; combinationSum(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; candidates, <span class="hljs-keyword">int</span> target) {
  sort(candidates.begin(), candidates.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; combination;
  combinationSum(candidates, target, res, combination, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">combinationSum</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; candidates, <span class="hljs-keyword">int</span> target, 
                    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; &amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; combination, 
                    <span class="hljs-keyword">int</span> begin)</span> </span>{
  <span class="hljs-keyword">if</span>(target == <span class="hljs-number">0</span>) {
    res.push_back(combination);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = begin; i &lt; candidates.size() &amp;&amp; target &gt;= candidates[i]; i++) {
    combination.push_back(candidates[i]);
    combinationSum(candidates, target - candidates[i], res, combination, i);
    combination.pop_back();
  }
}
</code></pre><h4 id="le_40-combination-sum-ii" data-source-line="243"><a class="markdownIt-Anchor" href="#le_40-combination-sum-ii"></a>LE_40. Combination Sum II</h4>
<pre data-source-line="244"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; combinationSum2(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; candidates, <span class="hljs-keyword">int</span> target) {
  sort(candidates.begin(), candidates.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; combination;
  combinationSum2(candidates, target, res, combination, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">combinationSum2</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; cands, <span class="hljs-keyword">int</span> target, 
                     <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; &amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; combination, 
                     <span class="hljs-keyword">int</span> begin)</span> </span>{
  <span class="hljs-keyword">if</span>(target == <span class="hljs-number">0</span>) {
    res.push_back(combination);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = begin; i &lt; cands.size() &amp;&amp; target &gt;= cands[i]; i++) {
    <span class="hljs-keyword">if</span>(i == begin || cands[i] != cands[i - <span class="hljs-number">1</span>]) {
      combination.push_back(cands[i]);
      combinationSum2(cands, target - cands[i], res, combination, i + <span class="hljs-number">1</span>);
      combination.pop_back();
    }
  }
}
</code></pre><h4 id="le_216-combination-sum-iii" data-source-line="268"><a class="markdownIt-Anchor" href="#le_216-combination-sum-iii"></a>LE_216. Combination Sum III</h4>
<pre data-source-line="269"><code class="hljs"><span class="hljs-comment">// Find all valid combinations of k numbers that sum up to n such that the following conditions are true:</span>
<span class="hljs-comment">// Only numbers 1 through 9 are used.</span>
<span class="hljs-comment">// Each number is used at most once.</span>
<span class="hljs-comment">// Return a list of all possible valid combinations.</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; combinationSum3(<span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> n) {
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span> || k &gt; n) <span class="hljs-keyword">return</span> res;
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cur;
  combinationSum3(res, cur, k, n);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">combinationSum3</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cur, 
                      <span class="hljs-keyword">int</span> remain_num, <span class="hljs-keyword">int</span> remain_val)</span> </span>{
  <span class="hljs-keyword">if</span> (remain_num == <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">if</span> (remain_val == <span class="hljs-number">0</span> &amp;&amp; cur.size() &gt; <span class="hljs-number">0</span>) res.push_back(cur);
    <span class="hljs-keyword">return</span>;
  } 
  <span class="hljs-keyword">if</span> (remain_val == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">int</span> start_pos = cur.size() &gt; <span class="hljs-number">0</span> ? cur[cur.size() - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span> : <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = start_pos; i &lt;= <span class="hljs-number">9</span> &amp;&amp; i &lt;= remain_val / remain_num; i++) {
    cur.push_back(i);
    combinationSum3(res, cur, remain_num - <span class="hljs-number">1</span>, remain_val - i);
    cur.pop_back();
  }
}
</code></pre><h4 id="le_377-combination-sum-iv" data-source-line="297"><a class="markdownIt-Anchor" href="#le_377-combination-sum-iv"></a>LE_377. Combination Sum IV</h4>
<pre data-source-line="298"><code class="hljs"><span class="hljs-comment">// return the number of possible combinations that add up to target.</span>
<span class="hljs-comment">// Input: nums = [1,2,3], target = 4</span>
<span class="hljs-comment">// Output: 7</span>
<span class="hljs-comment">// Explanation:</span>
<span class="hljs-comment">// The possible combination ways are:</span>
<span class="hljs-comment">// (1, 1, 1, 1)</span>
<span class="hljs-comment">// (1, 1, 2)</span>
<span class="hljs-comment">// (1, 2, 1)</span>
<span class="hljs-comment">// (1, 3)</span>
<span class="hljs-comment">// (2, 1, 1)</span>
<span class="hljs-comment">// (2, 2)</span>
<span class="hljs-comment">// (3, 1)</span>
<span class="hljs-comment">// Note that different sequences are counted as different combinations.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">combinationSum4</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">uint64_t</span>&gt; dp(target + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= target; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums)
    <span class="hljs-keyword">if</span> (i &gt;= x) dp[i] += dp[i - x];
  <span class="hljs-keyword">return</span> dp[target];
}
</code></pre><h4 id="le_330-patching-array" data-source-line="319"><a class="markdownIt-Anchor" href="#le_330-patching-array"></a>LE_330. Patching Array</h4>
<pre data-source-line="320"><code class="hljs"><span class="hljs-comment">// Input: nums = [1,3], n = 6</span>
<span class="hljs-comment">// Output: 1</span>
<span class="hljs-comment">// Combinations are [1], [3], [1,3], </span>
<span class="hljs-comment">// which form  sums of: 1, 3, 4.</span>
<span class="hljs-comment">// Add 2: [1], [2], [3], [1,3], [2,3], [1,2,3].</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minPatches</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">long</span> cur = <span class="hljs-number">1</span>, res = <span class="hljs-number">0</span>, i = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (cur &lt;= n) {
    <span class="hljs-keyword">if</span> (i &lt; nums.size() &amp;&amp; nums[i] &lt;= cur) cur += nums[i++];
    <span class="hljs-keyword">else</span> cur += cur, res++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_410-split-array-largest-sum" data-source-line="335"><a class="markdownIt-Anchor" href="#le_410-split-array-largest-sum"></a>LE_410. Split Array Largest Sum</h4>
<pre data-source-line="336"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">splitArray</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">long</span> min_sub = <span class="hljs-number">0</span>, max_sub = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) {
    min_sub = max(min_sub, <span class="hljs-keyword">long</span>(x));
    max_sub += x;
  }
  <span class="hljs-keyword">while</span> (min_sub &lt; max_sub) {
    <span class="hljs-keyword">int</span> mid = min_sub + (max_sub - min_sub) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">1</span>, sub = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) {
      sub += x;
      <span class="hljs-keyword">if</span> (sub &gt; mid) tmp++, sub = x;
    }
    <span class="hljs-keyword">if</span> (tmp &gt; k) min_sub = mid + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> max_sub = mid;
  }
  <span class="hljs-keyword">return</span> min_sub;
}
</code></pre><h4 id="le_416-partition-equal-subset-sum" data-source-line="356"><a class="markdownIt-Anchor" href="#le_416-partition-equal-subset-sum"></a>LE_416. Partition Equal Subset Sum</h4>
<pre data-source-line="357"><code class="hljs"><span class="hljs-comment">// 1 &lt;= nums.length &lt;= 200</span>
<span class="hljs-comment">// 1 &lt;= nums[i] &lt;= 100</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canPartition</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> tot_sum = accumulate(nums.begin(), nums.end(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (tot_sum &amp; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-built_in">bitset</span>&lt;10001&gt; msk(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: nums) msk |= msk &lt;&lt; x;
  <span class="hljs-keyword">return</span> msk[tot_sum &gt;&gt; <span class="hljs-number">1</span>];
}

<span class="hljs-comment">// another solution</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canPartition</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> tot_sum = accumulate(nums.begin(), nums.end(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (tot_sum &amp; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">int</span> half_sum = tot_sum &gt;&gt; <span class="hljs-number">1</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; dp(half_sum + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>); dp[<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: nums) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = half_sum; i &gt;= x; i--) 
    dp[i] = dp[i] | dp[i - x];
  <span class="hljs-keyword">return</span> dp[half_sum];
}
</code></pre><h4 id="le_494-target-sum" data-source-line="379"><a class="markdownIt-Anchor" href="#le_494-target-sum"></a>LE_494. Target Sum</h4>
<pre data-source-line="380"><code class="hljs"><span class="hljs-comment">// adding'+' or '-' before each integer</span>
<span class="hljs-comment">// Input: nums = [1,1,1,1,1], target = 3</span>
<span class="hljs-comment">// Output: 5</span>
<span class="hljs-comment">// -1 + 1 + 1 + 1 + 1 = 3</span>
<span class="hljs-comment">// +1 - 1 + 1 + 1 + 1 = 3</span>
<span class="hljs-comment">// +1 + 1 - 1 + 1 + 1 = 3</span>
<span class="hljs-comment">// +1 + 1 + 1 - 1 + 1 = 3</span>
<span class="hljs-comment">// +1 + 1 + 1 + 1 - 1 = 3</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findTargetSumWays</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; mem(nums.size());
  <span class="hljs-keyword">return</span> dfs(nums, mem, target, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;&amp; mem,
        <span class="hljs-keyword">int</span> target, <span class="hljs-keyword">int</span> pos, <span class="hljs-keyword">int</span> cur)</span> </span>{
  <span class="hljs-keyword">if</span> (pos == nums.size()) <span class="hljs-keyword">return</span> cur == target;
  <span class="hljs-keyword">if</span> (mem[pos].count(cur)) <span class="hljs-keyword">return</span> mem[pos][cur];
  mem[pos][cur] = dfs(nums, mem, target, pos + <span class="hljs-number">1</span>, cur + nums[pos]) + 
                  dfs(nums, mem, target, pos + <span class="hljs-number">1</span>, cur - nums[pos]);
  <span class="hljs-keyword">return</span> mem[pos][cur];
}
</code></pre><h3 id="12-binary-search" data-source-line="403"><a class="markdownIt-Anchor" href="#12-binary-search"></a><a href="#binary-search">1.2 Binary Search</a></h3>
<h4 id="le_4-median-of-two-sorted-arrays" data-source-line="404"><a class="markdownIt-Anchor" href="#le_4-median-of-two-sorted-arrays"></a>LE_4. Median of Two Sorted Arrays</h4>
<pre data-source-line="405"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">findMedianSortedArrays</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2)</span> </span>{
  <span class="hljs-keyword">int</span> len1 = nums1.size(), len2 = nums2.size(), tot = len1 + len2;
  <span class="hljs-keyword">if</span> (tot &amp; <span class="hljs-number">0x1</span>) 
    <span class="hljs-keyword">return</span> findKth(nums1, <span class="hljs-number">0</span>, len1, nums2, <span class="hljs-number">0</span>, len2, tot / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> (findKth(nums1, <span class="hljs-number">0</span>, len1, nums2, <span class="hljs-number">0</span>, len2, tot / <span class="hljs-number">2</span>) + 
           findKth(nums1, <span class="hljs-number">0</span>, len1, nums2, <span class="hljs-number">0</span>, len2, tot / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>)) / <span class="hljs-number">2.</span>;
}

<span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">findKth</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums1, <span class="hljs-keyword">int</span> start1, <span class="hljs-keyword">int</span> len1, 
               <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums2, <span class="hljs-keyword">int</span> start2, <span class="hljs-keyword">int</span> len2, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (len1 &gt; len2) <span class="hljs-keyword">return</span> findKth(nums2, start2, len2, nums1, start1, len1, k);
  <span class="hljs-keyword">if</span> (len1 == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> nums2[start2 + k - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">if</span> (k == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> min(nums1[start1], nums2[start2]);
  <span class="hljs-keyword">int</span> pa = min(k / <span class="hljs-number">2</span>, len1), pb = k - pa;
  <span class="hljs-keyword">if</span> (nums1[start1 + pa - <span class="hljs-number">1</span>] &lt; nums2[start2 + pb - <span class="hljs-number">1</span>])
    <span class="hljs-keyword">return</span> findKth(nums1, start1 + pa, len1 - pa, nums2, start2, len2, k - pa);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums1[start1 + pa - <span class="hljs-number">1</span>] &gt; nums2[start2 + pb - <span class="hljs-number">1</span>])
    <span class="hljs-keyword">return</span> findKth(nums1, start1, len1, nums2, start2 + pb, len2 - pb, k - pb);
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> nums1[start1 + pa - <span class="hljs-number">1</span>];
}
</code></pre><h4 id="le_33-search-in-rotated-sorted-array" data-source-line="429"><a class="markdownIt-Anchor" href="#le_33-search-in-rotated-sorted-array"></a>LE_33. Search in Rotated Sorted Array</h4>
<pre data-source-line="430"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = nums.size() - <span class="hljs-number">1</span>, m;
  <span class="hljs-keyword">while</span> (l &lt;= r) {
    m = l + (r - l) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (nums[m] == target) <span class="hljs-keyword">return</span> m;
    <span class="hljs-keyword">if</span> (nums[l] &lt; nums[r]) {
      <span class="hljs-keyword">if</span> (nums[m] &lt; target) l = m + <span class="hljs-number">1</span>;
      <span class="hljs-keyword">else</span> r = m - <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (nums[m] &gt; nums[r]) {
        <span class="hljs-keyword">if</span> (nums[m] &lt; target) l = m + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (target &gt; nums[r]) r = m - <span class="hljs-number">1</span>;
          <span class="hljs-keyword">else</span> l = m + <span class="hljs-number">1</span>;
        }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (nums[m] &gt; target) r = m - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (target &lt; nums[l]) l = m + <span class="hljs-number">1</span>;
          <span class="hljs-keyword">else</span> r = m - <span class="hljs-number">1</span>;
        }
      }
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
}
</code></pre><h4 id="le_81-search-in-rotated-sorted-array-ii" data-source-line="458"><a class="markdownIt-Anchor" href="#le_81-search-in-rotated-sorted-array-ii"></a>LE_81. Search in Rotated Sorted Array II</h4>
<pre data-source-line="459"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = nums.size() - <span class="hljs-number">1</span>, m;
  <span class="hljs-keyword">while</span> (l &lt;= r) {
    m = l + (r - l) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (nums[m] == target) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (nums[l] == nums[r]) r--; 
    <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (nums[l] &lt; nums[r]) {
        <span class="hljs-keyword">if</span> (nums[m] &lt; target) l = m + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">else</span> r = m - <span class="hljs-number">1</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (nums[m] &lt; nums[l]) {
          <span class="hljs-keyword">if</span> (target &lt; nums[m]) r = m - <span class="hljs-number">1</span>;
          <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (target &lt; nums[l]) l = m + <span class="hljs-number">1</span>;
            <span class="hljs-keyword">else</span> r = m - <span class="hljs-number">1</span>;
          }
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (target &gt; nums[m]) l = m + <span class="hljs-number">1</span>;
          <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (target &gt; nums[r]) r = m - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">else</span> l = m + <span class="hljs-number">1</span>;
          }
        }
      }
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_34-find-first-and-last-position-of-element-in-sorted-array" data-source-line="490"><a class="markdownIt-Anchor" href="#le_34-find-first-and-last-position-of-element-in-sorted-array"></a>LE_34. Find First and Last Position of Element in Sorted Array</h4>
<pre data-source-line="491"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; searchRange(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> tar) {
  <span class="hljs-keyword">int</span> idx1 = lower_bound(nums.begin(), nums.end(), tar) - nums.begin();
  <span class="hljs-keyword">int</span> idx2 = lower_bound(nums.begin(), nums.end(), tar + <span class="hljs-number">1</span>) - nums.begin() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">if</span>(idx1 &lt; nums.size() &amp;&amp; nums[idx1] == tar) <span class="hljs-keyword">return</span> {idx1, idx2};
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> {<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>};
}
</code></pre><h4 id="le_35-search-insert-position" data-source-line="499"><a class="markdownIt-Anchor" href="#le_35-search-insert-position"></a>LE_35. Search Insert Position</h4>
<pre data-source-line="500"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">searchInsert</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-keyword">int</span> lo = <span class="hljs-number">0</span>, hi = nums.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span>(lo &lt;= hi) {
    <span class="hljs-keyword">int</span> mid = (hi - lo) / <span class="hljs-number">2</span> + lo;
    <span class="hljs-keyword">if</span>(nums[mid] &lt;= target) lo = mid + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> hi = mid - <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> lo;
}
</code></pre><h4 id="le_74-search-a-2d-matrix" data-source-line="511"><a class="markdownIt-Anchor" href="#le_74-search-a-2d-matrix"></a>LE_74. Search a 2D Matrix</h4>
<pre data-source-line="512"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">searchMatrix</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; &amp; matrix, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-keyword">if</span>(matrix.size() &gt; <span class="hljs-number">0</span> &amp;&amp; matrix[<span class="hljs-number">0</span>].size() &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">int</span> row = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">int</span> col = matrix[<span class="hljs-number">0</span>].size() - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span>(row &lt; matrix.size() &amp;&amp; col &gt;= <span class="hljs-number">0</span>) {	
      <span class="hljs-keyword">if</span>(matrix[row][col] == target) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">if</span>(matrix[row][col] &gt; target) col --;
      <span class="hljs-keyword">if</span>(matrix[row][col] &lt; target) row ++;
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_153-find-minimum-in-rotated-sorted-array" data-source-line="526"><a class="markdownIt-Anchor" href="#le_153-find-minimum-in-rotated-sorted-array"></a>LE_153. Find Minimum in Rotated Sorted Array</h4>
<pre data-source-line="527"><code class="hljs"><span class="hljs-comment">// distinct</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMin</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> lo = <span class="hljs-number">0</span>, hi = nums.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (lo &lt; hi) {
    <span class="hljs-keyword">if</span> (nums[lo] &lt; nums[hi]) <span class="hljs-keyword">return</span> nums[lo];
    <span class="hljs-keyword">int</span> mid = lo + (hi - lo) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (nums[lo] &lt;= nums[mid]) lo = mid + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> hi = mid;
  }
  <span class="hljs-keyword">return</span> nums[lo];
}
</code></pre><h4 id="le_154-find-minimum-in-rotated-sorted-array-ii" data-source-line="540"><a class="markdownIt-Anchor" href="#le_154-find-minimum-in-rotated-sorted-array-ii"></a>LE_154. Find Minimum in Rotated Sorted Array II</h4>
<pre data-source-line="541"><code class="hljs"><span class="hljs-comment">// contains duplicates</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMin</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> lo = <span class="hljs-number">0</span>, hi = nums.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (lo &lt; hi) {
    <span class="hljs-keyword">if</span> (nums[lo] &lt; nums[hi]) <span class="hljs-keyword">return</span> nums[lo];
    <span class="hljs-keyword">int</span> mid = lo + (hi - lo) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (nums[lo] &lt; nums[mid]) lo = mid + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[lo] &gt; nums[mid]) hi = mid;
    <span class="hljs-keyword">else</span> lo++;
  }
  <span class="hljs-keyword">return</span> nums[lo];
}
</code></pre><h4 id="le_162-find-peak-element" data-source-line="555"><a class="markdownIt-Anchor" href="#le_162-find-peak-element"></a>LE_162. Find Peak Element</h4>
<pre data-source-line="556"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findPeakElement</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">int</span> low = <span class="hljs-number">0</span>, high = nums.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (low &lt; high) {
    <span class="hljs-keyword">if</span> (low + <span class="hljs-number">1</span> == high) 
      <span class="hljs-keyword">return</span> nums[low] &gt; nums[high] ? low : high;
    <span class="hljs-keyword">int</span> mid = low + (high - low) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (nums[mid] &gt; nums[mid - <span class="hljs-number">1</span>] &amp;&amp; nums[mid] &gt; nums[mid + <span class="hljs-number">1</span>]) 
      <span class="hljs-keyword">return</span> mid;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &gt; nums[mid - <span class="hljs-number">1</span>] &amp;&amp; nums[mid] &lt; nums[mid + <span class="hljs-number">1</span>]) 
      low = mid + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> high = mid - <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> low;
}
</code></pre><h4 id="le_274-h-index" data-source-line="573"><a class="markdownIt-Anchor" href="#le_274-h-index"></a>LE_274. H-Index</h4>
<pre data-source-line="574"><code class="hljs"><span class="hljs-comment">// maximum value of h such that the </span>
<span class="hljs-comment">// given researcher has published at least h papers </span>
<span class="hljs-comment">// been cited at least h times.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">hIndex</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; citations)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, new_lv_cnt = <span class="hljs-number">0</span>, n = citations.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ref_cnt_map(n + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
    ref_cnt_map[min(citations[i], n)]++;
    <span class="hljs-keyword">if</span> (citations[i] &gt; res &amp;&amp; ++new_lv_cnt &gt; res)
      new_lv_cnt -= ref_cnt_map[++res];
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_275-h-index-ii" data-source-line="589"><a class="markdownIt-Anchor" href="#le_275-h-index-ii"></a>LE_275. H-Index II</h4>
<pre data-source-line="590"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">hIndex</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; citations)</span> </span>{
  <span class="hljs-keyword">int</span> n = citations.size(); <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> lo = <span class="hljs-number">0</span>, hi = n - <span class="hljs-number">1</span>, res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (lo &lt;= hi) {
    <span class="hljs-keyword">int</span> mid = lo + (hi - lo) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (citations[mid] &gt;= n - mid) {
      res = n - mid;
      hi = mid - <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span> lo = mid + <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_278-first-bad-version" data-source-line="605"><a class="markdownIt-Anchor" href="#le_278-first-bad-version"></a>LE_278. First Bad Version</h4>
<pre data-source-line="606"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">firstBadVersion</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> fr = <span class="hljs-number">1</span>, to = n, mid;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (fr &lt;= to) {
    mid = (to - fr) / <span class="hljs-number">2</span> + fr;
    <span class="hljs-keyword">if</span> (isBadVersion(mid)) {
      to = mid - <span class="hljs-number">1</span>;
      res = mid;
    } <span class="hljs-keyword">else</span> {
      fr = mid + <span class="hljs-number">1</span>;
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_378-kth-smallest-element-in-a-sorted-matrix" data-source-line="622"><a class="markdownIt-Anchor" href="#le_378-kth-smallest-element-in-a-sorted-matrix"></a>LE_378. Kth Smallest Element in a Sorted Matrix</h4>
<pre data-source-line="623"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kthSmallest</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">int</span> lo = matrix[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>], hi = matrix.back().back();
  <span class="hljs-keyword">while</span> (lo &lt; hi)  {
    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>, mid = lo + (hi - lo) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; v: matrix) 
      cnt += upper_bound(v.begin(), v.end(), mid) - v.begin();
    cnt &lt; k ? lo = mid + <span class="hljs-number">1</span> : hi = mid;
  }
  <span class="hljs-keyword">return</span> lo;
}
</code></pre><h3 id="13-two-pointers" data-source-line="635"><a class="markdownIt-Anchor" href="#13-two-pointers"></a><a href="#two-pointers">1.3 Two Pointers</a></h3>
<h4 id="le_11-container-with-most-water" data-source-line="636"><a class="markdownIt-Anchor" href="#le_11-container-with-most-water"></a>LE_11. Container With Most Water</h4>
<pre data-source-line="637"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxArea</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; height)</span> </span>{
  <span class="hljs-keyword">int</span> max_area = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = height.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span>(l &lt; r) {
    max_area = max(max_area, min(height[l], height[r]) * (r - l));
    <span class="hljs-keyword">if</span>(height[l] &lt; height[r]) l++;
    <span class="hljs-keyword">else</span> r--;
  }
  <span class="hljs-keyword">return</span> max_area;
}
</code></pre><h4 id="le_42-trapping-rain-water" data-source-line="649"><a class="markdownIt-Anchor" href="#le_42-trapping-rain-water"></a>LE_42. Trapping Rain Water</h4>
<pre data-source-line="650"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trap</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; height)</span> </span>{
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = height.size() - <span class="hljs-number">1</span>, level = <span class="hljs-number">0</span>, water = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(l &lt; r) {
    <span class="hljs-keyword">int</span> lower = height[height[l] &lt; height[r] ? l++ : r--];
    level = max(level, lower);
    water += level - lower;
  }
  <span class="hljs-keyword">return</span> water;
}
</code></pre><h4 id="le_407-trapping-rain-water-ii" data-source-line="661"><a class="markdownIt-Anchor" href="#le_407-trapping-rain-water-ii"></a>LE_407. Trapping Rain Water II</h4>
<pre data-source-line="662"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trapRainWater</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; heightMap)</span> </span>{
  <span class="hljs-keyword">if</span> (heightMap.size() &lt;= <span class="hljs-number">1</span> || heightMap[<span class="hljs-number">0</span>].size() &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> m = heightMap.size(), n = heightMap[<span class="hljs-number">0</span>].size(), res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt; visited(m, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(n, <span class="hljs-literal">false</span>));
  <span class="hljs-keyword">auto</span> comp = [&amp;] (<span class="hljs-keyword">const</span> <span class="hljs-built_in">array</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-number">3</span>&gt;&amp; a, <span class="hljs-keyword">const</span> <span class="hljs-built_in">array</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-number">3</span>&gt;&amp; b) 
    {<span class="hljs-keyword">return</span> a[<span class="hljs-number">0</span>] &gt;= b[<span class="hljs-number">0</span>];};
  priority_queue&lt;<span class="hljs-built_in">array</span>&lt;<span class="hljs-keyword">int</span>, 3&gt;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">array</span>&lt;<span class="hljs-keyword">int</span>, 3&gt;&gt;, <span class="hljs-keyword">decltype</span>(comp)&gt; pq(comp);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) {
    pq.push({heightMap[i][<span class="hljs-number">0</span>], i, <span class="hljs-number">0</span>});
    visited[i][<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;
    pq.push({heightMap[i][n - <span class="hljs-number">1</span>], i, n - <span class="hljs-number">1</span>});
    visited[i][n - <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
    pq.push({heightMap[<span class="hljs-number">0</span>][j], <span class="hljs-number">0</span>, j});
    visited[<span class="hljs-number">0</span>][j] = <span class="hljs-literal">true</span>;
    pq.push({heightMap[m - <span class="hljs-number">1</span>][j], m - <span class="hljs-number">1</span>, j});
    visited[m - <span class="hljs-number">1</span>][j] = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>} };
  <span class="hljs-keyword">while</span> (pq.size()) {
    <span class="hljs-keyword">auto</span> [h, x, y] = pq.top();
    pq.pop();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; dir: dirs) {
      <span class="hljs-keyword">int</span> ex = x + dir[<span class="hljs-number">0</span>], ey = y + dir[<span class="hljs-number">1</span>];
      <span class="hljs-keyword">if</span> (ex &gt;= <span class="hljs-number">0</span> &amp;&amp; ex &lt; m &amp;&amp; ey &gt;= <span class="hljs-number">0</span> &amp;&amp; ey &lt; n &amp;&amp; visited[ex][ey] == <span class="hljs-literal">false</span>) {
        <span class="hljs-keyword">if</span> (h &gt; heightMap[ex][ey]) res += h - heightMap[ex][ey];
        visited[ex][ey] = <span class="hljs-literal">true</span>;
        pq.push({max(h, heightMap[ex][ey]), ex, ey});
      }
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_75-sort-colors" data-source-line="698"><a class="markdownIt-Anchor" href="#le_75-sort-colors"></a>LE_75. Sort Colors</h4>
<pre data-source-line="699"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sortColors</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> f0 = <span class="hljs-number">0</span>, f1 = <span class="hljs-number">0</span>, f2 = nums.size() - <span class="hljs-number">1</span>;
  <span class="hljs-comment">// 0, 0, ..., 0, 1, 1, ..., 1, ?, ?, ..., ?, 2, 2, ... 2</span>
  <span class="hljs-comment">//               f0         f1            f2   </span>
  <span class="hljs-keyword">while</span> (f1 &lt;= f2) {
    <span class="hljs-keyword">if</span> (nums[f1] == <span class="hljs-number">0</span>) swap(nums[f1++], nums[f0++]);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[f1] == <span class="hljs-number">1</span>) f1++;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[f1] == <span class="hljs-number">2</span>) swap(nums[f1], nums[f2--]);
  }
}
</code></pre><h4 id="le_134-gas-station" data-source-line="711"><a class="markdownIt-Anchor" href="#le_134-gas-station"></a>LE_134. Gas Station</h4>
<pre data-source-line="712"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">canCompleteCircuit</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; gas, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; cost)</span> </span>{
  <span class="hljs-keyword">int</span> start = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> total = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> tank = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; gas.size(); i++) {
    tank += gas[i] - cost[i];
    <span class="hljs-keyword">if</span> (tank &lt; <span class="hljs-number">0</span>) {
      total += tank;
      start = i + <span class="hljs-number">1</span>;
      tank = <span class="hljs-number">0</span>;
    }
  }
  <span class="hljs-keyword">return</span> (total + tank &gt;= <span class="hljs-number">0</span>) ? start : <span class="hljs-number">-1</span>;
}
</code></pre><h4 id="le_228-summary-ranges" data-source-line="728"><a class="markdownIt-Anchor" href="#le_228-summary-ranges"></a>LE_228. Summary Ranges</h4>
<pre data-source-line="729"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addRes</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; res, <span class="hljs-keyword">int</span> begin, <span class="hljs-keyword">int</span> end)</span> </span>{
  <span class="hljs-keyword">if</span> (begin == end) res.push_back(to_string(begin));
  <span class="hljs-keyword">else</span> res.push_back(to_string(begin) + <span class="hljs-string">"-&gt;"</span> + to_string(end));
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; summaryRanges(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;
  <span class="hljs-keyword">int</span> begin = nums[<span class="hljs-number">0</span>], current = nums[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (nums[i] == current + <span class="hljs-number">1</span>) {
      current = nums[i];
    } <span class="hljs-keyword">else</span> {
      addRes(res, begin, current);
      begin = current = nums[i];
    }
  }
  addRes(res, begin, current);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_283-move-zeroes" data-source-line="751"><a class="markdownIt-Anchor" href="#le_283-move-zeroes"></a>LE_283. Move Zeroes</h4>
<pre data-source-line="752"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">moveZeroes</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r;
  <span class="hljs-keyword">while</span> (l &lt; nums.size() &amp;&amp; nums[l] != <span class="hljs-number">0</span>) l++;
  r = l + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (l &lt; nums.size() &amp;&amp; r &lt; nums.size()) {
    <span class="hljs-keyword">if</span> (nums[r] != <span class="hljs-number">0</span>) swap(nums[l++], nums[r]);
    r++;
  }
}
</code></pre><h4 id="le_324-wiggle-sort-ii" data-source-line="763"><a class="markdownIt-Anchor" href="#le_324-wiggle-sort-ii"></a>LE_324. Wiggle Sort II</h4>
<pre data-source-line="764"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">wiggleSort</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> n = nums.size();
  <span class="hljs-keyword">auto</span> mid_iter = nums.begin() + n / <span class="hljs-number">2</span>;
  nth_element(nums.begin(), mid_iter, nums.end());
  <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> A(i) nums[(1 + 2 * (i)) % (n | 0x1)]</span>
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>, k = n - <span class="hljs-number">1</span>, mid = *mid_iter;
  <span class="hljs-keyword">while</span> (j &lt;= k) {
    <span class="hljs-keyword">if</span> (A(j) &gt; mid) swap(A(i++), A(j++));
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (A(j) &lt; mid) swap(A(j), A(k--));
    <span class="hljs-keyword">else</span> j++;
  }
}
</code></pre><h4 id="le_334-increasing-triplet-subsequence" data-source-line="778"><a class="markdownIt-Anchor" href="#le_334-increasing-triplet-subsequence"></a>LE_334. Increasing Triplet Subsequence</h4>
<pre data-source-line="779"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> min1 = INT_MAX, min2 = INT_MAX;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) {
    <span class="hljs-keyword">if</span> (x &lt;= min1) min1 = x;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &lt;= min2) min2 = x;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h3 id="14-remove-elements" data-source-line="791"><a class="markdownIt-Anchor" href="#14-remove-elements"></a><a href="#remove-elements">1.4 Remove Elements</a></h3>
<h4 id="le_26-remove-duplicates-from-sorted-array" data-source-line="792"><a class="markdownIt-Anchor" href="#le_26-remove-duplicates-from-sorted-array"></a>LE_26. Remove Duplicates from Sorted Array</h4>
<pre data-source-line="793"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">removeDuplicates</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> shift_count = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.size(); i++)
    <span class="hljs-keyword">if</span> (nums[i] == nums[i - <span class="hljs-number">1</span>]) shift_count ++;
    <span class="hljs-keyword">else</span> nums[i - shift_count] = nums[i];
  <span class="hljs-keyword">return</span> nums.size() - shift_count;
}
</code></pre><h4 id="le_80-remove-duplicates-from-sorted-array-ii" data-source-line="802"><a class="markdownIt-Anchor" href="#le_80-remove-duplicates-from-sorted-array-ii"></a>LE_80. Remove Duplicates from Sorted Array II</h4>
<pre data-source-line="803"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">removeDuplicates</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> shift_count = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; nums.size(); i++)
    <span class="hljs-keyword">if</span> (nums[i] == nums[i - <span class="hljs-number">2</span> - shift_count]) shift_count ++;
    <span class="hljs-keyword">else</span> nums[i - shift_count] = nums[i];
  <span class="hljs-keyword">return</span> nums.size() - shift_count;
}
</code></pre><h4 id="le_27-remove-element" data-source-line="812"><a class="markdownIt-Anchor" href="#le_27-remove-element"></a>LE_27. Remove Element</h4>
<pre data-source-line="813"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">removeElement</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> val)</span> </span>{
  <span class="hljs-keyword">auto</span> iter = nums.begin(); 
  <span class="hljs-keyword">while</span> (iter != nums.end())
    <span class="hljs-keyword">if</span> (*iter == val) iter = nums.erase(iter);
    <span class="hljs-keyword">else</span> iter++;
  <span class="hljs-keyword">return</span> nums.size();
}
</code></pre><h3 id="16-in-place-hashing" data-source-line="822"><a class="markdownIt-Anchor" href="#16-in-place-hashing"></a><a href="#in-place-hashing">1.6 In-place Hashing</a></h3>
<h4 id="le_41-first-missing-positive" data-source-line="823"><a class="markdownIt-Anchor" href="#le_41-first-missing-positive"></a>LE_41. First Missing Positive</h4>
<pre data-source-line="824"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">firstMissingPositive</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++)
    <span class="hljs-keyword">while</span> (nums[i] &gt; <span class="hljs-number">0</span> &amp;&amp; nums[i] &lt;= nums.size()
           &amp;&amp; nums[nums[i] - <span class="hljs-number">1</span>] != nums[i])
      swap(nums[nums[i] - <span class="hljs-number">1</span>], nums[i]);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++)
    <span class="hljs-keyword">if</span> (nums[i] != i + <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> i + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> nums.size() + <span class="hljs-number">1</span>;
}
</code></pre><h4 id="le_287-find-the-duplicate-number" data-source-line="835"><a class="markdownIt-Anchor" href="#le_287-find-the-duplicate-number"></a>LE_287. Find the Duplicate Number</h4>
<pre data-source-line="836"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findDuplicate</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">while</span> (nums[i] != i + <span class="hljs-number">1</span>) {
      <span class="hljs-keyword">if</span> (nums[nums[i] - <span class="hljs-number">1</span>] == nums[i]) <span class="hljs-keyword">return</span> nums[i];
      swap(nums[i], nums[nums[i] - <span class="hljs-number">1</span>]);
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
} 
</code></pre><h4 id="le_442-find-all-duplicates-in-an-array" data-source-line="847"><a class="markdownIt-Anchor" href="#le_442-find-all-duplicates-in-an-array"></a>LE_442. Find All Duplicates in an Array</h4>
<pre data-source-line="848"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findDuplicates(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (nums[<span class="hljs-built_in">abs</span>(nums[i]) - <span class="hljs-number">1</span>] &lt; <span class="hljs-number">0</span>) res.push_back(<span class="hljs-built_in">abs</span>(nums[i]));
    <span class="hljs-keyword">else</span> nums[<span class="hljs-built_in">abs</span>(nums[i]) - <span class="hljs-number">1</span>] *= <span class="hljs-number">-1</span>;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_448-find-all-numbers-disappeared-in-an-array" data-source-line="858"><a class="markdownIt-Anchor" href="#le_448-find-all-numbers-disappeared-in-an-array"></a>LE_448. Find All Numbers Disappeared in an Array</h4>
<pre data-source-line="859"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findDisappearedNumbers(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">while</span> (nums[i] &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">auto</span> tar_idx = nums[i] - <span class="hljs-number">1</span>;
      <span class="hljs-keyword">if</span> (nums[tar_idx] &lt;= <span class="hljs-number">0</span>) {
        nums[tar_idx]--;
        nums[i] = <span class="hljs-number">0</span>;
      } <span class="hljs-keyword">else</span> {
        nums[i] = nums[tar_idx];
        nums[tar_idx] = <span class="hljs-number">-1</span>;
      }
    }
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) 
    <span class="hljs-keyword">if</span> (nums[i] == <span class="hljs-number">0</span>) res.push_back(i + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="17-matrix-reordertransform" data-source-line="879"><a class="markdownIt-Anchor" href="#17-matrix-reordertransform"></a><a href="#matrix-reordertransform">1.7 Matrix Reorder/Transform</a></h3>
<h4 id="le_48-rotate-image" data-source-line="880"><a class="markdownIt-Anchor" href="#le_48-rotate-image"></a>LE_48. Rotate Image</h4>
<pre data-source-line="881"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>{
  reverse(matrix.begin(), matrix.end());
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; matrix.size(); i++)
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; matrix.size(); j++)
      swap(matrix[i][j], matrix[j][i]);
}
</code></pre><h4 id="le_54-spiral-matrix" data-source-line="889"><a class="markdownIt-Anchor" href="#le_54-spiral-matrix"></a>LE_54. Spiral Matrix</h4>
<pre data-source-line="890"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; spiralOrder(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; matrix) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">if</span> (matrix.size() == <span class="hljs-number">0</span> || matrix[<span class="hljs-number">0</span>].size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;
  <span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>, m = matrix[<span class="hljs-number">0</span>].size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> b = <span class="hljs-number">0</span>, n = matrix.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a; i &lt;= m; i++) res.push_back(matrix[b][i]);
    <span class="hljs-keyword">if</span> (++b &gt; n) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = b; i &lt;= n; i++) res.push_back(matrix[i][m]);
    <span class="hljs-keyword">if</span> (--m &lt; a) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m; i &gt;= a; i--) res.push_back(matrix[n][i]);
    <span class="hljs-keyword">if</span> (--n &lt; b) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= b; i--) res.push_back(matrix[i][a]);
    <span class="hljs-keyword">if</span> (++a &gt; m) <span class="hljs-keyword">break</span>;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_59-spiral-matrix-ii" data-source-line="909"><a class="markdownIt-Anchor" href="#le_59-spiral-matrix-ii"></a>LE_59. Spiral Matrix II</h4>
<pre data-source-line="910"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; generateMatrix(<span class="hljs-keyword">int</span> N) {
  <span class="hljs-keyword">if</span> (N &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt;();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res(N, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(N, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>, m = res[<span class="hljs-number">0</span>].size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> b = <span class="hljs-number">0</span>, n = res.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = a; i &lt;= m; i++) res[b][i] = tmp++;
    <span class="hljs-keyword">if</span> (++b &gt; n) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = b; i &lt;= n; i++) res[i][m] = tmp++;
    <span class="hljs-keyword">if</span> (--m &lt; a) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m; i &gt;= a; i--) res[n][i] = tmp++;
    <span class="hljs-keyword">if</span> (--n &lt; b) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= b; i--) res[i][a] = tmp++;
    <span class="hljs-keyword">if</span> (++a &gt; m) <span class="hljs-keyword">break</span>;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_73-set-matrix-zeroes" data-source-line="930"><a class="markdownIt-Anchor" href="#le_73-set-matrix-zeroes"></a>LE_73. Set Matrix Zeroes</h4>
<pre data-source-line="931"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_row_0</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix, <span class="hljs-keyword">int</span> row_ind)</span> </span>{
  <span class="hljs-keyword">if</span> (row_ind &lt; matrix.size())
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; matrix[row_ind].size(); i++)
      matrix[row_ind][i] = <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set_col_0</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix, <span class="hljs-keyword">int</span> col_ind)</span> </span>{
  <span class="hljs-keyword">if</span> (matrix.size() &gt; <span class="hljs-number">0</span> &amp;&amp; matrix[<span class="hljs-number">0</span>].size() &gt; col_ind)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; matrix.size(); i++)
      matrix[i][col_ind] = <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setZeroes</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>{
  <span class="hljs-keyword">if</span> (matrix.size() == <span class="hljs-number">0</span> || matrix[<span class="hljs-number">0</span>].size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">bool</span> is_1st_row_0 = <span class="hljs-literal">false</span>, is_1st_col_0 = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; matrix[<span class="hljs-number">0</span>].size(); i++)
    <span class="hljs-keyword">if</span> (matrix[<span class="hljs-number">0</span>][i] == <span class="hljs-number">0</span>) is_1st_row_0 = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; matrix.size(); i++)
    <span class="hljs-keyword">if</span> (matrix[i][<span class="hljs-number">0</span>] == <span class="hljs-number">0</span>) is_1st_col_0 = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; matrix.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; matrix[i].size(); j++)
      <span class="hljs-keyword">if</span> (matrix[i][j] == <span class="hljs-number">0</span>) matrix[i][<span class="hljs-number">0</span>] = matrix[<span class="hljs-number">0</span>][j] = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; matrix[<span class="hljs-number">0</span>].size(); i++)
    <span class="hljs-keyword">if</span> (matrix[<span class="hljs-number">0</span>][i] == <span class="hljs-number">0</span>) set_col_0(matrix, i);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; matrix.size(); i++)
    <span class="hljs-keyword">if</span> (matrix[i][<span class="hljs-number">0</span>] == <span class="hljs-number">0</span>) set_row_0(matrix, i);
  <span class="hljs-keyword">if</span> (is_1st_row_0) set_row_0(matrix, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (is_1st_col_0) set_col_0(matrix, <span class="hljs-number">0</span>);
}
</code></pre><h4 id="le_498-diagonal-traverse" data-source-line="962"><a class="markdownIt-Anchor" href="#le_498-diagonal-traverse"></a>LE_498. Diagonal Traverse</h4>
<pre data-source-line="963"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findDiagonalOrder(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; mat) {
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>, m = mat.size(), n = mat[<span class="hljs-number">0</span>].size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res(m * n); <span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>; <span class="hljs-keyword">bool</span> up = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">while</span> (i &lt; m &amp;&amp; j &lt; n) {
    <span class="hljs-keyword">if</span> (up) {
      <span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; j &lt; n - <span class="hljs-number">1</span>) res[pos++] = mat[i--][j++];
      res[pos++] = mat[i][j];
      j == n - <span class="hljs-number">1</span> ? i++ : j++;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">while</span> (i &lt; m - <span class="hljs-number">1</span> &amp;&amp; j &gt; <span class="hljs-number">0</span>) res[pos++] = mat[i++][j--];
      res[pos++] = mat[i][j];
      i == m - <span class="hljs-number">1</span> ? j++ : i++;
    }
    up = !up;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="18-subarraysubsequence" data-source-line="982"><a class="markdownIt-Anchor" href="#18-subarraysubsequence"></a><a href="#subarraysubsequence">1.8 Subarray/Subsequence</a></h3>
<h4 id="le_53-maximum-subarray" data-source-line="983"><a class="markdownIt-Anchor" href="#le_53-maximum-subarray"></a>LE_53. Maximum Subarray</h4>
<pre data-source-line="984"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxSubArray</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> maxSum = INT_MIN;
  <span class="hljs-keyword">int</span> curSum = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    curSum += nums[i];
    maxSum = max(curSum, maxSum);
    curSum = max(curSum, <span class="hljs-number">0</span>);
  }
  <span class="hljs-keyword">return</span> maxSum;
}
</code></pre><h4 id="le_128-longest-consecutive-sequence" data-source-line="996"><a class="markdownIt-Anchor" href="#le_128-longest-consecutive-sequence"></a>LE_128. Longest Consecutive Sequence</h4>
<pre data-source-line="997"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">longestConsecutive</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">set</span>(nums.begin(), nums.end());
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(<span class="hljs-built_in">set</span>.size() &gt; res) {
    <span class="hljs-keyword">int</span> tmp = *<span class="hljs-built_in">set</span>.begin();
    <span class="hljs-keyword">int</span> l = tmp, r = tmp;
    <span class="hljs-built_in">set</span>.erase(tmp);
    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">set</span>.find(l - <span class="hljs-number">1</span>) != <span class="hljs-built_in">set</span>.end()) { <span class="hljs-built_in">set</span>.erase(l - <span class="hljs-number">1</span>); l--; }
    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">set</span>.find(r + <span class="hljs-number">1</span>) != <span class="hljs-built_in">set</span>.end()) { <span class="hljs-built_in">set</span>.erase(r + <span class="hljs-number">1</span>); r++; }
    res = max(res, r - l + <span class="hljs-number">1</span>);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_152-maximum-product-subarray" data-source-line="1012"><a class="markdownIt-Anchor" href="#le_152-maximum-product-subarray"></a>LE_152. Maximum Product Subarray</h4>
<pre data-source-line="1013"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProduct</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> highest = nums.front();
  <span class="hljs-comment">// min_max will store the min and max product up until the current point</span>
  pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; min_max{<span class="hljs-number">1</span>, <span class="hljs-number">1</span>};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> n : nums) {
    <span class="hljs-comment">// Handles keeping track of the min and max and also the case of resetting</span>
    <span class="hljs-comment">// the product if n is zero.</span>
    min_max = minmax({n, min_max.first * n, min_max.second * n});
    <span class="hljs-comment">// Check our newest candidate against the current best</span>
    highest = max(highest, min_max.second);
  }
  <span class="hljs-keyword">return</span> highest;
}
</code></pre><h4 id="le_349-intersection-of-two-arrays" data-source-line="1028"><a class="markdownIt-Anchor" href="#le_349-intersection-of-two-arrays"></a>LE_349. Intersection of Two Arrays</h4>
<pre data-source-line="1029"><code class="hljs"><span class="hljs-comment">// distinct</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; intersection(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2) {
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">set</span>(nums1.begin(), nums1.end()), res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; n: nums2) <span class="hljs-keyword">if</span> (<span class="hljs-built_in">set</span>.find(n) != <span class="hljs-built_in">set</span>.end()) res.insert(n);
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(res.begin(), res.end());
}
</code></pre><h4 id="le_350-intersection-of-two-arrays-ii" data-source-line="1037"><a class="markdownIt-Anchor" href="#le_350-intersection-of-two-arrays-ii"></a>LE_350. Intersection of Two Arrays II</h4>
<pre data-source-line="1038"><code class="hljs"><span class="hljs-comment">// including dups</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; intersect(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; mp;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; n: nums1) mp[n]++;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; n: nums2) <span class="hljs-keyword">if</span> (mp.find(n) != mp.end() &amp;&amp; mp[n]-- &gt; <span class="hljs-number">0</span>) 
    res.push_back(n);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_376-wiggle-subsequence" data-source-line="1049"><a class="markdownIt-Anchor" href="#le_376-wiggle-subsequence"></a>LE_376. Wiggle Subsequence</h4>
<pre data-source-line="1050"><code class="hljs"><span class="hljs-comment">// return the length of the longest wiggle subsequence of nums.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">wiggleMaxLength</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> up = <span class="hljs-number">1</span>, dn = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (nums[i] &gt; nums[i - <span class="hljs-number">1</span>]) up = dn + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[i] &lt; nums[i - <span class="hljs-number">1</span>]) dn = up + <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> max(up, dn);
}
</code></pre><h4 id="le_413-arithmetic-slices" data-source-line="1061"><a class="markdownIt-Anchor" href="#le_413-arithmetic-slices"></a>LE_413. Arithmetic Slices</h4>
<pre data-source-line="1062"><code class="hljs"><span class="hljs-comment">// length</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numberOfArithmeticSlices</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, cnt = <span class="hljs-number">0</span>, n = nums.size();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) {
    <span class="hljs-keyword">if</span> (i &lt; n &amp;&amp; nums[i] - nums[i - <span class="hljs-number">1</span>] == nums[i - <span class="hljs-number">1</span>] - nums[i - <span class="hljs-number">2</span>]) cnt++;
    <span class="hljs-keyword">else</span> res += (cnt * (cnt + <span class="hljs-number">1</span>)) / <span class="hljs-number">2</span>, cnt = <span class="hljs-number">0</span>;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_446-arithmetic-slices-ii-subsequence" data-source-line="1074"><a class="markdownIt-Anchor" href="#le_446-arithmetic-slices-ii-subsequence"></a>LE_446. Arithmetic Slices II - Subsequence</h4>
<pre data-source-line="1075"><code class="hljs"><span class="hljs-comment">// count</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numberOfArithmeticSlices</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">long</span> res = <span class="hljs-number">0</span>, n = nums.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">long</span>, <span class="hljs-keyword">long</span>&gt;&gt; dp(n);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i; j++) {
      <span class="hljs-keyword">long</span> diff = <span class="hljs-number">0l</span> + nums[i] - nums[j];
      dp[i][diff]++;
      <span class="hljs-keyword">if</span> (dp[j].count(diff)) {
        dp[i][diff] += dp[j][diff];
        res += dp[j][diff];
      }
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_447-number-of-boomerangs" data-source-line="1093"><a class="markdownIt-Anchor" href="#le_447-number-of-boomerangs"></a>LE_447. Number of Boomerangs</h4>
<pre data-source-line="1094"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numberOfBoomerangs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; points)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; points.size(); i++) {
    <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; dist_cnt;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; points.size(); j++) 
      dist_cnt[(points[i][<span class="hljs-number">0</span>]-points[j][<span class="hljs-number">0</span>]) * (points[i][<span class="hljs-number">0</span>]-points[j][<span class="hljs-number">0</span>]) +
               (points[i][<span class="hljs-number">1</span>]-points[j][<span class="hljs-number">1</span>]) * (points[i][<span class="hljs-number">1</span>]-points[j][<span class="hljs-number">1</span>])]++;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> [k, v]: dist_cnt) res += v * (v - <span class="hljs-number">1</span>);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_491-non-decreasing-subsequences" data-source-line="1107"><a class="markdownIt-Anchor" href="#le_491-non-decreasing-subsequences"></a>LE_491. Non-decreasing Subsequences</h4>
<pre data-source-line="1108"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; findSubsequences(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; seq;
  backtrack(nums, res, seq, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>(res.begin(), res.end());
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; seq, <span class="hljs-keyword">int</span> pos)</span> </span>{
  <span class="hljs-keyword">if</span> (pos == nums.size()) {
    <span class="hljs-keyword">if</span> (seq.size() &gt;= <span class="hljs-number">2</span>) res.insert(seq); 
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">if</span> (seq.size() == <span class="hljs-number">0</span> || seq.back() &lt;= nums[pos]) {
    seq.push_back(nums[pos]);
    backtrack(nums, res, seq, pos + <span class="hljs-number">1</span>);
    seq.pop_back();
  }
  backtrack(nums, res, seq, pos + <span class="hljs-number">1</span>);
}
</code></pre><h3 id="19-intervals" data-source-line="1129"><a class="markdownIt-Anchor" href="#19-intervals"></a><a href="#intervals">1.9 Intervals</a></h3>
<h4 id="le_56-merge-intervals" data-source-line="1130"><a class="markdownIt-Anchor" href="#le_56-merge-intervals"></a>LE_56. Merge Intervals</h4>
<pre data-source-line="1131"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; merge(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt;&amp; intervals) {
  sort(intervals.begin(), intervals.end(), 
    [](<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; a, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; b) { 
      <span class="hljs-keyword">return</span> a[<span class="hljs-number">0</span>] &lt; b[<span class="hljs-number">0</span>];
    }
  );
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; intervals.size(); i++)
  <span class="hljs-keyword">if</span> (res.size() == <span class="hljs-number">0</span> || res.back()[<span class="hljs-number">1</span>] &lt; intervals[i][<span class="hljs-number">0</span>])
    res.push_back(intervals[i]);
  <span class="hljs-keyword">else</span> res.back()[<span class="hljs-number">1</span>] = max(res.back()[<span class="hljs-number">1</span>], intervals[i][<span class="hljs-number">1</span>]);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_57-insert-interval" data-source-line="1146"><a class="markdownIt-Anchor" href="#le_57-insert-interval"></a>LE_57. Insert Interval</h4>
<pre data-source-line="1147"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; insert(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; intervals, 
                           <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; newInterval) {
  <span class="hljs-keyword">auto</span> it = intervals.begin();
  <span class="hljs-keyword">bool</span> is_inserted = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">while</span> (it != intervals.end()) {
    <span class="hljs-keyword">if</span> (newInterval[<span class="hljs-number">0</span>] &lt; (*it)[<span class="hljs-number">0</span>]) {
      intervals.insert(it, newInterval);
      is_inserted = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">break</span>;
    }
    it++;
  }
  <span class="hljs-keyword">if</span> (is_inserted == <span class="hljs-literal">false</span>) intervals.push_back(newInterval);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res = {intervals[<span class="hljs-number">0</span>]};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; intervals.size(); i++) {
    <span class="hljs-keyword">if</span> (intervals[i][<span class="hljs-number">0</span>] &gt; res.back()[<span class="hljs-number">1</span>]) res.push_back(intervals[i]);
    <span class="hljs-keyword">else</span> res.back()[<span class="hljs-number">1</span>] = max(intervals[i][<span class="hljs-number">1</span>], res.back()[<span class="hljs-number">1</span>]);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_435-non-overlapping-intervals" data-source-line="1169"><a class="markdownIt-Anchor" href="#le_435-non-overlapping-intervals"></a>LE_435. Non-overlapping Intervals</h4>
<pre data-source-line="1170"><code class="hljs"><span class="hljs-comment">// cnt need to remove</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">eraseOverlapIntervals</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; intervals)</span> </span>{
  <span class="hljs-keyword">auto</span> comp = [](<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; a, <span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; b) {
    <span class="hljs-keyword">return</span> a[<span class="hljs-number">1</span>] &lt; b[<span class="hljs-number">1</span>];
  };
  sort(intervals.begin(), intervals.end(), comp);
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, prv = INT_MIN;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; itv: intervals) itv[<span class="hljs-number">0</span>] &lt; prv ? res++ : prv = itv[<span class="hljs-number">1</span>];
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_436-find-right-interval" data-source-line="1182"><a class="markdownIt-Anchor" href="#le_436-find-right-interval"></a>LE_436. Find Right Interval</h4>
<pre data-source-line="1183"><code class="hljs"><span class="hljs-comment">// Input: intervals = [[3,4],[2,3],[1,2]]</span>
<span class="hljs-comment">// Output: [-1,0,1]</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findRightInterval(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; intervals) {
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; fr_ind_map(intervals.size());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res(intervals.size());
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; intervals.size(); i++)
    fr_ind_map[i] = {intervals[i][<span class="hljs-number">0</span>], i};
  sort(fr_ind_map.begin(), fr_ind_map.end());
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; intervals.size(); i++) {
    <span class="hljs-keyword">auto</span> it = lower_bound(fr_ind_map.begin(), fr_ind_map.end(), 
                          make_pair(intervals[i][<span class="hljs-number">1</span>], <span class="hljs-number">0</span>));
    res[i] = it == fr_ind_map.end() ? <span class="hljs-number">-1</span> : it-&gt;second;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_452-minimum-number-of-arrows-to-burst-balloons" data-source-line="1200"><a class="markdownIt-Anchor" href="#le_452-minimum-number-of-arrows-to-burst-balloons"></a>LE_452. Minimum Number of Arrows to Burst Balloons</h4>
<pre data-source-line="1201"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMinArrowShots</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; points)</span> </span>{
  sort(points.begin(), points.end());
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>, bound = points[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; p: points) 
    <span class="hljs-keyword">if</span> (p[<span class="hljs-number">0</span>] &gt; bound) res++, bound = p[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">else</span> bound = min(bound, p[<span class="hljs-number">1</span>]);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="1a-big-number" data-source-line="1211"><a class="markdownIt-Anchor" href="#1a-big-number"></a><a href="#big-number">1.A Big Number</a></h3>
<h4 id="le_66-plus-one" data-source-line="1212"><a class="markdownIt-Anchor" href="#le_66-plus-one"></a>LE_66. Plus One</h4>
<pre data-source-line="1213"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; plusOne(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; digits) {
  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span>  i = digits.size() - <span class="hljs-number">1</span>; i&gt;=<span class="hljs-number">0</span>; i--){
    digits[i] += carry;
    <span class="hljs-keyword">if</span>(digits[i] == <span class="hljs-number">10</span>) carry = <span class="hljs-number">1</span>, digits[i] = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">else</span> carry = <span class="hljs-number">0</span>;
  }
  <span class="hljs-keyword">if</span>(carry) digits.insert(digits.begin(), carry);
  <span class="hljs-keyword">return</span> digits;
}
</code></pre><h3 id="1b-rectangle" data-source-line="1225"><a class="markdownIt-Anchor" href="#1b-rectangle"></a><a href="#rectangle">1.B Rectangle</a></h3>
<h4 id="le_84-largest-rectangle-in-histogram" data-source-line="1226"><a class="markdownIt-Anchor" href="#le_84-largest-rectangle-in-histogram"></a>LE_84. Largest Rectangle in Histogram</h4>
<pre data-source-line="1227"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">largestRectangleArea</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; heights)</span> </span>{
  <span class="hljs-keyword">int</span> n = heights.size();
  <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; h_left(n, <span class="hljs-number">-1</span>), h_right(n, n);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) {
    <span class="hljs-keyword">int</span> p = i - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (p &gt;= <span class="hljs-number">0</span> &amp;&amp; heights[p] &gt;= heights[i]) p = h_left[p];
    h_left[i] = p;
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">int</span> p = i + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (p &lt; n &amp;&amp; heights[p] &gt;= heights[i]) p = h_right[p];
    h_right[i] = p;
  }
  <span class="hljs-keyword">int</span> max_area = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)
    max_area = max(max_area, heights[i] * (h_right[i] - h_left[i] - <span class="hljs-number">1</span>));
  <span class="hljs-keyword">return</span> max_area;
}
</code></pre><h4 id="le_85-maximal-rectangle" data-source-line="1248"><a class="markdownIt-Anchor" href="#le_85-maximal-rectangle"></a>LE_85. Maximal Rectangle</h4>
<pre data-source-line="1249"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maximalRectangle</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; matrix)</span> </span>{
  <span class="hljs-keyword">if</span> (matrix.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> m = matrix.size(), n = matrix[<span class="hljs-number">0</span>].size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; left(n, <span class="hljs-number">0</span>), right(n, n), height(n, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">int</span> max_area = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) {
    <span class="hljs-keyword">int</span> cur_left = <span class="hljs-number">0</span>, cur_right = n;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
      <span class="hljs-keyword">if</span> (matrix[i][j] == <span class="hljs-string">'1'</span>) height[j]++;
      <span class="hljs-keyword">else</span> height[j] = <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
      <span class="hljs-keyword">if</span> (matrix[i][j] == <span class="hljs-string">'1'</span>) left[j] = max(left[j], cur_left);
      <span class="hljs-keyword">else</span> { left[j] = <span class="hljs-number">0</span>; cur_left = j + <span class="hljs-number">1</span>; }
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">if</span> (matrix[i][j] == <span class="hljs-string">'1'</span>) right[j] = min(right[j], cur_right);
      <span class="hljs-keyword">else</span> { right[j] = n; cur_right = j; }
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) 
      max_area = max(max_area, (right[j] - left[j]) * height[j]);
  }
  <span class="hljs-keyword">return</span> max_area;
}
</code></pre><h4 id="le_218-the-skyline-problem" data-source-line="1275"><a class="markdownIt-Anchor" href="#le_218-the-skyline-problem"></a>LE_218. The Skyline Problem</h4>
<pre data-source-line="1276"><code class="hljs"><span class="hljs-comment">//     *-----</span>
<span class="hljs-comment">//     |     |</span>
<span class="hljs-comment">// *---      |</span>
<span class="hljs-comment">// |         *----- </span>
<span class="hljs-comment">// |               |</span>
<span class="hljs-comment">// |               *</span>
<span class="hljs-comment">// buildings[i] = [lefti, righti, heighti]</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; getSkyline(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; buildings) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-built_in">multiset</span>&lt;<span class="hljs-keyword">int</span>&gt; pq{<span class="hljs-number">0</span>};
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span> , <span class="hljs-keyword">int</span>&gt;&gt; points;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; b: buildings) {
      points.push_back({b[<span class="hljs-number">0</span>], -b[<span class="hljs-number">2</span>]});
      points.push_back({b[<span class="hljs-number">1</span>], b[<span class="hljs-number">2</span>]});
  }
  sort(points.begin(), points.end());
  <span class="hljs-keyword">int</span> cur_h = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; points.size(); i++) {
    <span class="hljs-keyword">int</span> cur_p_x = points[i].first;
    <span class="hljs-keyword">int</span> cur_p_h = points[i].second;
    <span class="hljs-keyword">if</span> (cur_p_h &lt; <span class="hljs-number">0</span>) pq.insert(-cur_p_h);
    <span class="hljs-keyword">else</span> pq.erase(pq.find(cur_p_h));
    <span class="hljs-keyword">auto</span> fallback_p = *pq.rbegin();
    <span class="hljs-keyword">if</span> (cur_h != fallback_p) {
      cur_h = fallback_p;
      res.push_back({cur_p_x, cur_h});
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_223-rectangle-area" data-source-line="1308"><a class="markdownIt-Anchor" href="#le_223-rectangle-area"></a>LE_223. Rectangle Area</h4>
<pre data-source-line="1309"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">computeArea</span><span class="hljs-params">(<span class="hljs-keyword">int</span> A, <span class="hljs-keyword">int</span> B, <span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> D, 
                <span class="hljs-keyword">int</span> E, <span class="hljs-keyword">int</span> F, <span class="hljs-keyword">int</span> G, <span class="hljs-keyword">int</span> H)</span> </span>{
  <span class="hljs-keyword">int</span> a1 = (C - A) * (D - B), a2 = (G - E) * (H - F);
  <span class="hljs-keyword">if</span> (C &lt;= E || A &gt;= G || B &gt;= H || D &lt;= F) <span class="hljs-keyword">return</span> a1 + a2;
  <span class="hljs-keyword">return</span> a1 - (min(G, C) - max(E, A)) * (min(D, H) - max(B, F)) + a2;
}
</code></pre><h4 id="le_363-max-sum-of-rectangle-no-larger-than-k" data-source-line="1317"><a class="markdownIt-Anchor" href="#le_363-max-sum-of-rectangle-no-larger-than-k"></a>LE_363. Max Sum of Rectangle No Larger Than K</h4>
<pre data-source-line="1318"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxSumSubmatrix</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (matrix.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> res = INT_MIN;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>; l &lt; matrix[<span class="hljs-number">0</span>].size(); l++) {
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sums(matrix.size(), <span class="hljs-number">0</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> r = l; r &lt; matrix[<span class="hljs-number">0</span>].size(); r++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; sums.size(); i++) sums[i] += matrix[i][r];
      <span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt; accu_set;
      accu_set.insert(<span class="hljs-number">0</span>);
      <span class="hljs-keyword">int</span> cur_accu = <span class="hljs-number">0</span>, cur_res = INT_MIN;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> s: sums) {
        cur_accu += s;
        <span class="hljs-keyword">auto</span> it = accu_set.lower_bound(cur_accu - k);
        <span class="hljs-keyword">if</span> (it != accu_set.end()) cur_res = max(cur_res, cur_accu - *it);
        accu_set.insert(cur_accu);
      }
      res = max(res, cur_res);
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_391-perfect-rectangle" data-source-line="1341"><a class="markdownIt-Anchor" href="#le_391-perfect-rectangle"></a>LE_391. Perfect Rectangle</h4>
<pre data-source-line="1342"><code class="hljs"><span class="hljs-comment">// rectangles[i] = [xi, yi, ai, bi] </span>
<span class="hljs-comment">// bottom-left is (xi, yi) and the top-right is (ai, bi).</span>
<span class="hljs-comment">// Return true if all the rectangles together </span>
<span class="hljs-comment">// form an exact cover of a rectangular region.</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isRectangleCover</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; rectangles)</span> </span>{
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; pt_cnt_map;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; rec: rectangles) {
    pt_cnt_map[rec[<span class="hljs-number">0</span>]][rec[<span class="hljs-number">1</span>]]++;
    pt_cnt_map[rec[<span class="hljs-number">2</span>]][rec[<span class="hljs-number">3</span>]]++;
    pt_cnt_map[rec[<span class="hljs-number">0</span>]][rec[<span class="hljs-number">3</span>]]--;
    pt_cnt_map[rec[<span class="hljs-number">2</span>]][rec[<span class="hljs-number">1</span>]]--;
  }
  <span class="hljs-keyword">int</span> anchor_cnt = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [x, y_cnt]: pt_cnt_map) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [y, cnt]: y_cnt) {
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">abs</span>(cnt) == <span class="hljs-number">1</span>) anchor_cnt++;
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">abs</span>(cnt) &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  }
  <span class="hljs-keyword">return</span> anchor_cnt == <span class="hljs-number">4</span>;
}
</code></pre><h4 id="le_492-construct-the-rectangle" data-source-line="1365"><a class="markdownIt-Anchor" href="#le_492-construct-the-rectangle"></a>LE_492. Construct the Rectangle</h4>
<pre data-source-line="1366"><code class="hljs"><span class="hljs-comment">// Input: area = 4</span>
<span class="hljs-comment">// Output: [2,2]</span>
<span class="hljs-comment">// Input: area = 37</span>
<span class="hljs-comment">// Output: [37,1]</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; constructRectangle(<span class="hljs-keyword">int</span> area) {
  <span class="hljs-keyword">int</span> cur = <span class="hljs-built_in">sqrt</span>(area);
  <span class="hljs-keyword">while</span> (area % cur) cur++;
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;{max(cur, area / cur), min(cur, area / cur)};
}
</code></pre><h3 id="1c-in-place-reorder" data-source-line="1377"><a class="markdownIt-Anchor" href="#1c-in-place-reorder"></a><a href="#in-place-reorder">1.C In-place Reorder</a></h3>
<h4 id="le_88-merge-sorted-array" data-source-line="1378"><a class="markdownIt-Anchor" href="#le_88-merge-sorted-array"></a>LE_88. Merge Sorted Array</h4>
<pre data-source-line="1379"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-keyword">int</span> m, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2, <span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> pos1 = m - <span class="hljs-number">1</span>, pos2 = n - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m + n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> &amp;&amp; pos2 &gt;= <span class="hljs-number">0</span>; i--)
    pos1 &gt;= <span class="hljs-number">0</span> &amp;&amp; nums1[pos1] &gt; nums2[pos2] ? 
      nums1[i] = nums1[pos1--] : nums1[i] = nums2[pos2--];
}
</code></pre><h3 id="1d-subset" data-source-line="1387"><a class="markdownIt-Anchor" href="#1d-subset"></a><a href="#subset">1.D Subset</a></h3>
<h4 id="le_90-subsets-ii" data-source-line="1388"><a class="markdownIt-Anchor" href="#le_90-subsets-ii"></a>LE_90. Subsets II</h4>
<pre data-source-line="1389"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; subsetsWithDup(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  sort(nums.begin(), nums.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res{{}};
  <span class="hljs-keyword">int</span> size = <span class="hljs-number">0</span>, ind = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    ind = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; nums[i] == nums[i - <span class="hljs-number">1</span>]) ind = size;
    size = res.size();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = ind; j &lt; size; j++) {
      <span class="hljs-keyword">auto</span> tmp = res[j];
      tmp.push_back(nums[i]);
      res.push_back(tmp);
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_368-largest-divisible-subset" data-source-line="1407"><a class="markdownIt-Anchor" href="#le_368-largest-divisible-subset"></a>LE_368. Largest Divisible Subset</h4>
<pre data-source-line="1408"><code class="hljs"><span class="hljs-comment">// Given num set, return the largest pair subset</span>
<span class="hljs-comment">// (answer[i], answer[j]) </span>
<span class="hljs-comment">// answer[i] % answer[j] == 0, or</span>
<span class="hljs-comment">// answer[j] % answer[i] == 0</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; largestDivisibleSubset(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-keyword">int</span> ind = <span class="hljs-number">0</span>;
  sort(nums.begin(), nums.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; dp(nums.size(), <span class="hljs-number">1</span>), route(nums.size());
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) route[i] = i;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i; j++) {
      <span class="hljs-keyword">if</span> (nums[i] % nums[j] == <span class="hljs-number">0</span> &amp;&amp; dp[i] &lt; dp[j] + <span class="hljs-number">1</span>) {
        dp[i] = dp[j] + <span class="hljs-number">1</span>; route[i] = j;
        <span class="hljs-keyword">if</span> (dp[i] &gt; dp[ind]) ind = i;
      }
    }
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">while</span> (ind != route[ind]) 
    res.push_back(nums[ind]), ind = route[ind];
  res.push_back(nums[ind]);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="1f-sliding-window" data-source-line="1434"><a class="markdownIt-Anchor" href="#1f-sliding-window"></a><a href="#sliding-window">1.F Sliding Window</a></h3>
<h4 id="le_480-sliding-window-median" data-source-line="1435"><a class="markdownIt-Anchor" href="#le_480-sliding-window-median"></a>LE_480. Sliding Window Median</h4>
<pre data-source-line="1436"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; medianSlidingWindow(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; res;
  <span class="hljs-built_in">multiset</span>&lt;<span class="hljs-keyword">double</span>&gt; mset(nums.begin(), nums.begin() + k);
  <span class="hljs-keyword">auto</span> mit = next(mset.begin(), k / <span class="hljs-number">2</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = k; i &lt;= nums.size(); i++) {
    res.push_back((*mit + *prev(mit, <span class="hljs-number">1</span> - (k&amp;<span class="hljs-number">1</span>))) / <span class="hljs-number">2</span>);
    <span class="hljs-keyword">if</span> (i &lt; nums.size()) {
      mset.insert(nums[i]);
      <span class="hljs-keyword">if</span> (nums[i] &lt; *mit) mit--;
      <span class="hljs-keyword">if</span> (nums[i - k] &lt;= *mit) mit++;
      mset.erase(mset.find(nums[i - k]));
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_239-sliding-window-maximum" data-source-line="1453"><a class="markdownIt-Anchor" href="#le_239-sliding-window-maximum"></a>LE_239. Sliding Window Maximum</h4>
<pre data-source-line="1454"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; maxSlidingWindow(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-built_in">deque</span>&lt;<span class="hljs-keyword">int</span>&gt; dq;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (dq.size() &gt; <span class="hljs-number">0</span> &amp;&amp; dq.front() == i - k) dq.pop_front();
    <span class="hljs-keyword">while</span> (dq.size() &gt; <span class="hljs-number">0</span> &amp;&amp; nums[dq.back()] &lt;= nums[i]) dq.pop_back();
    dq.push_back(i);
    <span class="hljs-keyword">if</span> (i &gt;= k - <span class="hljs-number">1</span>) res.push_back(nums[dq.front()]);
  }
  <span class="hljs-keyword">return</span> res;
}

</code></pre><h3 id="1g-lhs-rhs" data-source-line="1468"><a class="markdownIt-Anchor" href="#1g-lhs-rhs"></a><a href="#lhs-rhs">1.G LHS RHS</a></h3>
<h4 id="le_135-candy" data-source-line="1469"><a class="markdownIt-Anchor" href="#le_135-candy"></a>LE_135. Candy</h4>
<pre data-source-line="1470"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">candy</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; ratings)</span> </span>{
  <span class="hljs-keyword">if</span> (ratings.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; candies(ratings.size(), <span class="hljs-number">1</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; ratings.size(); i++)
    <span class="hljs-keyword">if</span> (ratings[i] &gt; ratings[i - <span class="hljs-number">1</span>])
      candies[i] = candies[i - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ratings.size() - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--)
    <span class="hljs-keyword">if</span> (ratings[i] &gt; ratings[i + <span class="hljs-number">1</span>])
      candies[i] = max(candies[i], <span class="hljs-number">1</span> + candies[i + <span class="hljs-number">1</span>]);
  <span class="hljs-keyword">return</span> accumulate(candies.begin(), candies.end(), <span class="hljs-number">0</span>);
}
</code></pre><h4 id="le_475-heaters" data-source-line="1483"><a class="markdownIt-Anchor" href="#le_475-heaters"></a>LE_475. Heaters</h4>
<pre data-source-line="1484"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findRadius</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; houses, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; heaters)</span> </span>{
  sort(houses.begin(), houses.end());
  sort(heaters.begin(), heaters.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res(houses.size(), INT_MAX);
  <span class="hljs-keyword">int</span> ho = <span class="hljs-number">0</span>, he = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (ho &lt; houses.size() &amp;&amp; he &lt; heaters.size())
    <span class="hljs-keyword">if</span> (houses[ho] &lt;= heaters[he]) 
      res[ho] = heaters[he] - houses[ho], ho++;
    <span class="hljs-keyword">else</span> he++;
  ho = houses.size() - <span class="hljs-number">1</span>, he = heaters.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (ho &gt;= <span class="hljs-number">0</span> &amp;&amp; he &gt;= <span class="hljs-number">0</span>)
    <span class="hljs-keyword">if</span> (houses[ho] &gt;= heaters[he]) 
      res[ho] = min(res[ho], houses[ho] - heaters[he]), ho--;
    <span class="hljs-keyword">else</span> he--;
  <span class="hljs-keyword">return</span> *max_element(res.begin(), res.end());
}
</code></pre><h3 id="1h-gapduplicatebucket" data-source-line="1502"><a class="markdownIt-Anchor" href="#1h-gapduplicatebucket"></a><a href="#gapduplicatebucket">1.H Gap/Duplicate/Bucket</a></h3>
<h4 id="le_164-maximum-gap" data-source-line="1503"><a class="markdownIt-Anchor" href="#le_164-maximum-gap"></a>LE_164. Maximum Gap</h4>
<pre data-source-line="1504"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Bucket</span> {</span>
  <span class="hljs-keyword">int</span> min_val = numeric_limits&lt;<span class="hljs-keyword">int</span>&gt;::max();
  <span class="hljs-keyword">int</span> max_val = numeric_limits&lt;<span class="hljs-keyword">int</span>&gt;::min();
};

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maximumGap</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> min_val = *min_element(nums.begin(), nums.end());
  <span class="hljs-keyword">int</span> max_val = *max_element(nums.begin(), nums.end());
  <span class="hljs-keyword">int</span> bucket_sz = max(<span class="hljs-number">1</span>, (max_val - min_val) / ((<span class="hljs-keyword">int</span>)nums.size() - <span class="hljs-number">1</span>));
  <span class="hljs-keyword">int</span> bucket_num = (max_val - min_val) / bucket_sz + <span class="hljs-number">1</span>;
  <span class="hljs-built_in">vector</span>&lt;Bucket*&gt; buckets(bucket_num, <span class="hljs-literal">nullptr</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> num : nums) {
    <span class="hljs-keyword">int</span> bucket_ind = (num - min_val) / bucket_sz;
    <span class="hljs-keyword">if</span> (buckets[bucket_ind] == <span class="hljs-literal">nullptr</span>) buckets[bucket_ind] = <span class="hljs-keyword">new</span> Bucket;
    buckets[bucket_ind]-&gt;min_val = min(num, buckets[bucket_ind]-&gt;min_val);
    buckets[bucket_ind]-&gt;max_val = max(num, buckets[bucket_ind]-&gt;max_val);
  }
  <span class="hljs-keyword">int</span> pre_bucket_max = min_val, res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> bucket_ptr : buckets) {
    <span class="hljs-keyword">if</span> (bucket_ptr) {
      res = max(res, bucket_ptr-&gt;min_val - pre_bucket_max);
      pre_bucket_max = bucket_ptr-&gt;max_val;
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_217-contains-duplicate" data-source-line="1533"><a class="markdownIt-Anchor" href="#le_217-contains-duplicate"></a>LE_217. Contains Duplicate</h4>
<pre data-source-line="1534"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">containsDuplicate</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt; nums_set;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (nums_set.find(nums[i]) != nums_set.end())
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    nums_set.insert(nums[i]);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_219-contains-duplicate-ii" data-source-line="1545"><a class="markdownIt-Anchor" href="#le_219-contains-duplicate-ii"></a>LE_219. Contains Duplicate II</h4>
<pre data-source-line="1546"><code class="hljs"><span class="hljs-comment">// return true if there are two distinct indices i and j </span>
<span class="hljs-comment">// nums[i] == nums[j] and abs(i - j) &lt;= k.</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">containsNearbyDuplicate</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt; nums_set;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (i &gt; k) nums_set.erase(nums[i - k - <span class="hljs-number">1</span>]);
    <span class="hljs-keyword">if</span> (nums_set.insert(nums[i]).second == <span class="hljs-literal">false</span>)
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_220-contains-duplicate-iii" data-source-line="1559"><a class="markdownIt-Anchor" href="#le_220-contains-duplicate-iii"></a>LE_220. Contains Duplicate III</h4>
<pre data-source-line="1560"><code class="hljs"><span class="hljs-comment">/*
You are given an integer array nums and two integers indexDiff and valueDiff.

Find a pair of indices (i, j) such that:

i != j,
abs(i - j) &lt;= indexDiff.
abs(nums[i] - nums[j]) &lt;= valueDiff, and
Return true if such pair exists or false otherwise.
*/</span>
<span class="hljs-keyword">int64_t</span> getBucketId(<span class="hljs-keyword">int64_t</span> i, <span class="hljs-keyword">int64_t</span> w) {
  <span class="hljs-keyword">return</span> i &lt; <span class="hljs-number">0</span> ? (i + <span class="hljs-number">1</span>) / w - <span class="hljs-number">1</span> : i / w;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">containsNearbyAlmostDuplicate</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; nums, <span class="hljs-keyword">int64_t</span> k, <span class="hljs-keyword">int64_t</span> t)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() &lt; <span class="hljs-number">2</span> || k &lt; <span class="hljs-number">1</span> || t &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-built_in">unordered_map</span> &lt;<span class="hljs-keyword">int64_t</span>, <span class="hljs-keyword">int64_t</span>&gt; buckets;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int64_t</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">int64_t</span> id = getBucketId(nums[i], t + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">if</span> (buckets.find(id) != buckets.end()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> ((buckets.find(id - <span class="hljs-number">1</span>) != buckets.end() &amp;&amp; 
         nums[i] - buckets[id - <span class="hljs-number">1</span>] &lt; t + <span class="hljs-number">1</span>) ||
        (buckets.find(id + <span class="hljs-number">1</span>) != buckets.end() &amp;&amp; 
         buckets[id + <span class="hljs-number">1</span>] - nums[i] &lt; t + <span class="hljs-number">1</span>))
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    buckets[id] = nums[i];
    <span class="hljs-keyword">if</span> (i &gt;= k)
      buckets.erase(getBucketId(nums[i - k], t + <span class="hljs-number">1</span>));
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h3 id="1i-sortselect" data-source-line="1594"><a class="markdownIt-Anchor" href="#1i-sortselect"></a><a href="#sortselect">1.I Sort/Select</a></h3>
<h4 id="le_215-kth-largest-element-in-an-array" data-source-line="1595"><a class="markdownIt-Anchor" href="#le_215-kth-largest-element-in-an-array"></a>LE_215. Kth Largest Element in an Array</h4>
<pre data-source-line="1596"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findKthLargest</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">return</span> quick_select(nums, <span class="hljs-number">0</span>, nums.size() - <span class="hljs-number">1</span>, k);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">quick_select</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; vec, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (k &lt;=<span class="hljs-number">0</span> || k &gt; vec.size()) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">int</span> p = partition(vec, l, r);
  <span class="hljs-keyword">if</span> (p == vec.size() - k) {
    <span class="hljs-keyword">return</span> vec[p];
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p &lt; vec.size() - k) {
    <span class="hljs-keyword">return</span> quick_select(vec, p + <span class="hljs-number">1</span>, r, k);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> quick_select(vec, l, p - <span class="hljs-number">1</span>, k);
  }
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">partition</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; vec, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>{
  <span class="hljs-keyword">int</span> indl = l + <span class="hljs-number">1</span>, indr = r;
  <span class="hljs-keyword">while</span> (indl &lt;= indr) {
    <span class="hljs-keyword">while</span> (indl &lt;= indr &amp;&amp; vec[indl] &lt;= vec[l]) indl++;
    <span class="hljs-keyword">while</span> (indl &lt;= indr &amp;&amp; vec[indr] &gt;= vec[l]) indr--;
    <span class="hljs-keyword">if</span> (indl &lt; indr) <span class="hljs-built_in">std</span>::swap(vec[indl], vec[indr]);
  }
  <span class="hljs-built_in">std</span>::swap(vec[l], vec[indr]);
  <span class="hljs-keyword">return</span> indr;
}
</code></pre><h4 id="le_229-majority-element-ii" data-source-line="1624"><a class="markdownIt-Anchor" href="#le_229-majority-element-ii"></a>LE_229. Majority Element II</h4>
<pre data-source-line="1625"><code class="hljs"><span class="hljs-comment">// find all elements that appear more than <span class="zh-hans">⌊</span> n/3 <span class="zh-hans">⌋</span> times.</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; majorityElement(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-keyword">int</span> cand1 = INT_MIN, cand2 = INT_MIN;
  <span class="hljs-keyword">int</span> cnt1 = <span class="hljs-number">0</span>, cnt2 = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; x: nums) {
    <span class="hljs-keyword">if</span> (x == cand1) {cnt1++;}
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x == cand2) {cnt2++;}
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cnt1 == <span class="hljs-number">0</span>) {cand1 = x; cnt1 = <span class="hljs-number">1</span>;}
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cnt2 == <span class="hljs-number">0</span>) {cand2 = x; cnt2 = <span class="hljs-number">1</span>;}
    <span class="hljs-keyword">else</span> {cnt1--; cnt2--;}
  }
  cnt1 = cnt2 = <span class="hljs-number">0</span>; 
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; x: nums) {
    <span class="hljs-keyword">if</span> (x == cand1) cnt1++;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x == cand2) cnt2++;
  }
  <span class="hljs-keyword">if</span> (cnt1 &gt; nums.size() / <span class="hljs-number">3</span>) res.push_back(cand1);
  <span class="hljs-keyword">if</span> (cnt2 &gt; nums.size() / <span class="hljs-number">3</span>) res.push_back(cand2);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_315-count-of-smaller-numbers-after-self" data-source-line="1648"><a class="markdownIt-Anchor" href="#le_315-count-of-smaller-numbers-after-self"></a>LE_315. Count of Smaller Numbers After Self</h4>
<pre data-source-line="1649"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; countSmaller(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; cache(nums.size()), numsp(nums.size());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res(nums.size(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) numsp[i] = {nums[i], i};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> seg = <span class="hljs-number">1</span>; seg &lt; numsp.size(); seg *= <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>; p &lt; numsp.size() / seg; p += <span class="hljs-number">2</span>) {
      <span class="hljs-keyword">int</span> a = p * seg, b = (p + <span class="hljs-number">1</span>) * seg, i = p * seg;
      <span class="hljs-keyword">while</span> (a &lt; (p + <span class="hljs-number">1</span>) * seg &amp;&amp; b &lt; (p + <span class="hljs-number">2</span>) * seg &amp;&amp; b &lt; numsp.size()) {
        <span class="hljs-keyword">if</span> (numsp[a].first &lt;= numsp[b].first) {
          res[numsp[a].second] += b - (p + <span class="hljs-number">1</span>) * seg;
          cache[i++] = numsp[a++];
        } <span class="hljs-keyword">else</span> cache[i++] = numsp[b++];
      }
      <span class="hljs-keyword">while</span> (a &lt; (p + <span class="hljs-number">1</span>) * seg) { 
        res[numsp[a].second] += b - (p + <span class="hljs-number">1</span>) * seg; 
        cache[i++] = numsp[a++]; 
      }
      <span class="hljs-keyword">while</span> (b &lt; (p + <span class="hljs-number">2</span>) * seg &amp;&amp; b &lt; numsp.size()) cache[i++] = numsp[b++];
    }
    numsp = cache;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_327-count-of-range-sum" data-source-line="1674"><a class="markdownIt-Anchor" href="#le_327-count-of-range-sum"></a>LE_327. Count of Range Sum</h4>
<pre data-source-line="1675"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countRangeSum</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> lower, <span class="hljs-keyword">int</span> upper)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">long</span>&gt; sums(nums.size() + <span class="hljs-number">1</span>), cache(nums.size() + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) sums[i + <span class="hljs-number">1</span>] = sums[i] + nums[i];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">1</span>; x &lt; sums.size(); x *= <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; sums.size() / x; i += <span class="hljs-number">2</span>) {
      <span class="hljs-keyword">int</span> a = x * i, b = x * (i + <span class="hljs-number">1</span>), j = x * i;
      <span class="hljs-keyword">int</span> lo = b, hi = b, end = min(x * (i + <span class="hljs-number">2</span>), <span class="hljs-keyword">int</span>(sums.size()));
      <span class="hljs-keyword">while</span> (a &lt; x * (i + <span class="hljs-number">1</span>)) {
        <span class="hljs-keyword">while</span> (lo &lt; end &amp;&amp; sums[lo] - sums[a] &lt; lower) lo++;
        <span class="hljs-keyword">while</span> (hi &lt; end &amp;&amp; sums[hi] - sums[a] &lt;= upper) hi++;
        <span class="hljs-keyword">while</span> (b &lt; end &amp;&amp; sums[b] &lt; sums[a]) cache[j++] = sums[b++];
        cache[j++] = sums[a++];
        res += hi - lo;
      }
      <span class="hljs-keyword">while</span> (b &lt; end) cache[j++] = sums[b++];
    }
    sums = cache;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_347-top-k-frequent-elements" data-source-line="1698"><a class="markdownIt-Anchor" href="#le_347-top-k-frequent-elements"></a>LE_347. Top K Frequent Elements</h4>
<pre data-source-line="1699"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; topKFrequent(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; num_freq;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; num: nums) num_freq[num]++;
  <span class="hljs-keyword">auto</span> comp = [&amp;] (<span class="hljs-keyword">const</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&amp; a, <span class="hljs-keyword">const</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&amp; b) {
    <span class="hljs-keyword">return</span> a.second &lt; b.second;
  };
  
  priority_queue&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;, <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;, <span class="hljs-keyword">decltype</span>(comp)&gt; big_freq_pq(comp);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; pir: num_freq) big_freq_pq.push(pir);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) {
    res.push_back(big_freq_pq.top().first);
    big_freq_pq.pop();
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_354-russian-doll-envelopes" data-source-line="1717"><a class="markdownIt-Anchor" href="#le_354-russian-doll-envelopes"></a>LE_354. Russian Doll Envelopes</h4>
<pre data-source-line="1718"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxEnvelopes</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; envelopes)</span> </span>{
  sort(envelopes.begin(), envelopes.end(), 
    [](<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; e1, <span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; e2) {
      <span class="hljs-keyword">return</span> e1[<span class="hljs-number">0</span>] == e2[<span class="hljs-number">0</span>] ? e1[<span class="hljs-number">1</span>] &gt; e2[<span class="hljs-number">1</span>] : e1[<span class="hljs-number">0</span>] &lt; e2[<span class="hljs-number">0</span>];
    }
  );
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; wpath;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; e: envelopes) {
    <span class="hljs-keyword">if</span> (wpath.size() == <span class="hljs-number">0</span> || wpath.back() &lt; e[<span class="hljs-number">1</span>]) wpath.push_back(e[<span class="hljs-number">1</span>]);
    <span class="hljs-keyword">else</span> *lower_bound(wpath.begin(), wpath.end(), e[<span class="hljs-number">1</span>]) = e[<span class="hljs-number">1</span>];            
  }
  <span class="hljs-keyword">return</span> wpath.size();
}
</code></pre><h4 id="le_373-find-k-pairs-with-smallest-sums" data-source-line="1733"><a class="markdownIt-Anchor" href="#le_373-find-k-pairs-with-smallest-sums"></a>LE_373. Find K Pairs with Smallest Sums</h4>
<pre data-source-line="1734"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; kSmallestPairs(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">typedef</span> tuple&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; T;
  priority_queue&lt;T, <span class="hljs-built_in">vector</span>&lt;T&gt;, greater&lt;T&gt;&gt; pq;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums1.size(); i++) pq.push({nums1[i] + nums2[<span class="hljs-number">0</span>], i, <span class="hljs-number">0</span>});
  <span class="hljs-keyword">while</span> (k-- &amp;&amp; pq.size()) {
    <span class="hljs-keyword">auto</span> [sum, ind1, ind2] = pq.top(); pq.pop();
    res.push_back({nums1[ind1], nums2[ind2]});
    <span class="hljs-keyword">if</span> (++ind2 &lt; nums2.size()) pq.push({nums1[ind1] + nums2[ind2], ind1, ind2});
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_406-queue-reconstruction-by-height" data-source-line="1748"><a class="markdownIt-Anchor" href="#le_406-queue-reconstruction-by-height"></a>LE_406. Queue Reconstruction by Height</h4>
<pre data-source-line="1749"><code class="hljs"><span class="hljs-comment">// people[i] = [hi, ki] ki: front cnt people &gt;= hi</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; reconstructQueue(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; people) {
  <span class="hljs-keyword">auto</span> comp = [&amp;] (<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; a, <span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; b) {
    <span class="hljs-keyword">if</span> (a[<span class="hljs-number">0</span>] != b[<span class="hljs-number">0</span>]) <span class="hljs-keyword">return</span> a[<span class="hljs-number">0</span>] &gt; b[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">return</span> a[<span class="hljs-number">1</span>] &lt; b[<span class="hljs-number">1</span>];
  };
  sort(people.begin(), people.end(), comp);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; p: people) res.insert(res.begin() + p[<span class="hljs-number">1</span>], p);
  <span class="hljs-keyword">return</span> res; 
}
</code></pre><h4 id="le_451-sort-characters-by-frequency" data-source-line="1762"><a class="markdownIt-Anchor" href="#le_451-sort-characters-by-frequency"></a>LE_451. Sort Characters By Frequency</h4>
<pre data-source-line="1763"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">frequencySort</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; char_freq_map;
  <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">char</span>&gt;, greater&lt;<span class="hljs-keyword">int</span>&gt;&gt; freq_char_map;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) {
    freq_char_map[char_freq_map[c]].erase(c);
    freq_char_map[++char_freq_map[c]].insert(c);   
  }
  <span class="hljs-built_in">string</span> res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [f, char_set]: freq_char_map) 
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: char_set) res += <span class="hljs-built_in">string</span>(f, c);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_493-reverse-pairs" data-source-line="1777"><a class="markdownIt-Anchor" href="#le_493-reverse-pairs"></a>LE_493. Reverse Pairs</h4>
<pre data-source-line="1778"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">reversePairs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cache(nums.size());
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">1</span>; x &lt; nums.size(); x *= <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>; p &lt; nums.size() / x; p += <span class="hljs-number">2</span>) {
      <span class="hljs-keyword">int</span> i = p * x, a = p * x, b = (p + <span class="hljs-number">1</span>) * x;
      <span class="hljs-keyword">int</span> bound = min((p + <span class="hljs-number">2</span>) * x, <span class="hljs-keyword">int</span>(nums.size()));
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> n = (p + <span class="hljs-number">1</span>) * x; n &lt; bound; n++)
        res += nums.begin() + (p + <span class="hljs-number">1</span>) * x - 
          upper_bound(nums.begin() + p * x, 
                      nums.begin() + (p + <span class="hljs-number">1</span>) * x, 
                      <span class="hljs-number">2l</span> * nums[n]);
      <span class="hljs-keyword">while</span> (a &lt; (p + <span class="hljs-number">1</span>) * x &amp;&amp; b &lt; bound)
          cache[i++] = nums[a] &lt;= nums[b] ? nums[a++] : nums[b++];
      <span class="hljs-keyword">while</span> (a &lt; (p + <span class="hljs-number">1</span>) * x) cache[i++] = nums[a++];
      <span class="hljs-keyword">while</span> (b &lt; bound) cache[i++] = nums[b++];
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = p * x; i &lt; bound; i++) nums[i] = cache[i];
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="1j-prefix-sum" data-source-line="1801"><a class="markdownIt-Anchor" href="#1j-prefix-sum"></a><a href="#prefix-sum">1.J Prefix Sum</a></h3>
<h4 id="le_303-range-sum-query-immutable" data-source-line="1802"><a class="markdownIt-Anchor" href="#le_303-range-sum-query-immutable"></a>LE_303. Range Sum Query - Immutable</h4>
<pre data-source-line="1803"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sums_;
NumArray(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    sum += nums[i];
    sums_.push_back(sum);
  }
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sumRange</span><span class="hljs-params">(<span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right)</span> </span>{
  <span class="hljs-keyword">if</span> (left == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> sums_[right];
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> sums_[right] - sums_[left - <span class="hljs-number">1</span>];
}
</code></pre><h4 id="le_304-range-sum-query-2d-immutable" data-source-line="1817"><a class="markdownIt-Anchor" href="#le_304-range-sum-query-2d-immutable"></a>LE_304. Range Sum Query 2D - Immutable</h4>
<pre data-source-line="1818"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; row_sums_;
NumMatrix(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix) {
  row_sums_ = matrix;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; row_sums_.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; row_sums_[i].size(); j++)
      row_sums_[i][j] += row_sums_[i][j - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; row_sums_.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; row_sums_[i].size(); j++)
      row_sums_[i][j] += row_sums_[i - <span class="hljs-number">1</span>][j];
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sumRegion</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row1, <span class="hljs-keyword">int</span> col1, <span class="hljs-keyword">int</span> row2, <span class="hljs-keyword">int</span> col2)</span> </span>{
  <span class="hljs-keyword">int</span> res = row_sums_[row2][col2];
  <span class="hljs-keyword">if</span> (row1 &gt; <span class="hljs-number">0</span>) res -= row_sums_[row1 - <span class="hljs-number">1</span>][col2];
  <span class="hljs-keyword">if</span> (col1 &gt; <span class="hljs-number">0</span>) res -= row_sums_[row2][col1 - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">if</span> (row1 &gt; <span class="hljs-number">0</span> &amp;&amp; col1 &gt; <span class="hljs-number">0</span>) res += row_sums_[row1 - <span class="hljs-number">1</span>][col1 - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_307-range-sum-query-mutable" data-source-line="1838"><a class="markdownIt-Anchor" href="#le_307-range-sum-query-mutable"></a>LE_307. Range Sum Query - Mutable</h4>
<pre data-source-line="1839"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums_, bits_;
NumArray(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  nums_ = nums;
  bits_.resize(nums.size() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++)
    bits_[i + <span class="hljs-number">1</span>] += nums[i];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; bits_.size(); i++)
    <span class="hljs-keyword">if</span> (i + (i &amp; -i) &lt; bits_.size())
      bits_[i + (i &amp; -i)] += bits_[i];
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, <span class="hljs-keyword">int</span> val)</span> </span>{
  <span class="hljs-keyword">int</span> diff = val - nums_[index];
  nums_[index++] = val;
  <span class="hljs-keyword">while</span> (index &lt; bits_.size()) {
    bits_[index] += diff;
    index += index &amp; -index;
  }
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (index) {
    res += bits_[index];
    index -= index &amp; -index;
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sumRange</span><span class="hljs-params">(<span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right)</span> </span>{
  <span class="hljs-keyword">return</span> sum(right + <span class="hljs-number">1</span>) - sum(left);
}
</code></pre><h4 id="le_396-rotate-function" data-source-line="1873"><a class="markdownIt-Anchor" href="#le_396-rotate-function"></a>LE_396. Rotate Function</h4>
<pre data-source-line="1874"><code class="hljs"><span class="hljs-comment">// F(k) = 0 * arrk[0] + 1 * arrk[1] + ... + (n - 1) * arrk[n - 1].</span>
<span class="hljs-comment">// Return the maximum value of F(0), F(1), ..., F(n-1).</span>
<span class="hljs-comment">// Input: nums = [4,3,2,6]</span>
<span class="hljs-comment">// Output: 26</span>
<span class="hljs-comment">// Explanation:</span>
<span class="hljs-comment">// F(0) = (0 * 4) + (1 * 3) + (2 * 2) + (3 * 6) = 0 + 3 + 4 + 18 = 25</span>
<span class="hljs-comment">// F(1) = (0 * 6) + (1 * 4) + (2 * 3) + (3 * 2) = 0 + 4 + 6 + 6 = 16</span>
<span class="hljs-comment">// F(2) = (0 * 2) + (1 * 6) + (2 * 4) + (3 * 3) = 0 + 6 + 8 + 9 = 23</span>
<span class="hljs-comment">// F(3) = (0 * 3) + (1 * 2) + (2 * 6) + (3 * 4) = 0 + 2 + 12 + 12 = 26</span>
<span class="hljs-comment">// So the maximum value of F(0), F(1), F(2), F(3) is F(3) = 26.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxRotateFunction</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>, cur = <span class="hljs-number">0</span>, res = INT_MIN;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++)
    sum += nums[i], cur += nums[i] * i;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nums.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    cur -= nums[i] * (nums.size() - <span class="hljs-number">1</span>);
    cur += sum - nums[i];
    res = max(res, cur);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h2 id="2-linked-list" data-source-line="1897"><a class="markdownIt-Anchor" href="#2-linked-list"></a><a href="#linked-list">2 Linked List</a></h2>
<h3 id="21-add-two-numbers" data-source-line="1898"><a class="markdownIt-Anchor" href="#21-add-two-numbers"></a><a href="#add-two-numbers">2.1 Add Two Numbers</a></h3>
<h4 id="le_2-add-two-numbers" data-source-line="1899"><a class="markdownIt-Anchor" href="#le_2-add-two-numbers"></a>LE_2. Add Two Numbers</h4>
<pre data-source-line="1900"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">addTwoNumbers</span><span class="hljs-params">(ListNode* l1, ListNode* l2)</span> </span>{
  <span class="hljs-function">ListNode <span class="hljs-title">head</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;
  ListNode * tail = &amp;head;
  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(l1 || l2 || carry) {
    <span class="hljs-keyword">int</span> n = (l1 ? l1-&gt;val : <span class="hljs-number">0</span>) + (l2 ? l2-&gt;val : <span class="hljs-number">0</span>) + carry;
    tail-&gt;next = <span class="hljs-keyword">new</span> ListNode(n % <span class="hljs-number">10</span>);
    carry = n / <span class="hljs-number">10</span>;
    tail = tail-&gt;next;
    l1 = l1 ? l1-&gt;next : <span class="hljs-literal">NULL</span>;
    l2 = l2 ? l2-&gt;next : <span class="hljs-literal">NULL</span>;
  }
  <span class="hljs-keyword">return</span> head.next;
}
</code></pre><h4 id="le_445-add-two-numbers-ii" data-source-line="1916"><a class="markdownIt-Anchor" href="#le_445-add-two-numbers-ii"></a>LE_445. Add Two Numbers II</h4>
<pre data-source-line="1917"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">addTwoNumbers</span><span class="hljs-params">(ListNode* l1, ListNode* l2)</span> </span>{
  <span class="hljs-keyword">auto</span> rev = [&amp;](ListNode* head) {
    ListNode *pre = <span class="hljs-literal">nullptr</span>, *cur = head, *nxt;
    <span class="hljs-keyword">while</span> (cur) {
      <span class="hljs-keyword">auto</span> nxt = cur-&gt;next;
      cur-&gt;next = pre;
      pre = cur;
      cur = nxt;
    }
    <span class="hljs-keyword">return</span> pre;
  };
  ListNode *r1 = rev(l1), *r2 = rev(l2), *c1 = r1, *c2 = r2;
  ListNode res, *cr = &amp;res;
  <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (c1 || c2) {
    <span class="hljs-keyword">int</span> sum = carry;
    <span class="hljs-keyword">if</span> (c1) sum += c1-&gt;val;
    <span class="hljs-keyword">if</span> (c2) sum += c2-&gt;val;
    carry = sum / <span class="hljs-number">10</span>;
    cr-&gt;next = <span class="hljs-keyword">new</span> ListNode(sum % <span class="hljs-number">10</span>);
    <span class="hljs-keyword">if</span> (c1) c1 = c1-&gt;next;
    <span class="hljs-keyword">if</span> (c2) c2 = c2-&gt;next;
    cr = cr-&gt;next;
  }
  <span class="hljs-keyword">if</span> (carry) cr-&gt;next = <span class="hljs-keyword">new</span> ListNode(carry);
  <span class="hljs-keyword">return</span> rev(res.next);
}
</code></pre><h3 id="22-remove-node" data-source-line="1946"><a class="markdownIt-Anchor" href="#22-remove-node"></a><a href="#remove-node">2.2 Remove Node</a></h3>
<h4 id="le_19-remove-nth-node-from-end-of-list" data-source-line="1947"><a class="markdownIt-Anchor" href="#le_19-remove-nth-node-from-end-of-list"></a>LE_19. Remove Nth Node From End of List</h4>
<pre data-source-line="1948"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">removeNthFromEnd</span><span class="hljs-params">(ListNode* head, <span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">NULL</span> || n &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> head;  
  ListNode *p1 = head;
  <span class="hljs-keyword">int</span> p1_ind = <span class="hljs-number">0</span>;
  <span class="hljs-comment">// 1 -&gt; 2 -&gt; 3 -&gt; 4; n = 2</span>
  <span class="hljs-comment">// p2   p1</span>
  <span class="hljs-comment">//           p2   p1</span>
  <span class="hljs-keyword">while</span>(p1_ind &lt; n - <span class="hljs-number">1</span> &amp;&amp; p1) p1 = p1-&gt;next, p1_ind++;
  <span class="hljs-keyword">if</span>(p1_ind != n - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> head;
  <span class="hljs-function">ListNode <span class="hljs-title">dummy</span><span class="hljs-params">(<span class="hljs-number">-1</span>)</span></span>;
  dummy.next = head;
  ListNode *p2_pre = &amp;dummy, *p2 = dummy.next; 
  <span class="hljs-keyword">while</span>(p1 &amp;&amp; p1-&gt;next) {
    p2_pre = p2;
    p2 = p2-&gt;next;
    p1 = p1-&gt;next;
  }
  p2_pre-&gt;next = p2-&gt;next;
  <span class="hljs-keyword">delete</span> p2;
  <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre><h4 id="le_82-remove-duplicates-from-sorted-list-ii" data-source-line="1971"><a class="markdownIt-Anchor" href="#le_82-remove-duplicates-from-sorted-list-ii"></a>LE_82. Remove Duplicates from Sorted List II</h4>
<pre data-source-line="1972"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode* head)</span> </span>{
  ListNode dummy = ListNode(<span class="hljs-number">0</span>); dummy.next = head;
  <span class="hljs-keyword">auto</span> pre = &amp; dummy, tmp = head;
  <span class="hljs-keyword">while</span> (tmp &amp;&amp; tmp-&gt;next) {
    <span class="hljs-keyword">if</span> (tmp-&gt;val != tmp-&gt;next-&gt;val) {
        pre = pre-&gt;next;
        tmp = tmp-&gt;next;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">while</span> (tmp-&gt;next &amp;&amp; tmp-&gt;val == tmp-&gt;next-&gt;val) {
        <span class="hljs-keyword">auto</span> dup = tmp-&gt;next;
        tmp-&gt;next = tmp-&gt;next-&gt;next;
        <span class="hljs-keyword">delete</span> dup;
      }
      <span class="hljs-keyword">auto</span> dup = tmp;
      pre-&gt;next = tmp-&gt;next;
      <span class="hljs-keyword">delete</span> dup;
      tmp = pre-&gt;next;
    }
  }
  <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre><h4 id="le_83-remove-duplicates-from-sorted-list" data-source-line="1995"><a class="markdownIt-Anchor" href="#le_83-remove-duplicates-from-sorted-list"></a>LE_83. Remove Duplicates from Sorted List</h4>
<pre data-source-line="1996"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-keyword">auto</span> tmp = head;
  <span class="hljs-keyword">while</span> (tmp &amp;&amp; tmp-&gt;next) {
    <span class="hljs-keyword">if</span> (tmp-&gt;val == tmp-&gt;next-&gt;val) {
      <span class="hljs-keyword">auto</span> dup = tmp-&gt;next;
      tmp-&gt;next = tmp-&gt;next-&gt;next;
      <span class="hljs-keyword">delete</span> dup;
    }
    <span class="hljs-keyword">else</span> tmp = tmp-&gt;next;
  }
  <span class="hljs-keyword">return</span> head;
}
</code></pre><h4 id="le_237-delete-node-in-a-linked-list" data-source-line="2010"><a class="markdownIt-Anchor" href="#le_237-delete-node-in-a-linked-list"></a>LE_237. Delete Node in a Linked List</h4>
<pre data-source-line="2011"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">deleteNode</span><span class="hljs-params">(ListNode* node)</span> </span>{
  <span class="hljs-keyword">auto</span> nxt = node-&gt;next;
  <span class="hljs-keyword">if</span> (nxt == <span class="hljs-literal">nullptr</span>) {
    <span class="hljs-keyword">delete</span> node;
    node = <span class="hljs-literal">nullptr</span>;
  } <span class="hljs-keyword">else</span> {
    node-&gt;val = nxt-&gt;val;
    node-&gt;next = nxt-&gt;next;
    <span class="hljs-keyword">delete</span> nxt;
  }
}
</code></pre><h3 id="23-merge-lists" data-source-line="2025"><a class="markdownIt-Anchor" href="#23-merge-lists"></a><a href="#merge-lists">2.3 Merge Lists</a></h3>
<h4 id="le_21-merge-two-sorted-lists" data-source-line="2026"><a class="markdownIt-Anchor" href="#le_21-merge-two-sorted-lists"></a>LE_21. Merge Two Sorted Lists</h4>
<pre data-source-line="2027"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">merge</span><span class="hljs-params">(ListNode* head0, ListNode* head1)</span> </span>{
  ListNode head;
  ListNode *cur0 = head0, *cur1 = head1, *cur = &amp;head;
  <span class="hljs-keyword">while</span> (cur0 &amp;&amp; cur1) {
    <span class="hljs-keyword">if</span> (cur0-&gt;val_ &lt;= cur1-&gt;val_) cur-&gt;next_ = cur0, cur0 = cur0-&gt;next_;
    <span class="hljs-keyword">else</span> cur-&gt;next_ = cur1, cur1 = cur1-&gt;next_;
    cur = cur-&gt;next_;
  }
  <span class="hljs-keyword">if</span> (cur0) cur-&gt;next_ = cur0;
  <span class="hljs-keyword">if</span> (cur1) cur-&gt;next_ = cur1;
  <span class="hljs-keyword">return</span> head.next_;
}
</code></pre><h4 id="le_23-merge-k-sorted-lists" data-source-line="2041"><a class="markdownIt-Anchor" href="#le_23-merge-k-sorted-lists"></a>LE_23. Merge k Sorted Lists</h4>
<pre data-source-line="2042"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">mergeKLists</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;ListNode*&gt;&amp; head_vec)</span> </span>{
  <span class="hljs-keyword">auto</span> comp = [](<span class="hljs-keyword">const</span> ListNode* a, <span class="hljs-keyword">const</span> ListNode* b) {
    <span class="hljs-keyword">return</span> a-&gt;val &gt; b-&gt;val;
  };
  priority_queue&lt;ListNode*, <span class="hljs-built_in">vector</span>&lt;ListNode*&gt;, <span class="hljs-keyword">decltype</span>(comp)&gt; pq(comp);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; head: head_vec) <span class="hljs-keyword">if</span> (head) pq.push(head);
  ListNode head, *cur = &amp;head;
  <span class="hljs-keyword">while</span> (pq.size()) {
    <span class="hljs-keyword">auto</span> tmp = pq.top(); pq.pop();
    cur-&gt;next = tmp; 
    cur = cur-&gt;next;
    <span class="hljs-keyword">if</span> (tmp-&gt;next) pq.push(tmp-&gt;next);
  }
  <span class="hljs-keyword">return</span> head.next;
}
</code></pre><h3 id="24-reorder-nodes" data-source-line="2059"><a class="markdownIt-Anchor" href="#24-reorder-nodes"></a><a href="#reorder-nodes">2.4 Reorder Nodes</a></h3>
<h4 id="le_24-swap-nodes-in-pairs" data-source-line="2060"><a class="markdownIt-Anchor" href="#le_24-swap-nodes-in-pairs"></a>LE_24. Swap Nodes in Pairs</h4>
<pre data-source-line="2061"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">swapPairs</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-function">ListNode <span class="hljs-title">dummy</span><span class="hljs-params">(<span class="hljs-number">-1</span>, head)</span></span>;
  ListNode* cur = &amp;dummy;
  <span class="hljs-keyword">while</span> (cur-&gt;next &amp;&amp; cur-&gt;next-&gt;next) {
    <span class="hljs-keyword">auto</span> a = cur;
    <span class="hljs-keyword">auto</span> b = a-&gt;next;
    <span class="hljs-keyword">auto</span> c = b-&gt;next;
    <span class="hljs-keyword">auto</span> d = c-&gt;next;
    a-&gt;next = c;
    c-&gt;next = b;
    b-&gt;next = d;
    cur = cur-&gt;next-&gt;next;
  }
  <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre><h4 id="le_143-reorder-list" data-source-line="2078"><a class="markdownIt-Anchor" href="#le_143-reorder-list"></a>LE_143. Reorder List</h4>
<pre data-source-line="2079"><code class="hljs"><span class="hljs-comment">// 1 2 3 4 -&gt; 1 4 2 3</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">reorderList</span><span class="hljs-params">(ListNode * head)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span> || head-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>;
  ListNode * slow = head, * fast = head;
  <span class="hljs-keyword">while</span> (fast-&gt;next != <span class="hljs-literal">nullptr</span> &amp;&amp; fast-&gt;next-&gt;next != <span class="hljs-literal">nullptr</span>) { 
    slow = slow-&gt;next;
    fast = fast-&gt;next-&gt;next;
  }
  ListNode * cur = slow-&gt;next;
  slow-&gt;next = <span class="hljs-literal">nullptr</span>;
  ListNode * pre = <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">while</span> (cur != <span class="hljs-literal">nullptr</span>) {
    ListNode * next = cur-&gt;next;
    cur-&gt;next = pre;
    pre = cur;
    cur = next;
  }
  ListNode * cur1 = head, * cur2 = pre;
  <span class="hljs-keyword">while</span> (cur1 != <span class="hljs-literal">nullptr</span> &amp;&amp; cur2 != <span class="hljs-literal">nullptr</span>) {
    ListNode * nxt1 = cur1-&gt;next;
    ListNode * nxt2 = cur2-&gt;next;
    cur1-&gt;next = cur2;
    cur2-&gt;next = nxt1;
    cur1 = nxt1;
    cur2 = nxt2;
  }
}
</code></pre><h4 id="le_147-insertion-sort-list" data-source-line="2108"><a class="markdownIt-Anchor" href="#le_147-insertion-sort-list"></a>LE_147. Insertion Sort List</h4>
<pre data-source-line="2109"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">insertionSortList</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-function">ListNode <span class="hljs-title">fake_head</span><span class="hljs-params">(INT_MIN)</span></span>;
  fake_head.next = head;
  ListNode *pre = &amp;fake_head, *cur = head;
  <span class="hljs-keyword">while</span> (cur) {
    <span class="hljs-keyword">if</span> (cur-&gt;next &amp;&amp; cur-&gt;next-&gt;val &lt; cur-&gt;val) {
      <span class="hljs-keyword">while</span> (pre-&gt;next &amp;&amp; pre-&gt;next-&gt;val &lt; cur-&gt;next-&gt;val) 
        pre = pre-&gt;next;
      ListNode *tmp = pre-&gt;next;
      pre-&gt;next = cur-&gt;next;
      cur-&gt;next = cur-&gt;next-&gt;next;
      pre-&gt;next-&gt;next = tmp;
      pre = &amp;fake_head;
    }
    <span class="hljs-keyword">else</span> cur = cur-&gt;next;
  }
  <span class="hljs-keyword">return</span> fake_head.next;
}
</code></pre><h4 id="le_148-sort-list" data-source-line="2129"><a class="markdownIt-Anchor" href="#le_148-sort-list"></a>LE_148. Sort List</h4>
<pre data-source-line="2130"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">getMid</span><span class="hljs-params">(ListNode* head, ListNode* tail)</span> </span>{
  <span class="hljs-keyword">if</span> (head == tail) <span class="hljs-keyword">return</span> head;
  ListNode * walker = head;
  ListNode * runner = head;
  <span class="hljs-keyword">while</span> (walker &amp;&amp; runner &amp;&amp; runner-&gt;next &amp;&amp; runner-&gt;next-&gt;next) {
    walker = walker-&gt;next;
    runner = runner-&gt;next-&gt;next;
  }
  <span class="hljs-keyword">return</span> walker;
}

<span class="hljs-function">ListNode* <span class="hljs-title">merge</span><span class="hljs-params">(ListNode* head_a, ListNode* head_b)</span> </span>{
  <span class="hljs-function">ListNode <span class="hljs-title">fake_head</span><span class="hljs-params">(INT_MIN)</span></span>;
  ListNode * tmp = &amp; fake_head, * tmp_a = head_a, * tmp_b = head_b;
  <span class="hljs-keyword">while</span> (tmp_a &amp;&amp; tmp_b) {
    <span class="hljs-keyword">if</span> (tmp_a-&gt;val &lt; tmp_b-&gt;val) tmp-&gt;next = tmp_a, tmp_a = tmp_a-&gt;next;
    <span class="hljs-keyword">else</span> tmp-&gt;next = tmp_b, tmp_b = tmp_b-&gt;next;
    tmp = tmp-&gt;next;
  }
  tmp-&gt;next = tmp_a ? tmp_a : tmp_b;
  <span class="hljs-keyword">return</span> fake_head.next;
}

<span class="hljs-function">ListNode* <span class="hljs-title">mergeSort</span><span class="hljs-params">(ListNode * head, ListNode * tail)</span> </span>{
  <span class="hljs-keyword">if</span> (head == tail) <span class="hljs-keyword">return</span> head;
  ListNode * mid = getMid(head, tail);
  ListNode * sorted_b = mergeSort(mid-&gt;next, tail);
  mid-&gt;next = <span class="hljs-literal">NULL</span>;
  ListNode * sorted_a = mergeSort(head, mid);
  <span class="hljs-keyword">return</span> merge(sorted_a, sorted_b);
}

<span class="hljs-function">ListNode* <span class="hljs-title">sortList</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> head;
  ListNode * end = head;
  <span class="hljs-keyword">while</span> (end-&gt;next) end = end-&gt;next;
  <span class="hljs-keyword">return</span> mergeSort(head, end);
}
</code></pre><h3 id="25-reverse-list" data-source-line="2171"><a class="markdownIt-Anchor" href="#25-reverse-list"></a><a href="#reverse-list">2.5 Reverse List</a></h3>
<h4 id="le_206-reverse-linked-list" data-source-line="2172"><a class="markdownIt-Anchor" href="#le_206-reverse-linked-list"></a>LE_206. Reverse Linked List</h4>
<pre data-source-line="2173"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode* head)</span> </span>{
  ListNode *pre = <span class="hljs-literal">nullptr</span>, *cur = head, *nxt = <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">while</span> (cur != <span class="hljs-literal">nullptr</span>) {
    nxt = cur-&gt;next;
    cur-&gt;next = pre;
    pre = cur;
    cur = nxt;
  }
  <span class="hljs-keyword">return</span> pre;
}
</code></pre><h4 id="reverse-nodes-in-k-group" data-source-line="2185"><a class="markdownIt-Anchor" href="#reverse-nodes-in-k-group"></a>Reverse Nodes in k-Group</h4>
<pre data-source-line="2186"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">reverseKGroup</span><span class="hljs-params">(ListNode* head, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-comment">//  a    b         c    d</span>
  <span class="hljs-comment">// -1 -&gt; 1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5</span>
  <span class="hljs-function">ListNode <span class="hljs-title">dummy</span><span class="hljs-params">(<span class="hljs-number">-1</span>, head)</span></span>;
  ListNode* cur = &amp;dummy;
  <span class="hljs-keyword">while</span> (cur) {
    ListNode *a = cur, *b = cur-&gt;next;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k &amp;&amp; cur; i++) cur = cur-&gt;next;
    <span class="hljs-keyword">if</span> (cur) {
      ListNode *c = cur, *d = cur-&gt;next;
      ListNode *pre = a, *tmp = b, *nxt = <span class="hljs-literal">nullptr</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) {
        nxt = tmp-&gt;next;
        tmp-&gt;next = pre;
        pre = tmp;
        tmp = nxt;
      }
      a-&gt;next = c;
      b-&gt;next = d;
      cur = b;
    }
  }
  <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre><h4 id="le_92-reverse-linked-list-ii" data-source-line="2212"><a class="markdownIt-Anchor" href="#le_92-reverse-linked-list-ii"></a>LE_92. Reverse Linked List II</h4>
<pre data-source-line="2213"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">reverseBetween</span><span class="hljs-params">(ListNode* head, <span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right)</span> </span>{
  ListNode dummy;
  dummy.next = head;
  ListNode *cur = &amp;dummy;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; left - <span class="hljs-number">1</span>; i++) cur = cur-&gt;next;
  ListNode *beforeRev = cur;
  ListNode *pre = <span class="hljs-literal">nullptr</span>, *nxt = <span class="hljs-literal">nullptr</span>;
  cur = cur-&gt;next;
  ListNode *revTail = cur;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = left; cur != <span class="hljs-literal">nullptr</span> &amp;&amp; i &lt;= right; i++) {
    nxt = cur-&gt;next;
    cur-&gt;next = pre;
    pre = cur;
    cur = nxt;
  }
  beforeRev-&gt;next = pre;
  revTail-&gt;next = cur;
  <span class="hljs-keyword">return</span> dummy.next;
}
</code></pre><h4 id="le_234-palindrome-linked-list" data-source-line="2234"><a class="markdownIt-Anchor" href="#le_234-palindrome-linked-list"></a>LE_234. Palindrome Linked List</h4>
<pre data-source-line="2235"><code class="hljs"><span class="hljs-function">ListNode * <span class="hljs-title">reverse_list</span><span class="hljs-params">(ListNode * head)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  ListNode *pre = <span class="hljs-literal">nullptr</span>, *tmp = head, *nxt = <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">while</span> (tmp) {
    nxt = tmp-&gt;next;
    tmp-&gt;next = pre;
    pre = tmp;
    tmp = nxt;
  }
  <span class="hljs-keyword">return</span> pre;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">auto</span> slow = head, fast = head;
  <span class="hljs-keyword">while</span> (fast-&gt;next &amp;&amp; fast-&gt;next-&gt;next) {
    slow = slow-&gt;next;
    fast = fast-&gt;next-&gt;next;
  }
  <span class="hljs-keyword">auto</span> p1 = head;
  <span class="hljs-keyword">auto</span> p2 = slow-&gt;next;
  slow-&gt;next = <span class="hljs-literal">nullptr</span>;
  p2 = reverse_list(p2);
  <span class="hljs-keyword">while</span> (p2) {
    <span class="hljs-keyword">if</span> (p1-&gt;val != p2-&gt;val) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    p1 = p1-&gt;next;
    p2 = p2-&gt;next;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_328-odd-even-linked-list" data-source-line="2267"><a class="markdownIt-Anchor" href="#le_328-odd-even-linked-list"></a>LE_328. Odd Even Linked List</h4>
<pre data-source-line="2268"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">oddEvenList</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> head;
  ListNode *ocur = head, *ehead = head-&gt;next, *ecur = ehead;
  <span class="hljs-keyword">while</span> (ecur &amp;&amp; ecur-&gt;next) {
    ocur-&gt;next = ocur-&gt;next-&gt;next;
    ocur = ocur-&gt;next;
    ecur-&gt;next = ecur-&gt;next-&gt;next;
    ecur = ecur-&gt;next;
  }
  ocur-&gt;next = ehead;
  <span class="hljs-keyword">return</span> head;
}
</code></pre><h3 id="26-rotate-list" data-source-line="2283"><a class="markdownIt-Anchor" href="#26-rotate-list"></a><a href="#rotate-list">2.6 Rotate List</a></h3>
<h4 id="le_61-rotate-list" data-source-line="2284"><a class="markdownIt-Anchor" href="#le_61-rotate-list"></a>LE_61. Rotate List</h4>
<pre data-source-line="2285"><code class="hljs"><span class="hljs-function">ListNode* <span class="hljs-title">rotateRight</span><span class="hljs-params">(ListNode* head, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">int</span> list_len = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">auto</span> tail = head;
  <span class="hljs-keyword">while</span>(tail != <span class="hljs-literal">nullptr</span> &amp;&amp; tail-&gt;next != <span class="hljs-literal">nullptr</span>) 
    {tail = tail-&gt;next; list_len++;}
  k %= list_len;
  <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> head;

  <span class="hljs-keyword">auto</span> p = head;
  <span class="hljs-keyword">int</span> tmp_ind = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (tmp_ind++ &lt; list_len - k - <span class="hljs-number">1</span>) p = p-&gt;next;
  <span class="hljs-keyword">auto</span> new_head = p-&gt;next;
  p-&gt;next = <span class="hljs-literal">nullptr</span>;
  tail-&gt;next = head;
  <span class="hljs-keyword">return</span> new_head;
}
</code></pre><h3 id="27-partition-list" data-source-line="2304"><a class="markdownIt-Anchor" href="#27-partition-list"></a><a href="#partition-list">2.7 Partition List</a></h3>
<h4 id="le_86-partition-list" data-source-line="2305"><a class="markdownIt-Anchor" href="#le_86-partition-list"></a>LE_86. Partition List</h4>
<pre data-source-line="2306"><code class="hljs">ListNode* partition(ListNode* head, int x) {
  if (head == nullptr) return nullptr;
  ListNode dummy_a(-1), dummy_b(-1), *p = head, *pa = &amp;dummy_a, *pb = &amp;dummy_b;
  while (p) {
    if (p-&gt;val &lt; x) { pa-&gt;next = p; pa = pa-&gt;next; }
    else { pb-&gt;next = p; pb = pb-&gt;next; }
    p = p-&gt;next;
  }
  pa-&gt;next = dummy_b.next;
  pb-&gt;next = nullptr;
  return dummy_a.next;
}
</code></pre><h3 id="28-list-extra-pointer" data-source-line="2320"><a class="markdownIt-Anchor" href="#28-list-extra-pointer"></a><a href="#list-extra-pointer">2.8 List Extra Pointer</a></h3>
<h4 id="le_138-copy-list-with-random-pointer" data-source-line="2321"><a class="markdownIt-Anchor" href="#le_138-copy-list-with-random-pointer"></a>LE_138. Copy List with Random Pointer</h4>
<pre data-source-line="2322"><code class="hljs"><span class="hljs-function">RandomListNode *<span class="hljs-title">copyRandomList</span><span class="hljs-params">(RandomListNode *head)</span> </span>{
  RandomListNode * p = head;
  <span class="hljs-keyword">while</span>(p != <span class="hljs-literal">NULL</span>) {
    RandomListNode * next = p-&gt;next;
    RandomListNode * copy = <span class="hljs-keyword">new</span> RandomListNode(p-&gt;label);
    p-&gt;next = copy;
    copy-&gt;next = next;
    p = next;
  }
  p = head;
  <span class="hljs-keyword">while</span>(p != <span class="hljs-literal">NULL</span>) {
    p-&gt;next-&gt;random = p-&gt;random != <span class="hljs-literal">NULL</span> ? p-&gt;random-&gt;next : <span class="hljs-literal">NULL</span>;
    p = p-&gt;next-&gt;next;
  }
  p = head;
  RandomListNode * headCopy = p != <span class="hljs-literal">NULL</span> ? p-&gt;next : <span class="hljs-literal">NULL</span>;
  <span class="hljs-keyword">while</span>(p != <span class="hljs-literal">NULL</span>) {
    RandomListNode * copy = p-&gt;next;
    p-&gt;next = copy-&gt;next;
    p = p-&gt;next;
    copy-&gt;next = p != <span class="hljs-literal">NULL</span> ? p-&gt;next : <span class="hljs-literal">NULL</span>;
  }
  <span class="hljs-keyword">return</span> headCopy;
}
</code></pre><h4 id="le_430-flatten-a-multilevel-doubly-linked-list" data-source-line="2348"><a class="markdownIt-Anchor" href="#le_430-flatten-a-multilevel-doubly-linked-list"></a>LE_430. Flatten a Multilevel Doubly Linked List</h4>
<pre data-source-line="2349"><code class="hljs"><span class="hljs-function">Node* <span class="hljs-title">flatten</span><span class="hljs-params">(Node* head)</span> </span>{
  Node* cur = head;
  <span class="hljs-keyword">while</span> (cur) {
    <span class="hljs-keyword">if</span> (cur-&gt;child) {
      <span class="hljs-keyword">auto</span> nxt = cur-&gt;next;
      cur-&gt;next = cur-&gt;child;
      cur-&gt;next-&gt;prev = cur;
      cur-&gt;child = <span class="hljs-literal">nullptr</span>;
      <span class="hljs-keyword">auto</span> p = cur-&gt;next;
      <span class="hljs-keyword">while</span> (p-&gt;next) p = p-&gt;next;
      p-&gt;next = nxt;
      <span class="hljs-keyword">if</span> (nxt) nxt-&gt;prev = p;
    }
    cur = cur-&gt;next;
  }
  <span class="hljs-keyword">return</span> head;
}
</code></pre><h3 id="29-cycle" data-source-line="2368"><a class="markdownIt-Anchor" href="#29-cycle"></a><a href="#cycle">2.9 Cycle</a></h3>
<h4 id="le_142-linked-list-cycle-ii" data-source-line="2369"><a class="markdownIt-Anchor" href="#le_142-linked-list-cycle-ii"></a>LE_142. Linked List Cycle II</h4>
<pre data-source-line="2370"><code class="hljs"><span class="hljs-function">ListNode *<span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode *head)</span> </span>{
  <span class="hljs-keyword">auto</span> slow = head, fast = head;
  <span class="hljs-keyword">while</span> (fast &amp;&amp; fast-&gt;next) {
    slow = slow-&gt;next;
    fast = fast-&gt;next-&gt;next;
    <span class="hljs-keyword">if</span> (slow == fast) {
      fast = head;
      <span class="hljs-keyword">while</span> (slow != fast) {
        slow = slow-&gt;next;
        fast = fast-&gt;next;
      }
      <span class="hljs-keyword">return</span> fast;
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
}
</code></pre><h2 id="3-string" data-source-line="2389"><a class="markdownIt-Anchor" href="#3-string"></a><a href="#string">3 String</a></h2>
<h3 id="31-substring" data-source-line="2390"><a class="markdownIt-Anchor" href="#31-substring"></a><a href="#substring">3.1 Substring</a></h3>
<h4 id="le_3-longest-substring-without-repeating-characters" data-source-line="2391"><a class="markdownIt-Anchor" href="#le_3-longest-substring-without-repeating-characters"></a>LE_3. Longest Substring Without Repeating Characters</h4>
<pre data-source-line="2392"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lengthOfLongestSubstring</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; ind_map;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> fr = <span class="hljs-number">0</span>, to = <span class="hljs-number">0</span>; to &lt; s.size(); to++) {
    <span class="hljs-keyword">if</span> (!ind_map.count(s[to]) || ind_map[s[to]] &lt; fr) {
      ind_map[s[to]] = to;
      res = max(res, to - fr + <span class="hljs-number">1</span>);
    } <span class="hljs-keyword">else</span> {
      fr = ind_map[s[to]] + <span class="hljs-number">1</span>;
      ind_map[s[to]] = to;
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_28-find-the-index-of-the-first-occurrence-in-a-string" data-source-line="2408"><a class="markdownIt-Anchor" href="#le_28-find-the-index-of-the-first-occurrence-in-a-string"></a>LE_28. Find the Index of the First Occurrence in a String</h4>
<pre data-source-line="2409"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">strStr</span><span class="hljs-params">(<span class="hljs-built_in">string</span> haystack, <span class="hljs-built_in">string</span> needle)</span> </span>{
  <span class="hljs-keyword">int</span> h = haystack.length(), n = needle.size();
  <span class="hljs-keyword">if</span>(!n) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; h - n + <span class="hljs-number">1</span>; i++) {
    <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(; j &lt; n; j++) <span class="hljs-keyword">if</span>(haystack[i + j] != needle[j]) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">if</span>(j == n) <span class="hljs-keyword">return</span> i;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
}
</code></pre><h4 id="le_30-substring-with-concatenation-of-all-words" data-source-line="2421"><a class="markdownIt-Anchor" href="#le_30-substring-with-concatenation-of-all-words"></a>LE_30. Substring with Concatenation of All Words</h4>
<pre data-source-line="2422"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findSubstring(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; A) {
  <span class="hljs-keyword">if</span> (A.empty()) <span class="hljs-keyword">return</span> {};
  <span class="hljs-keyword">int</span> L = A.size(), M = A[<span class="hljs-number">0</span>].size(), last = s.size() - M * L;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; cnt;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;w : A) ++cnt[w];
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;
  function&lt;<span class="hljs-keyword">bool</span>(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>)&gt; dfs = [&amp;](<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> seen) {
    <span class="hljs-keyword">if</span> (seen == L) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">int</span> &amp;c = cnt[s.substr(i, M)];
    <span class="hljs-keyword">if</span> (!c) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    c--;
    <span class="hljs-keyword">bool</span> ans = dfs(i + M, seen + <span class="hljs-number">1</span>);
    c++;
    <span class="hljs-keyword">return</span> ans;
  };
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= last; ++i) <span class="hljs-keyword">if</span> (dfs(i, <span class="hljs-number">0</span>)) ans.push_back(i);
  <span class="hljs-keyword">return</span> ans;
}
</code></pre><h4 id="le_58-length-of-last-word" data-source-line="2442"><a class="markdownIt-Anchor" href="#le_58-length-of-last-word"></a>LE_58. Length of Last Word</h4>
<pre data-source-line="2443"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lengthOfLastWord</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> tail = s.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (tail &gt;= <span class="hljs-number">0</span> &amp;&amp; s[tail] == <span class="hljs-string">' '</span>) tail --;
  <span class="hljs-keyword">while</span> (tail &gt;= <span class="hljs-number">0</span> &amp;&amp; s[tail] != <span class="hljs-string">' '</span>) len++, tail--;
  <span class="hljs-keyword">return</span> len;
}
</code></pre><h4 id="le_139-word-break" data-source-line="2452"><a class="markdownIt-Anchor" href="#le_139-word-break"></a>LE_139. Word Break</h4>
<pre data-source-line="2453"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">wordBreak</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; wordDict)</span> </span>{
  <span class="hljs-keyword">if</span> (wordDict.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; dict(wordDict.begin(), wordDict.end());
  <span class="hljs-keyword">int</span> wordMaxLen = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> word : dict) wordMaxLen = max(wordMaxLen, <span class="hljs-keyword">int</span>(word.size()));
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; dp(s.size() + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
  dp[<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= s.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= max(i - wordMaxLen, <span class="hljs-number">0</span>); j--) {
      <span class="hljs-keyword">if</span> (dp[j] &amp;&amp; dict.find(s.substr(j, i - j)) != dict.end()) {
        dp[i] = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">break</span>;
      }
    }
  }
  <span class="hljs-keyword">return</span> dp[s.size()];
}
</code></pre><h4 id="le_140-word-break-ii" data-source-line="2472"><a class="markdownIt-Anchor" href="#le_140-word-break-ii"></a>LE_140. Word Break II</h4>
<pre data-source-line="2473"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; wordBreak(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; wordDict) {
  <span class="hljs-keyword">if</span> (wordDict.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; dict(wordDict.begin(), wordDict.end());
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; mem {{s.size(), {<span class="hljs-string">""</span>}}};
  function&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-keyword">int</span>)&gt; sentences = [&amp;](<span class="hljs-keyword">int</span> i) {
    <span class="hljs-keyword">if</span> (mem.find(i) == mem.end())
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= s.size(); j++)
        <span class="hljs-keyword">if</span> (dict.find(s.substr(i, j - i)) != dict.end())
          <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> tail : sentences(j))
            mem[i].push_back(
              s.substr(i, j - i) + (tail == <span class="hljs-string">""</span> ? <span class="hljs-string">""</span> : <span class="hljs-string">' '</span> + tail));
    <span class="hljs-keyword">return</span> mem[i];
  };
  <span class="hljs-keyword">return</span> sentences(<span class="hljs-number">0</span>);
}
</code></pre><h4 id="le_187-repeated-dna-sequences" data-source-line="2490"><a class="markdownIt-Anchor" href="#le_187-repeated-dna-sequences"></a>LE_187. Repeated DNA Sequences</h4>
<pre data-source-line="2491"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; findRepeatedDnaSequences(<span class="hljs-built_in">string</span> s) {
  <span class="hljs-keyword">if</span> (s.size() &lt;= <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; str_times_map;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= s.size() - <span class="hljs-number">10</span>; i++) {
    <span class="hljs-built_in">string</span> tmp_substr = s.substr(i, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">if</span> (++str_times_map[tmp_substr] == <span class="hljs-number">2</span>)
      res.emplace_back(tmp_substr);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_395-longest-substring-with-at-least-k-repeating-characters" data-source-line="2504"><a class="markdownIt-Anchor" href="#le_395-longest-substring-with-at-least-k-repeating-characters"></a>LE_395. Longest Substring with At Least K Repeating Characters</h4>
<pre data-source-line="2505"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">longestSubstring</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span> </span>{
  <span class="hljs-keyword">if</span> (r - l + <span class="hljs-number">1</span> &lt; k) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cnt(<span class="hljs-number">26</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = l; i &lt;= r; i++) cnt[s[i] - <span class="hljs-string">'a'</span>]++;
  <span class="hljs-keyword">bool</span> is_ok = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = l; i &lt;= r; i++) {
    <span class="hljs-keyword">if</span> (cnt[s[i] - <span class="hljs-string">'a'</span>] &lt; k) {
      is_ok = <span class="hljs-literal">false</span>;
    }
  }
  <span class="hljs-keyword">if</span> (is_ok) <span class="hljs-keyword">return</span> r - l + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> last = l, res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = l; i &lt;= r; i++) {
    <span class="hljs-keyword">if</span> (cnt[s[i] - <span class="hljs-string">'a'</span>] &lt; k) {
      res = max(res, longestSubstring(s, k, last, i - <span class="hljs-number">1</span>));
      last = i + <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == r) {
      res = max(res, longestSubstring(s, k, last, r));
    }
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">longestSubstring</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span> k)</span> </span>{
    <span class="hljs-keyword">return</span> longestSubstring(s, k, <span class="hljs-number">0</span>, s.size() - <span class="hljs-number">1</span>);
}
</code></pre><h4 id="le_466-count-the-repetitions" data-source-line="2533"><a class="markdownIt-Anchor" href="#le_466-count-the-repetitions"></a>LE_466. Count The Repetitions</h4>
<pre data-source-line="2534"><code class="hljs"><span class="hljs-comment">// ["abc", 3] =="abcabcabc".</span>
<span class="hljs-comment">// Return the max m such that [str2, m] is substr of str1</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getMaxRepetitions</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s1, <span class="hljs-keyword">int</span> n1, <span class="hljs-built_in">string</span> s2, <span class="hljs-keyword">int</span> n2)</span> </span>{
  <span class="hljs-keyword">if</span> (n1 == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; indexr(s2.size() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// index at start of each s1 block</span>
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; countr(s2.size() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// count of repititions till the present s1 block</span>
  <span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>, count = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n1; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; s1.size(); j++) {
      <span class="hljs-keyword">if</span> (s1[j] == s2[index]) ++index;
      <span class="hljs-keyword">if</span> (index == s2.size()) index = <span class="hljs-number">0</span>, ++count;
    }
    countr[i] = count;
    indexr[i] = index;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; i; k++) {
      <span class="hljs-keyword">if</span> (indexr[k] == index) {
        <span class="hljs-keyword">int</span> prev_count = countr[k];
        <span class="hljs-keyword">int</span> pattern_count = (countr[i] - countr[k]) * ((n1 - k - <span class="hljs-number">1</span>) / (i - k));
        <span class="hljs-keyword">int</span> remain_count = countr[k + (n1 - k - <span class="hljs-number">1</span>) % (i - k)] - countr[k];
        <span class="hljs-keyword">return</span> (prev_count + pattern_count + remain_count) / n2;
      }
    }
  }
  <span class="hljs-keyword">return</span> countr[n1 - <span class="hljs-number">1</span>] / n2;
}
</code></pre><h4 id="le_467-unique-substrings-in-wraparound-string" data-source-line="2561"><a class="markdownIt-Anchor" href="#le_467-unique-substrings-in-wraparound-string"></a>LE_467. Unique Substrings in Wraparound String</h4>
<pre data-source-line="2562"><code class="hljs"><span class="hljs-comment">// base: infinite wraparound of "abcdefghijklmnopqrstuvwxyz"</span>
<span class="hljs-comment">// return cnt of substrs of s in base</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findSubstringInWraproundString</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>, cur = <span class="hljs-number">1</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; mem(<span class="hljs-number">26</span>, <span class="hljs-number">0</span>); mem[s[<span class="hljs-number">0</span>] - <span class="hljs-string">'a'</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> ((s[i - <span class="hljs-number">1</span>] - <span class="hljs-string">'a'</span> + <span class="hljs-number">1</span>) % <span class="hljs-number">26</span> == s[i] - <span class="hljs-string">'a'</span>) cur++;
    <span class="hljs-keyword">else</span> cur = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (cur &gt; mem[s[i] - <span class="hljs-string">'a'</span>]) {
      res += cur - mem[s[i] - <span class="hljs-string">'a'</span>];
      mem[s[i] - <span class="hljs-string">'a'</span>] = cur;
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_472-concatenated-words" data-source-line="2579"><a class="markdownIt-Anchor" href="#le_472-concatenated-words"></a>LE_472. Concatenated Words</h4>
<pre data-source-line="2580"><code class="hljs"><span class="hljs-comment">// Input:  ["cat","cats","catsdogcats","dog","dogcatsdog",</span>
<span class="hljs-comment">//          "hippopotamuses","rat","ratcatdogcat"]</span>
<span class="hljs-comment">// Output: ["catsdogcats","dogcatsdog","ratcatdogcat"]</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; findAllConcatenatedWordsInADict(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; words) {
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; dic(words.begin(), words.end());
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; w: words) {
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; dp(w.size() + <span class="hljs-number">1</span>); dp[<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= w.size(); i++) 
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i == w.size(); !dp[i] &amp;&amp; j &lt; i; j++)
        dp[i] = dp[j] &amp;&amp; dic.count(w.substr(j, i - j));
    <span class="hljs-keyword">if</span> (dp[w.size()]) res.push_back(w);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_500-keyboard-row" data-source-line="2597"><a class="markdownIt-Anchor" href="#le_500-keyboard-row"></a>LE_500. Keyboard Row</h4>
<pre data-source-line="2598"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; findWords(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; words) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; mp(<span class="hljs-number">26</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> c: <span class="hljs-built_in">string</span>(<span class="hljs-string">"asdfghjkl"</span>)) mp[c - <span class="hljs-string">'a'</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> c: <span class="hljs-built_in">string</span>(<span class="hljs-string">"zxcvbnm"</span>)) mp[c - <span class="hljs-string">'a'</span>] = <span class="hljs-number">2</span>;
  
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; w: words) {
    <span class="hljs-keyword">int</span> ln = mp[<span class="hljs-built_in">tolower</span>(w[<span class="hljs-number">0</span>]) - <span class="hljs-string">'a'</span>];
    <span class="hljs-keyword">bool</span> is_same_ln = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; w.size(); i++) {
      <span class="hljs-keyword">if</span> (mp[<span class="hljs-built_in">tolower</span>(w[i]) - <span class="hljs-string">'a'</span>] != ln) {
        is_same_ln = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">break</span>;
      }
    }
    <span class="hljs-keyword">if</span> (is_same_ln) res.push_back(w);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="32-palindrome" data-source-line="2619"><a class="markdownIt-Anchor" href="#32-palindrome"></a><a href="#palindrome">3.2 Palindrome</a></h3>
<h4 id="le_5-longest-palindromic-substring" data-source-line="2620"><a class="markdownIt-Anchor" href="#le_5-longest-palindromic-substring"></a>LE_5. Longest Palindromic Substring</h4>
<pre data-source-line="2621"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">longestPalindrome</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">if</span>(s.size() &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> s;
  <span class="hljs-keyword">int</span> min_start = <span class="hljs-number">0</span>, max_len = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (i &lt; s.size()) {
    <span class="hljs-keyword">if</span> (s.size() - i &lt;= max_len / <span class="hljs-number">2</span>) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">int</span> low = i, high = i;
    <span class="hljs-keyword">while</span> (high &lt; s.size() - <span class="hljs-number">1</span> &amp;&amp; s[high + <span class="hljs-number">1</span>] == s[high]) high++;
    i = high + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (high &lt; s.size() - <span class="hljs-number">1</span> &amp;&amp; low &gt; <span class="hljs-number">0</span> &amp;&amp; s[high + <span class="hljs-number">1</span>] == s[low - <span class="hljs-number">1</span>]) 
      high++, low--;
    <span class="hljs-keyword">int</span> new_len = high - low + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (new_len &gt; max_len) { min_start = low; max_len = new_len; }
  }
  <span class="hljs-keyword">return</span> s.substr(min_start, max_len);
}
</code></pre><h4 id="le_131-palindrome-partitioning" data-source-line="2639"><a class="markdownIt-Anchor" href="#le_131-palindrome-partitioning"></a>LE_131. Palindrome Partitioning</h4>
<pre data-source-line="2640"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; partition(<span class="hljs-built_in">string</span> s) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; cur;
  back_track(res, cur, s, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">back_track</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;&amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; cur, 
                <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; s, <span class="hljs-keyword">int</span> pos)</span> </span>{
  <span class="hljs-keyword">if</span> (pos &gt;= s.size()) {res.push_back(cur); <span class="hljs-keyword">return</span>; }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> (is_palindrome(s.substr(pos, i - pos + <span class="hljs-number">1</span>))) {
      cur.push_back(s.substr(pos, i - pos + <span class="hljs-number">1</span>));
      back_track(res, cur, s, i + <span class="hljs-number">1</span>);
      cur.pop_back();
    }
  }
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">is_palindrome</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; s)</span> </span>{
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = s.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (l &lt; r) <span class="hljs-keyword">if</span> (s[l++] != s[r--]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_132-palindrome-partitioning-ii" data-source-line="2666"><a class="markdownIt-Anchor" href="#le_132-palindrome-partitioning-ii"></a>LE_132. Palindrome Partitioning II</h4>
<pre data-source-line="2667"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minCut</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; dp(s.size() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= s.size(); i++) dp[i] = i - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; i - j &gt;= <span class="hljs-number">0</span> &amp;&amp; i + j &lt; s.size() &amp;&amp; s[i - j] == s[i + j]; j++)
      dp[i + j + <span class="hljs-number">1</span>] = min(dp[i + j + <span class="hljs-number">1</span>], <span class="hljs-number">1</span> + dp[i - j]);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; i - j + <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span> &amp;&amp; i + j &lt; s.size() &amp;&amp; s[i - j + <span class="hljs-number">1</span>] == s[i + j]; j++)
      dp[i + j + <span class="hljs-number">1</span>] = min(dp[i + j + <span class="hljs-number">1</span>], <span class="hljs-number">1</span> + dp[i - j + <span class="hljs-number">1</span>]);
  }
  <span class="hljs-keyword">return</span> dp[s.size()];
}
</code></pre><h4 id="le_214-shortest-palindrome" data-source-line="2680"><a class="markdownIt-Anchor" href="#le_214-shortest-palindrome"></a>LE_214. Shortest Palindrome</h4>
<pre data-source-line="2681"><code class="hljs"><span class="hljs-comment">// convert s to a palindrome by adding characters in front of it.</span>
<span class="hljs-comment">// Return the shortest palindrome</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">shortestPalindrome</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">if</span> (s.size() &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> s;
  <span class="hljs-keyword">int</span> <span class="hljs-built_in">exp</span> = <span class="hljs-number">31</span>, m = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>, palind_end_ind = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">int</span> exp_accu = <span class="hljs-number">31</span>;
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">int</span> shash = s[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">int</span> rhash = s[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; s.size(); i++) {
    shash = (shash * <span class="hljs-built_in">exp</span> + s[i]) % m;
    rhash = (rhash + s[i] * exp_accu) % m;
    <span class="hljs-keyword">if</span> (shash == rhash) palind_end_ind = i;
    exp_accu = (<span class="hljs-built_in">exp</span> * exp_accu) % m;
  }
  <span class="hljs-built_in">string</span> remain = s.substr(palind_end_ind + <span class="hljs-number">1</span>);
  reverse(remain.begin(), remain.end());
  <span class="hljs-keyword">return</span> remain + s;
}
</code></pre><h4 id="le_336-palindrome-pairs" data-source-line="2701"><a class="markdownIt-Anchor" href="#le_336-palindrome-pairs"></a>LE_336. Palindrome Pairs</h4>
<pre data-source-line="2702"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; palindromePairs(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; words) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; mp;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; words.size(); i++) {
    <span class="hljs-keyword">auto</span> word = words[i];
    reverse(word.begin(), word.end()); 
    mp[word] = i;
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; words.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= words[i].size(); j++) {
      <span class="hljs-keyword">auto</span> prefix = words[i].substr(<span class="hljs-number">0</span>, j);
      <span class="hljs-keyword">auto</span> suffix = words[i].substr(j);
      <span class="hljs-keyword">if</span> (isPalindrome(suffix) &amp;&amp; mp.count(prefix) &amp;&amp; mp[prefix] != i) 
        res.push_back({i, mp[prefix]});
      <span class="hljs-keyword">if</span> (j &amp;&amp; isPalindrome(prefix) &amp;&amp; mp.count(suffix) &amp;&amp; mp[suffix] != i)
        res.push_back({mp[suffix], i});
    }
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; word)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = word.size() - <span class="hljs-number">1</span>; i &lt; j; i++, j--) 
    <span class="hljs-keyword">if</span> (word[i] != word[j]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_409-longest-palindrome" data-source-line="2730"><a class="markdownIt-Anchor" href="#le_409-longest-palindrome"></a>LE_409. Longest Palindrome</h4>
<pre data-source-line="2731"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">longestPalindrome</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; count;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; c: s) count[c]++;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; pir: count) 
    res += pir.second / <span class="hljs-number">2</span> * <span class="hljs-number">2</span> + (res % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> &amp;&amp; pir.second % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_479-largest-palindrome-product" data-source-line="2741"><a class="markdownIt-Anchor" href="#le_479-largest-palindrome-product"></a>LE_479. Largest Palindrome Product</h4>
<pre data-source-line="2742"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">largestPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">3</span> * <span class="hljs-number">3</span>;
  <span class="hljs-keyword">auto</span> half = stoul(<span class="hljs-built_in">string</span>(n, <span class="hljs-string">'9'</span>)), low = stoul(<span class="hljs-built_in">string</span>(n - <span class="hljs-number">1</span>, <span class="hljs-string">'9'</span>));
  <span class="hljs-keyword">while</span> (half &gt; low) {
    <span class="hljs-built_in">string</span> s = to_string(half--), rev(s.rbegin(), s.rend());
    <span class="hljs-keyword">auto</span> x = stoul(s + rev);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> d = stoul(<span class="hljs-built_in">string</span>(n, <span class="hljs-string">'9'</span>)); d * d &gt;= x; d--)
      <span class="hljs-keyword">if</span> (x % d == <span class="hljs-number">0</span> &amp;&amp; to_string(x / d).size() == n) <span class="hljs-keyword">return</span> x % <span class="hljs-number">1337</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
}
</code></pre><h3 id="33-string-reorder" data-source-line="2755"><a class="markdownIt-Anchor" href="#33-string-reorder"></a><a href="#string-reorder">3.3 String Reorder</a></h3>
<h4 id="le_6-zigzag-conversion" data-source-line="2756"><a class="markdownIt-Anchor" href="#le_6-zigzag-conversion"></a>LE_6. Zigzag Conversion</h4>
<pre data-source-line="2757"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">convert</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span> numRows)</span> </span>{
  <span class="hljs-keyword">if</span>(numRows &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> s;
  <span class="hljs-built_in">string</span> res;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numRows; i++) {
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt; s.length() + <span class="hljs-number">2</span> * (numRows - <span class="hljs-number">1</span>); j += <span class="hljs-number">2</span> * (numRows - <span class="hljs-number">1</span>)) {
      <span class="hljs-keyword">if</span>(i % (numRows - <span class="hljs-number">1</span>) != <span class="hljs-number">0</span> &amp;&amp; j - <span class="hljs-number">2</span> * i &gt; <span class="hljs-number">0</span> &amp;&amp; j - <span class="hljs-number">2</span> * i &lt; s.length())
        res.push_back(s[j - <span class="hljs-number">2</span> * i]);
      <span class="hljs-keyword">if</span>(j &lt; s.length()) res.push_back(s[j]);
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_151-reverse-words-in-a-string" data-source-line="2771"><a class="markdownIt-Anchor" href="#le_151-reverse-words-in-a-string"></a>LE_151. Reverse Words in a String</h4>
<pre data-source-line="2772"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">reverseWords</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  reverse(s.begin(), s.end());
  <span class="hljs-built_in">string</span> word = <span class="hljs-string">""</span>, rev;
  <span class="hljs-keyword">char</span> a = <span class="hljs-string">' '</span>;
  <span class="hljs-keyword">int</span> it = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (a != <span class="hljs-string">'\0'</span>){
    <span class="hljs-keyword">if</span> (s[it] != <span class="hljs-string">' '</span>) {
      word += s[it];
      <span class="hljs-keyword">if</span> (s[it + <span class="hljs-number">1</span>] ==<span class="hljs-string">' '</span> || s[it + <span class="hljs-number">1</span>] == <span class="hljs-string">'\0'</span>) {
        reverse(word.begin(), word.end());
        rev.append(word + <span class="hljs-string">' '</span>);
        word = <span class="hljs-string">""</span>;
      }
    }
    it++;
    a = s[it];
  }
  rev.pop_back();
  <span class="hljs-keyword">return</span> rev;
}
</code></pre><h4 id="le_345-reverse-vowels-of-a-string" data-source-line="2794"><a class="markdownIt-Anchor" href="#le_345-reverse-vowels-of-a-string"></a>LE_345. Reverse Vowels of a String</h4>
<pre data-source-line="2795"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">reverseVowels</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> low = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> high = s.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span>(low &lt; high) {
    low = s.find_first_of(<span class="hljs-string">"aeiouAEIOU"</span>, low);
    high = s.find_last_of(<span class="hljs-string">"aeiouAEIOU"</span>, high);
    <span class="hljs-keyword">if</span> (low &lt; high) swap(s[low++], s[high--]);
  }
  <span class="hljs-keyword">return</span> s;
}
</code></pre><h3 id="34-string-number" data-source-line="2807"><a class="markdownIt-Anchor" href="#34-string-number"></a><a href="#string-number">3.4 String Number</a></h3>
<h4 id="le_8-string-to-integer-atoi" data-source-line="2808"><a class="markdownIt-Anchor" href="#le_8-string-to-integer-atoi"></a>LE_8. String to Integer (atoi)</h4>
<pre data-source-line="2809"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">myAtoi</span><span class="hljs-params">(<span class="hljs-built_in">string</span> str)</span> </span>{
  <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>, ind = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(str.length() &gt; <span class="hljs-number">0</span> &amp;&amp; str[<span class="hljs-number">0</span>] == <span class="hljs-string">' '</span>) str.erase(str.begin());
  <span class="hljs-keyword">if</span>(str[<span class="hljs-number">0</span>] == <span class="hljs-string">'+'</span> || str[<span class="hljs-number">0</span>] == <span class="hljs-string">'-'</span>) {
    <span class="hljs-keyword">if</span>(str[<span class="hljs-number">0</span>] == <span class="hljs-string">'-'</span>) k = <span class="hljs-number">-1</span>;
    str.erase(str.begin());
  }
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> ind = <span class="hljs-number">0</span>; ind &lt; str.length(); ind++) {
    <span class="hljs-keyword">if</span>(str[ind] &lt; <span class="hljs-string">'0'</span> || str[ind] &gt; <span class="hljs-string">'9'</span>) <span class="hljs-keyword">break</span>;
    sum = sum * <span class="hljs-number">10</span> + str[ind] - <span class="hljs-string">'0'</span>;
    <span class="hljs-keyword">if</span>(sum * k &lt; INT_MIN) <span class="hljs-keyword">return</span> INT_MIN;
    <span class="hljs-keyword">if</span>(sum * k &gt; INT_MAX) <span class="hljs-keyword">return</span> INT_MAX;
  }
  <span class="hljs-keyword">return</span> sum * k;
}
</code></pre><h4 id="le_43-multiply-strings" data-source-line="2827"><a class="markdownIt-Anchor" href="#le_43-multiply-strings"></a>LE_43. Multiply Strings</h4>
<pre data-source-line="2828"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">multiply</span><span class="hljs-params">(<span class="hljs-built_in">string</span> num1, <span class="hljs-built_in">string</span> num2)</span> </span>{
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">res</span><span class="hljs-params">(num1.size() + num2.size(), <span class="hljs-string">'0'</span>)</span></span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = num1.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">int</span> carry = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = num2.size() - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">int</span> tmp = res[i + j + <span class="hljs-number">1</span>] - <span class="hljs-string">'0'</span> + (num1[i] - <span class="hljs-string">'0'</span>) * 
                (num2[j] - <span class="hljs-string">'0'</span>) + carry;
      res[i + j + <span class="hljs-number">1</span>] = tmp % <span class="hljs-number">10</span> + <span class="hljs-string">'0'</span>;
      carry = tmp / <span class="hljs-number">10</span>;
    }
    res[i] += carry;
  }
  <span class="hljs-keyword">int</span> start_pos = res.find_first_not_of(<span class="hljs-string">'0'</span>);
  <span class="hljs-keyword">return</span> start_pos == <span class="hljs-built_in">string</span>::npos? <span class="hljs-string">"0"</span> : res.substr(start_pos);
}
</code></pre><h4 id="le_65-valid-number" data-source-line="2845"><a class="markdownIt-Anchor" href="#le_65-valid-number"></a>LE_65. Valid Number</h4>
<pre data-source-line="2846"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isNumber</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> state = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) {
    <span class="hljs-keyword">switch</span> (state) {
      <span class="hljs-keyword">case</span> <span class="hljs-number">-1</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
      <span class="hljs-keyword">if</span> (c == <span class="hljs-string">' '</span>) state = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">1</span>; 
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'+'</span> || c == <span class="hljs-string">'-'</span>) state = <span class="hljs-number">7</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'.'</span>) state = <span class="hljs-number">4</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'.'</span>) state = <span class="hljs-number">8</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'e'</span> || c == <span class="hljs-string">'E'</span>) state = <span class="hljs-number">2</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">' '</span>) state = <span class="hljs-number">6</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">3</span>; 
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'+'</span> || c == <span class="hljs-string">'-'</span>) state = <span class="hljs-number">5</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">3</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">' '</span>) state = <span class="hljs-number">6</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">10</span>; 
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">3</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>; 
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: 
      <span class="hljs-keyword">if</span> (c == <span class="hljs-string">' '</span>) state = <span class="hljs-number">6</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'.'</span>) state = <span class="hljs-number">9</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>; 
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">10</span>; 
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">' '</span>) state = <span class="hljs-number">6</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'e'</span> || c == <span class="hljs-string">'E'</span>) state = <span class="hljs-number">2</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">8</span>; 
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
      <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">'0'</span> &amp;&amp; c &lt;= <span class="hljs-string">'9'</span>) state = <span class="hljs-number">8</span>; 
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'e'</span> || c == <span class="hljs-string">'E'</span>) state = <span class="hljs-number">2</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">' '</span>) state = <span class="hljs-number">6</span>;
      <span class="hljs-keyword">else</span> state = <span class="hljs-number">-1</span>;
      <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">break</span>;
    }
  }
  <span class="hljs-keyword">return</span> state == <span class="hljs-number">1</span> || state == <span class="hljs-number">3</span> || state == <span class="hljs-number">8</span> || state == <span class="hljs-number">6</span> || state == <span class="hljs-number">10</span>;
}
</code></pre><h4 id="le_67-add-binary" data-source-line="2919"><a class="markdownIt-Anchor" href="#le_67-add-binary"></a>LE_67. Add Binary</h4>
<pre data-source-line="2920"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">addBinary</span><span class="hljs-params">(<span class="hljs-built_in">string</span> a, <span class="hljs-built_in">string</span> b)</span> </span>{ 
  <span class="hljs-built_in">string</span> res = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>, i = a.size() - <span class="hljs-number">1</span>, j = b.size() - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (i &gt;= <span class="hljs-number">0</span> || j &gt;= <span class="hljs-number">0</span> || c == <span class="hljs-number">1</span>) {
    c += i &gt;= <span class="hljs-number">0</span> ? a[i--] - <span class="hljs-string">'0'</span> : <span class="hljs-number">0</span>;
    c += j &gt;= <span class="hljs-number">0</span> ? b[j--] - <span class="hljs-string">'0'</span> : <span class="hljs-number">0</span>;
    res = <span class="hljs-keyword">char</span>(c % <span class="hljs-number">2</span> + <span class="hljs-string">'0'</span>) + res;
    c /= <span class="hljs-number">2</span>;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_168-excel-sheet-column-title" data-source-line="2933"><a class="markdownIt-Anchor" href="#le_168-excel-sheet-column-title"></a>LE_168. Excel Sheet Column Title</h4>
<pre data-source-line="2934"><code class="hljs"><span class="hljs-comment">// A -&gt; 1</span>
<span class="hljs-comment">// B -&gt; 2</span>
<span class="hljs-comment">// C -&gt; 3</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-comment">// Z -&gt; 26</span>
<span class="hljs-comment">// AA -&gt; 27</span>
<span class="hljs-comment">// AB -&gt; 28 </span>
<span class="hljs-comment">// ...</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">convertToTitle</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">return</span> n == <span class="hljs-number">0</span> ? <span class="hljs-string">""</span> : convertToTitle(n / <span class="hljs-number">26</span>) + (<span class="hljs-keyword">char</span>)(--n % <span class="hljs-number">26</span> + <span class="hljs-string">'A'</span>);
}
</code></pre><h4 id="le_171-excel-sheet-column-number" data-source-line="2947"><a class="markdownIt-Anchor" href="#le_171-excel-sheet-column-number"></a>LE_171. Excel Sheet Column Number</h4>
<pre data-source-line="2948"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">titleToNumber</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c : s) res = res * <span class="hljs-number">26</span> - <span class="hljs-string">'A'</span> + c + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_179-largest-number" data-source-line="2955"><a class="markdownIt-Anchor" href="#le_179-largest-number"></a>LE_179. Largest Number</h4>
<pre data-source-line="2956"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">largestNumber</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; strs;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> n : nums) strs.emplace_back(to_string(n));
  sort(strs.begin(), strs.end(), [](<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp; a, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp; b) 
    { <span class="hljs-keyword">return</span> a + b &gt; b + a; });
  <span class="hljs-keyword">int</span> no_zero_ind = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">string</span> res = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">while</span> (no_zero_ind &lt; strs.size() &amp;&amp; strs[no_zero_ind] == <span class="hljs-string">"0"</span>) no_zero_ind++;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = no_zero_ind; i &lt; strs.size(); i++) res += strs[i];
  <span class="hljs-keyword">return</span> res == <span class="hljs-string">""</span> ? <span class="hljs-string">"0"</span> : res;
}
</code></pre><h4 id="le_273-integer-to-english-words" data-source-line="2969"><a class="markdownIt-Anchor" href="#le_273-integer-to-english-words"></a>LE_273. Integer to English Words</h4>
<pre data-source-line="2970"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; below_20 = {<span class="hljs-string">"One"</span>, <span class="hljs-string">"Two"</span>, <span class="hljs-string">"Three"</span>, <span class="hljs-string">"Four"</span>,<span class="hljs-string">"Five"</span>,<span class="hljs-string">"Six"</span>,<span class="hljs-string">"Seven"</span>,
                           <span class="hljs-string">"Eight"</span>,<span class="hljs-string">"Nine"</span>,<span class="hljs-string">"Ten"</span>, <span class="hljs-string">"Eleven"</span>,<span class="hljs-string">"Twelve"</span>,<span class="hljs-string">"Thirteen"</span>,
                           <span class="hljs-string">"Fourteen"</span>,<span class="hljs-string">"Fifteen"</span>,<span class="hljs-string">"Sixteen"</span>,<span class="hljs-string">"Seventeen"</span>,
                           <span class="hljs-string">"Eighteen"</span>,<span class="hljs-string">"Nineteen"</span>};
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; below_100 = {<span class="hljs-string">"Twenty"</span>, <span class="hljs-string">"Thirty"</span>, <span class="hljs-string">"Forty"</span>, <span class="hljs-string">"Fifty"</span>, <span class="hljs-string">"Sixty"</span>, 
                            <span class="hljs-string">"Seventy"</span>, <span class="hljs-string">"Eighty"</span>, <span class="hljs-string">"Ninety"</span>};

<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">numberToWords</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>{
  <span class="hljs-keyword">if</span> (num == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"Zero"</span>;
  <span class="hljs-keyword">return</span> int2str(num).substr(<span class="hljs-number">1</span>);
}

<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">int2str</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">1e9</span>) <span class="hljs-keyword">return</span> int2str(n / <span class="hljs-number">1e9</span>) + <span class="hljs-string">" Billion"</span> + int2str(n % <span class="hljs-number">1e9</span>);
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">1e6</span>) <span class="hljs-keyword">return</span> int2str(n / <span class="hljs-number">1e6</span>) + <span class="hljs-string">" Million"</span> + int2str(n % <span class="hljs-number">1e6</span>);
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">1e3</span>) <span class="hljs-keyword">return</span> int2str(n / <span class="hljs-number">1e3</span>) + <span class="hljs-string">" Thousand"</span> + int2str(n % <span class="hljs-number">1e3</span>);
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">100</span>) <span class="hljs-keyword">return</span> int2str(n / <span class="hljs-number">100</span>) + <span class="hljs-string">" Hundred"</span> + int2str(n % <span class="hljs-number">100</span>);
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">20</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">" "</span> + below_100[n / <span class="hljs-number">10</span> - <span class="hljs-number">2</span>] + int2str(n % <span class="hljs-number">10</span>);
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">" "</span> + below_20[n - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
}
</code></pre><h4 id="le_299-bulls-and-cows" data-source-line="2993"><a class="markdownIt-Anchor" href="#le_299-bulls-and-cows"></a>LE_299. Bulls and Cows</h4>
<pre data-source-line="2994"><code class="hljs"><span class="hljs-comment">// Input: secret = "1807", guess = "7810"</span>
<span class="hljs-comment">// Output: "1A3B"</span>
<span class="hljs-comment">// A: right num, right pos,</span>
<span class="hljs-comment">// B: right num, wrong pos</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getHint</span><span class="hljs-params">(<span class="hljs-built_in">string</span> secret, <span class="hljs-built_in">string</span> guess)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; record_map(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">int</span> bulls = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> cows = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; secret.size(); i++) {
    <span class="hljs-keyword">if</span> (secret[i] == guess[i])
      bulls++;
    <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (record_map[secret[i] - <span class="hljs-string">'0'</span>] ++ &lt; <span class="hljs-number">0</span>)
        cows++;
      <span class="hljs-keyword">if</span> (record_map[guess[i] - <span class="hljs-string">'0'</span>] -- &gt; <span class="hljs-number">0</span>)
        cows++;
    }
  }
  <span class="hljs-keyword">return</span> to_string(bulls) + <span class="hljs-string">'A'</span> + to_string(cows) + <span class="hljs-string">'B'</span>;
}
</code></pre><h4 id="le_306-additive-number" data-source-line="3016"><a class="markdownIt-Anchor" href="#le_306-additive-number"></a>LE_306. Additive Number</h4>
<pre data-source-line="3017"><code class="hljs"><span class="hljs-comment">// Input: "112358"</span>
<span class="hljs-comment">// Output: true</span>
<span class="hljs-comment">// 1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8</span>

<span class="hljs-comment">// Input: "199100199"</span>
<span class="hljs-comment">// Output: true</span>
<span class="hljs-comment">// Explanation: </span>
<span class="hljs-comment">// The additive sequence is: 1, 99, 100, 199. </span>
<span class="hljs-comment">// 1 + 99 = 100, 99 + 100 = 199</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isAdditiveNumber</span><span class="hljs-params">(<span class="hljs-built_in">string</span> num, <span class="hljs-keyword">long</span> last2 = <span class="hljs-number">-1</span>, <span class="hljs-keyword">long</span> last1 = <span class="hljs-number">-1</span>, 
                      <span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>)</span> </span>{
  <span class="hljs-keyword">long</span> val = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos; i &lt; num.size(); i++) {
    val = val * <span class="hljs-number">10</span> + num[i] - <span class="hljs-string">'0'</span>;
    <span class="hljs-keyword">if</span> (val &gt; LONG_MAX / <span class="hljs-number">100</span> || num[pos] == <span class="hljs-string">'0'</span> &amp;&amp; i &gt; pos) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">if</span> (last2 == <span class="hljs-number">-1</span>) { 
      <span class="hljs-keyword">if</span> (isAdditiveNumber(num, val, last1, i + <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (last1 == <span class="hljs-number">-1</span>) { 
      <span class="hljs-keyword">if</span> (isAdditiveNumber(num, last2, val, i + <span class="hljs-number">1</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (last2 + last1 == val) <span class="hljs-keyword">return</span> i == num.size() - <span class="hljs-number">1</span> ? <span class="hljs-literal">true</span> : 
          isAdditiveNumber(num, last1, val, i + <span class="hljs-number">1</span>);
      <span class="hljs-keyword">if</span> (last2 + last1 &lt; val) <span class="hljs-keyword">break</span>;
    } 
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_423-reconstruct-original-digits-from-english" data-source-line="3046"><a class="markdownIt-Anchor" href="#le_423-reconstruct-original-digits-from-english"></a>LE_423. Reconstruct Original Digits from English</h4>
<pre data-source-line="3047"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">originalDigits</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cnt(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) {
    <span class="hljs-keyword">switch</span> (c) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'z'</span>: cnt[<span class="hljs-number">0</span>]++; <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'w'</span>: cnt[<span class="hljs-number">2</span>]++; <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'x'</span>: cnt[<span class="hljs-number">6</span>]++; <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'s'</span>: cnt[<span class="hljs-number">7</span>]++; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 7, 6</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'g'</span>: cnt[<span class="hljs-number">8</span>]++; <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'u'</span>: cnt[<span class="hljs-number">4</span>]++; <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">'f'</span>: cnt[<span class="hljs-number">5</span>]++; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 5, 4</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'h'</span>: cnt[<span class="hljs-number">3</span>]++; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 3, 8</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'i'</span>: cnt[<span class="hljs-number">9</span>]++; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 9, 8, 5, 6</span>
      <span class="hljs-keyword">case</span> <span class="hljs-string">'o'</span>: cnt[<span class="hljs-number">1</span>]++; <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 1, 0, 2, 4</span>
      <span class="hljs-keyword">default</span>: <span class="hljs-keyword">break</span>;
    }
  }
  cnt[<span class="hljs-number">7</span>] -= cnt[<span class="hljs-number">6</span>];
  cnt[<span class="hljs-number">5</span>] -= cnt[<span class="hljs-number">4</span>];
  cnt[<span class="hljs-number">3</span>] -= cnt[<span class="hljs-number">8</span>];
  cnt[<span class="hljs-number">9</span>] -= cnt[<span class="hljs-number">8</span>] + cnt[<span class="hljs-number">5</span>] + cnt[<span class="hljs-number">6</span>];
  cnt[<span class="hljs-number">1</span>] -= cnt[<span class="hljs-number">0</span>] + cnt[<span class="hljs-number">2</span>] + cnt[<span class="hljs-number">4</span>];
  <span class="hljs-built_in">string</span> res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; i++) res += <span class="hljs-built_in">string</span>(cnt[i], <span class="hljs-string">'0'</span> + i);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_481-magical-string" data-source-line="3075"><a class="markdownIt-Anchor" href="#le_481-magical-string"></a>LE_481. Magical String</h4>
<pre data-source-line="3076"><code class="hljs"><span class="hljs-comment">// s = "1221121221221121122<span class="zh-hans">……</span>". </span>
<span class="hljs-comment">// If we group the consecutive 1's and 2's in s, </span>
<span class="hljs-comment">// it will be "1 22 11 2 1 22 1 22 11 2 11 22 ......" </span>
<span class="hljs-comment">// and the occurrences of 1's or 2's in each group are </span>
<span class="hljs-comment">// "1 2 2 1 1 2 1 2 2 1 2 2 ......". </span>
<span class="hljs-comment">// return the number of 1's in the first n number in the magical string s.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">magicalString</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> n &gt;= <span class="hljs-number">1</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; seq = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span> };
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>, ind = <span class="hljs-number">2</span>, x = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (seq.size() &lt; n) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; seq[ind]; i++) {
      seq.push_back(x);
      res += x == <span class="hljs-number">1</span> &amp;&amp; seq.size() &lt;= n;
    }
    x ^= <span class="hljs-number">3</span>;
    ind++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_483-smallest-good-base" data-source-line="3098"><a class="markdownIt-Anchor" href="#le_483-smallest-good-base"></a>LE_483. Smallest Good Base</h4>
<pre data-source-line="3099"><code class="hljs"><span class="hljs-comment">// return the smallest good base of n.</span>
<span class="hljs-comment">// We call k &gt;= 2 a good base of n, if all digits of n base k are 1's.</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">smallestGoodBase</span><span class="hljs-params">(<span class="hljs-built_in">string</span> n)</span> </span>{
  <span class="hljs-keyword">uint64_t</span> num = stol(n);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> m = <span class="hljs-built_in">log</span>(num) / <span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>); m &gt;= <span class="hljs-number">2</span>; m--) {
    <span class="hljs-keyword">long</span> k = <span class="hljs-built_in">pow</span>(num, <span class="hljs-number">1.</span> / m), sum = <span class="hljs-number">1</span>, p = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) p *= k, sum += p;
    <span class="hljs-keyword">if</span> (sum == num) <span class="hljs-keyword">return</span> to_string(k);
  }
  <span class="hljs-keyword">return</span> to_string(num - <span class="hljs-number">1</span>);
}
</code></pre><h3 id="35-roman" data-source-line="3112"><a class="markdownIt-Anchor" href="#35-roman"></a><a href="#roman">3.5 Roman</a></h3>
<h4 id="le_12-integer-to-roman" data-source-line="3113"><a class="markdownIt-Anchor" href="#le_12-integer-to-roman"></a>LE_12. Integer to Roman</h4>
<pre data-source-line="3114"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">intToRoman</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; s1000 = {<span class="hljs-string">""</span>,<span class="hljs-string">"M"</span>,<span class="hljs-string">"MM"</span>,<span class="hljs-string">"MMM"</span>};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; s100  = {<span class="hljs-string">""</span>,<span class="hljs-string">"C"</span>,<span class="hljs-string">"CC"</span>,<span class="hljs-string">"CCC"</span>,<span class="hljs-string">"CD"</span>,<span class="hljs-string">"D"</span>,<span class="hljs-string">"DC"</span>,<span class="hljs-string">"DCC"</span>,<span class="hljs-string">"DCCC"</span>,<span class="hljs-string">"CM"</span>};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; s10   = {<span class="hljs-string">""</span>,<span class="hljs-string">"X"</span>,<span class="hljs-string">"XX"</span>,<span class="hljs-string">"XXX"</span>,<span class="hljs-string">"XL"</span>,<span class="hljs-string">"L"</span>,<span class="hljs-string">"LX"</span>,<span class="hljs-string">"LXX"</span>,<span class="hljs-string">"LXXX"</span>,<span class="hljs-string">"XC"</span>};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; s1    = {<span class="hljs-string">""</span>,<span class="hljs-string">"I"</span>,<span class="hljs-string">"II"</span>,<span class="hljs-string">"III"</span>,<span class="hljs-string">"IV"</span>,<span class="hljs-string">"V"</span>,<span class="hljs-string">"VI"</span>,<span class="hljs-string">"VII"</span>,<span class="hljs-string">"VIII"</span>,<span class="hljs-string">"IX"</span>};
  <span class="hljs-keyword">return</span> s1000[num/<span class="hljs-number">1000</span>%<span class="hljs-number">10</span>] + s100[num/<span class="hljs-number">100</span>%<span class="hljs-number">10</span>] + s10[num/<span class="hljs-number">10</span>%<span class="hljs-number">10</span>] + s1[num%<span class="hljs-number">10</span>];
}
</code></pre><h4 id="le_13-roman-to-integer" data-source-line="3123"><a class="markdownIt-Anchor" href="#le_13-roman-to-integer"></a>LE_13. Roman to Integer</h4>
<pre data-source-line="3124"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">romanToInt</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int</span> s_ind = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; hm;
  hm[<span class="hljs-string">'I'</span>] = <span class="hljs-number">1</span>;
  hm[<span class="hljs-string">'V'</span>] = <span class="hljs-number">5</span>;
  hm[<span class="hljs-string">'X'</span>] = <span class="hljs-number">10</span>;
  hm[<span class="hljs-string">'L'</span>] = <span class="hljs-number">50</span>;
  hm[<span class="hljs-string">'C'</span>] = <span class="hljs-number">100</span>;
  hm[<span class="hljs-string">'D'</span>] = <span class="hljs-number">500</span>;
  hm[<span class="hljs-string">'M'</span>] = <span class="hljs-number">1000</span>;
  <span class="hljs-keyword">int</span> res = hm[s.back()], pre = hm[s.back()];
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = s.size() - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">int</span> tmp = hm[s[i]];
    tmp &lt; pre ? res -= tmp : res += tmp;
    pre = tmp;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="36-prefix" data-source-line="3144"><a class="markdownIt-Anchor" href="#36-prefix"></a><a href="#prefix">3.6 Prefix</a></h3>
<h4 id="le_14-longest-common-prefix" data-source-line="3145"><a class="markdownIt-Anchor" href="#le_14-longest-common-prefix"></a>LE_14. Longest Common Prefix</h4>
<pre data-source-line="3146"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">longestCommonPrefix</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; &amp; strs)</span> </span>{
  <span class="hljs-keyword">if</span>(strs.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
  <span class="hljs-built_in">string</span> pre = strs[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; strs.size(); i++)
    <span class="hljs-keyword">while</span>(strs[i].find(pre) != <span class="hljs-number">0</span>)
      pre.pop_back();
  <span class="hljs-keyword">return</span> pre;
}
</code></pre><h3 id="37-zip-string" data-source-line="3156"><a class="markdownIt-Anchor" href="#37-zip-string"></a><a href="#zip-string">3.7 Zip String</a></h3>
<h4 id="le_38-count-and-say" data-source-line="3157"><a class="markdownIt-Anchor" href="#le_38-count-and-say"></a>LE_38. Count and Say</h4>
<pre data-source-line="3158"><code class="hljs"><span class="hljs-comment">// Input: n = 4</span>
<span class="hljs-comment">// Output: "1211"</span>
<span class="hljs-comment">// Explanation:</span>
<span class="hljs-comment">// countAndSay(1) = "1"</span>
<span class="hljs-comment">// countAndSay(2) = say "1" = one 1 = "11"</span>
<span class="hljs-comment">// countAndSay(3) = say "11" = two 1's = "21"</span>
<span class="hljs-comment">// countAndSay(4) = say "21" = one 2 + one 1 = "12" + "11" = "1211"</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">countAndSay</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"1"</span>;
  <span class="hljs-keyword">if</span>(n == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"11"</span>;
  <span class="hljs-built_in">string</span> last_res = countAndSay(n - <span class="hljs-number">1</span>);
  <span class="hljs-built_in">string</span> res = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">int</span> count = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; last_res.size(); i++) {
    <span class="hljs-keyword">if</span>(last_res[i] != last_res[i - <span class="hljs-number">1</span>]) {
      res.push_back(<span class="hljs-string">'0'</span> + count);
      res.push_back(last_res[i - <span class="hljs-number">1</span>]);
      count = <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span> count ++;
    <span class="hljs-keyword">if</span>(i == last_res.size() - <span class="hljs-number">1</span>) {
      res.push_back(<span class="hljs-string">'0'</span> + count);
      res.push_back(last_res[i]);
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_443-string-compression" data-source-line="3187"><a class="markdownIt-Anchor" href="#le_443-string-compression"></a>LE_443. String Compression</h4>
<pre data-source-line="3188"><code class="hljs"><span class="hljs-comment">// Input: chars = ["a","a","b","b","c","c","c"]</span>
<span class="hljs-comment">// Output: 6, "a2b2c3".sz</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">compress</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&amp; chars)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt;&gt; cnt;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> fr = <span class="hljs-number">0</span>, to = <span class="hljs-number">0</span>; to &lt;= chars.size(); to++) {
    <span class="hljs-keyword">if</span> (to == chars.size() || chars[to] != chars[fr])
      cnt.push_back({chars[fr], to - fr}), fr = to;
  }
  chars.clear();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [ch, c]: cnt) {
    chars.push_back(ch);
    <span class="hljs-keyword">if</span> (c &gt; <span class="hljs-number">1</span>) {
      <span class="hljs-built_in">string</span> single_cnt = to_string(c);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> cha: single_cnt) chars.push_back(cha);
    }
  }
  <span class="hljs-keyword">return</span> chars.size();
}
</code></pre><h3 id="38-anagrams" data-source-line="3208"><a class="markdownIt-Anchor" href="#38-anagrams"></a><a href="#anagrams">3.8 Anagrams</a></h3>
<h4 id="le_49-group-anagrams" data-source-line="3209"><a class="markdownIt-Anchor" href="#le_49-group-anagrams"></a>LE_49. Group Anagrams</h4>
<pre data-source-line="3210"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; groupAnagrams(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; strs) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; &gt; res;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">multiset</span>&lt;<span class="hljs-built_in">string</span>&gt; &gt; mp;
  <span class="hljs-keyword">for</span>(<span class="hljs-built_in">string</span> s : strs) {
    <span class="hljs-built_in">string</span> t = s;
    sort(t.begin(), t.end());
    mp[t].insert(s);
  }
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> m : mp) {
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; tmp(m.second.begin(), m.second.end());
    res.push_back(tmp);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><pre data-source-line="3226"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isAnagram</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> t)</span> </span>{
  <span class="hljs-keyword">if</span> (s.size() != t.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; c_map(<span class="hljs-number">26</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;&amp; c : s) c_map[c - <span class="hljs-string">'a'</span>]++;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;&amp; c : t) <span class="hljs-keyword">if</span> (--c_map[c - <span class="hljs-string">'a'</span>] &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_438-find-all-anagrams-in-a-string" data-source-line="3235"><a class="markdownIt-Anchor" href="#le_438-find-all-anagrams-in-a-string"></a>LE_438. Find All Anagrams in a String</h4>
<pre data-source-line="3236"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findAnagrams(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> p) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; pm, sm;
  <span class="hljs-keyword">int</span> diff_cnt = p.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; c: p) pm[c]++;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    sm[s[i]]++ &lt; pm[s[i]] ? diff_cnt-- : diff_cnt++;
    <span class="hljs-keyword">if</span> (i &gt;= p.size() - <span class="hljs-number">1</span>) {
      <span class="hljs-keyword">if</span> (!diff_cnt) res.push_back(i - p.size() + <span class="hljs-number">1</span>);
      sm[s[i - p.size() + <span class="hljs-number">1</span>]]-- &gt; pm[s[i - p.size() + <span class="hljs-number">1</span>]] ? 
        diff_cnt-- : diff_cnt++;
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="39-text" data-source-line="3253"><a class="markdownIt-Anchor" href="#39-text"></a><a href="#text">3.9 Text</a></h3>
<h4 id="le_68-text-justification" data-source-line="3254"><a class="markdownIt-Anchor" href="#le_68-text-justification"></a>LE_68. Text Justification</h4>
<pre data-source-line="3255"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; fullJustify(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; words, <span class="hljs-keyword">int</span> maxWidth) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, k, l; i &lt; words.size(); i += k) {
    <span class="hljs-keyword">for</span> (k = l = <span class="hljs-number">0</span>; i + k &lt; words.size() &amp;&amp; 
         l + words[i + k].size() &lt;= maxWidth - k; k++)
      l += words[i + k].size();
    <span class="hljs-built_in">string</span> tmp = words[i];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; k - <span class="hljs-number">1</span>; j++) {
      <span class="hljs-keyword">if</span> (i + k &gt;= words.size()) tmp += <span class="hljs-string">" "</span>;
      <span class="hljs-keyword">else</span> tmp += <span class="hljs-built_in">string</span>((maxWidth - l) / (k - <span class="hljs-number">1</span>) + 
                         (j &lt; (maxWidth - l) % (k - <span class="hljs-number">1</span>)), <span class="hljs-string">' '</span>);
      tmp += words[i + j + <span class="hljs-number">1</span>];
    }
    tmp += <span class="hljs-built_in">string</span>(maxWidth - tmp.size(), <span class="hljs-string">' '</span>);
    res.push_back(tmp);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_393-utf-8-validation" data-source-line="3275"><a class="markdownIt-Anchor" href="#le_393-utf-8-validation"></a>LE_393. UTF-8 Validation</h4>
<pre data-source-line="3276"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">validUtf8</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; data)</span> </span>{
  <span class="hljs-keyword">int</span> ind = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (ind &lt; data.size()) {
    <span class="hljs-keyword">if</span> ((data[ind] &amp; <span class="hljs-number">0x80</span>) == <span class="hljs-number">0x00</span>) { 
      ind++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((data[ind] &amp; <span class="hljs-number">0xe0</span>) == <span class="hljs-number">0xc0</span>) {
      <span class="hljs-keyword">if</span> (++ind == data.size() || (data[ind] &amp; <span class="hljs-number">0xc0</span>) != <span class="hljs-number">0x80</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      ind++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((data[ind] &amp; <span class="hljs-number">0xf0</span>) == <span class="hljs-number">0xe0</span>) {
      <span class="hljs-keyword">if</span> (++ind == data.size() || (data[ind] &amp; <span class="hljs-number">0xc0</span>) != <span class="hljs-number">0x80</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">if</span> (++ind == data.size() || (data[ind] &amp; <span class="hljs-number">0xc0</span>) != <span class="hljs-number">0x80</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      ind++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((data[ind] &amp; <span class="hljs-number">0xf8</span>) == <span class="hljs-number">0xf0</span>) {
      <span class="hljs-keyword">if</span> (++ind == data.size() || (data[ind] &amp; <span class="hljs-number">0xc0</span>) != <span class="hljs-number">0x80</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">if</span> (++ind == data.size() || (data[ind] &amp; <span class="hljs-number">0xc0</span>) != <span class="hljs-number">0x80</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">if</span> (++ind == data.size() || (data[ind] &amp; <span class="hljs-number">0xc0</span>) != <span class="hljs-number">0x80</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      ind++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h3 id="3a-file-path" data-source-line="3299"><a class="markdownIt-Anchor" href="#3a-file-path"></a><a href="#file-path">3.A File Path</a></h3>
<h4 id="le_71-simplify-path" data-source-line="3300"><a class="markdownIt-Anchor" href="#le_71-simplify-path"></a>LE_71. Simplify Path</h4>
<pre data-source-line="3301"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">simplifyPath</span><span class="hljs-params">(<span class="hljs-built_in">string</span> path)</span> </span>{
  <span class="hljs-built_in">string</span> res, tmp;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; stk;
  <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(path)</span></span>;
  <span class="hljs-keyword">while</span> (getline(ss, tmp, <span class="hljs-string">'/'</span>)) {
    <span class="hljs-keyword">if</span> (tmp == <span class="hljs-string">""</span> || tmp == <span class="hljs-string">"."</span>) <span class="hljs-keyword">continue</span>;
    <span class="hljs-keyword">if</span> (tmp == <span class="hljs-string">".."</span> &amp;&amp; stk.size()) stk.pop_back();
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tmp != <span class="hljs-string">".."</span>) stk.push_back(tmp);
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> str : stk) res += <span class="hljs-string">"/"</span> + str;
  <span class="hljs-keyword">return</span> res.size() ? res : <span class="hljs-string">"/"</span>;
}
</code></pre><h4 id="le_388-longest-absolute-file-path" data-source-line="3315"><a class="markdownIt-Anchor" href="#le_388-longest-absolute-file-path"></a>LE_388. Longest Absolute File Path</h4>
<pre data-source-line="3316"><code class="hljs"><span class="hljs-comment">// dir</span>
<span class="hljs-comment">// <span class="zh-hans">⟶</span> subdir1</span>
<span class="hljs-comment">// <span class="zh-hans">⟶</span> subdir2</span>
<span class="hljs-comment">// <span class="zh-hans">⟶</span> <span class="zh-hans">⟶</span> <span class="zh-hans">⟶</span> file.ext</span>
<span class="hljs-comment">// Input: input = "dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext"</span>
<span class="hljs-comment">// Output: 20</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lengthLongestPath</span><span class="hljs-params">(<span class="hljs-built_in">string</span> input)</span> </span>{
  <span class="hljs-built_in">stack</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; stk;
  <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(input)</span></span>;
  <span class="hljs-built_in">string</span> tmp;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (getline(ss, tmp, <span class="hljs-string">'\n'</span>)) {
    <span class="hljs-keyword">int</span> level = tmp.find_first_not_of(<span class="hljs-string">'\t'</span>);
    <span class="hljs-keyword">while</span> (stk.size() &amp;&amp; stk.top().first &gt;= level) stk.pop();
    <span class="hljs-keyword">int</span> cur = stk.size() ? stk.top().second + <span class="hljs-number">1</span> : <span class="hljs-number">0</span>; <span class="hljs-comment">//dir name</span>
    cur += tmp.size() - level; <span class="hljs-comment">// file name</span>
    <span class="hljs-keyword">if</span> (tmp.find(<span class="hljs-string">'.'</span>) != <span class="hljs-built_in">string</span>::npos) res = max(res, cur);
    stk.push({level, cur});
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="3b-string-sliding-window" data-source-line="3339"><a class="markdownIt-Anchor" href="#3b-string-sliding-window"></a><a href="#string-sliding-window">3.B String Sliding Window</a></h3>
<h4 id="le_76-minimum-window-substring" data-source-line="3340"><a class="markdownIt-Anchor" href="#le_76-minimum-window-substring"></a>LE_76. Minimum Window Substring</h4>
<pre data-source-line="3341"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">minWindow</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> t)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">map</span>(<span class="hljs-number">128</span>,<span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> c: t) <span class="hljs-built_in">map</span>[c]++;
  <span class="hljs-keyword">int</span> counter=t.size(), begin=<span class="hljs-number">0</span>, end=<span class="hljs-number">0</span>, d=INT_MAX, head=<span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(end&lt;s.size()){
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">map</span>[s[end++]]--&gt;<span class="hljs-number">0</span>) counter--; <span class="hljs-comment">//in t</span>
    <span class="hljs-keyword">while</span>(counter==<span class="hljs-number">0</span>){ <span class="hljs-comment">//valid</span>
      <span class="hljs-keyword">if</span>(end-begin&lt;d)  d=end-(head=begin);
      <span class="hljs-keyword">if</span>(<span class="hljs-built_in">map</span>[s[begin++]]++==<span class="hljs-number">0</span>) counter++;  <span class="hljs-comment">//make it invalid</span>
    }  
  }
  <span class="hljs-keyword">return</span> d==INT_MAX? <span class="hljs-string">""</span>:s.substr(head, d);
}
</code></pre><h3 id="3c-decode" data-source-line="3356"><a class="markdownIt-Anchor" href="#3c-decode"></a><a href="#decode">3.C Decode</a></h3>
<h4 id="le_91-decode-ways" data-source-line="3357"><a class="markdownIt-Anchor" href="#le_91-decode-ways"></a>LE_91. Decode Ways</h4>
<pre data-source-line="3358"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-title">numDecodings</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">if</span> (s.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> pre2 = <span class="hljs-number">0</span>, pre1 = <span class="hljs-number">0</span>, tmp = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">'0'</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
      <span class="hljs-keyword">else</span> tmp = <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">'0'</span>) {
      <span class="hljs-keyword">if</span> (s[i - <span class="hljs-number">1</span>] == <span class="hljs-string">'1'</span> || s[i - <span class="hljs-number">1</span>] == <span class="hljs-string">'2'</span>)
        tmp = (i &gt;= <span class="hljs-number">2</span> ? pre2 : <span class="hljs-number">1</span>);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i - <span class="hljs-number">1</span>] == <span class="hljs-string">'0'</span> || s[i - <span class="hljs-number">1</span>] &gt; <span class="hljs-string">'2'</span> || 
             (s[i - <span class="hljs-number">1</span>] == <span class="hljs-string">'2'</span> &amp;&amp; s[i] &gt; <span class="hljs-string">'6'</span>))
        tmp = pre1;
    <span class="hljs-keyword">else</span>
        tmp = pre1 + (i &gt;= <span class="hljs-number">2</span> ? pre2 : <span class="hljs-number">1</span>);
    pre2 = pre1;
    pre1 = tmp;
  }
  <span class="hljs-keyword">return</span> tmp;
}
</code></pre><h4 id="le_394-decode-string" data-source-line="3383"><a class="markdownIt-Anchor" href="#le_394-decode-string"></a>LE_394. Decode String</h4>
<pre data-source-line="3384"><code class="hljs"><span class="hljs-comment">// Input: s = "3[a2[c]]"</span>
<span class="hljs-comment">// Output: "accaccacc"</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">decodeString</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; num_stk;
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-built_in">string</span>&gt; str_stk;
  <span class="hljs-keyword">int</span> cur_num = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">string</span> cur_str = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; c: s) {
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(c)) {
      cur_num = cur_num * <span class="hljs-number">10</span> + c - <span class="hljs-string">'0'</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'['</span>) {
      num_stk.push(cur_num);
      cur_num = <span class="hljs-number">0</span>;
      str_stk.push(cur_str);
      cur_str = <span class="hljs-string">""</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">']'</span>) {
      <span class="hljs-keyword">auto</span> tmp = cur_str;
      cur_str = str_stk.top();
      str_stk.pop();
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; num_stk.top(); i++)
        cur_str += tmp;
      num_stk.pop();
    } <span class="hljs-keyword">else</span> {
      cur_str.push_back(c);
    }
  }
  <span class="hljs-keyword">return</span> cur_str;
}
</code></pre><h3 id="3d-ip-address" data-source-line="3414"><a class="markdownIt-Anchor" href="#3d-ip-address"></a><a href="#ip-address">3.D IP Address</a></h3>
<h4 id="le_93-restore-ip-addresses" data-source-line="3415"><a class="markdownIt-Anchor" href="#le_93-restore-ip-addresses"></a>LE_93. Restore IP Addresses</h4>
<pre data-source-line="3416"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; restoreIpAddresses(<span class="hljs-built_in">string</span> s) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> a = <span class="hljs-number">1</span>; a &lt;= <span class="hljs-number">3</span>; a++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> b = <span class="hljs-number">1</span>; b &lt;= <span class="hljs-number">3</span>; b++)
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> c = <span class="hljs-number">1</span>; c &lt;= <span class="hljs-number">3</span>; c++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> d = <span class="hljs-number">1</span>; d &lt;= <span class="hljs-number">3</span>; d++)
    <span class="hljs-keyword">if</span> (a + b + c + d == s.size()) {
      <span class="hljs-keyword">int</span> aa = stoi(s.substr(<span class="hljs-number">0</span>, a));
      <span class="hljs-keyword">int</span> bb = stoi(s.substr(a, b));
      <span class="hljs-keyword">int</span> cc = stoi(s.substr(a + b, c));
      <span class="hljs-keyword">int</span> dd = stoi(s.substr(a + b + c, d));
      <span class="hljs-keyword">if</span> (aa &lt;= <span class="hljs-number">255</span> &amp;&amp; bb &lt;= <span class="hljs-number">255</span> &amp;&amp; cc &lt;= <span class="hljs-number">255</span> &amp;&amp; dd &lt;= <span class="hljs-number">255</span>) {
        <span class="hljs-keyword">auto</span> tmp = to_string(aa) + <span class="hljs-string">"."</span> + to_string(bb) + <span class="hljs-string">"."</span> + 
                   to_string(cc) + <span class="hljs-string">"."</span> + to_string(dd);
        <span class="hljs-keyword">if</span> (tmp.size() == s.size() + <span class="hljs-number">3</span>)
          res.push_back(tmp);
      }
    }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_468-validate-ip-address" data-source-line="3436"><a class="markdownIt-Anchor" href="#le_468-validate-ip-address"></a>LE_468. Validate IP Address</h4>
<pre data-source-line="3437"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">validIPAddress</span><span class="hljs-params">(<span class="hljs-built_in">string</span> queryIP)</span> </span>{
  <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(queryIP)</span></span>;
  <span class="hljs-built_in">string</span> tmp;
  <span class="hljs-keyword">if</span> (queryIP.find(<span class="hljs-string">'.'</span>) != <span class="hljs-built_in">string</span>::npos) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
      <span class="hljs-keyword">if</span> (!getline(ss, tmp, <span class="hljs-string">'.'</span>) || !tmp.size() ||
          tmp.size() &gt; <span class="hljs-number">1</span> &amp;&amp; tmp[<span class="hljs-number">0</span>] == <span class="hljs-string">'0'</span> ||
          tmp.size() &gt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> c: tmp) <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isdigit</span>(c)) <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
      <span class="hljs-keyword">if</span> (stoi(tmp) &gt; <span class="hljs-number">255</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
    }
    <span class="hljs-keyword">return</span> ss.eof() ? <span class="hljs-string">"IPv4"</span> : <span class="hljs-string">"Neither"</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (queryIP.find(<span class="hljs-string">':'</span>) != <span class="hljs-built_in">string</span>::npos) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i++) {
      <span class="hljs-keyword">if</span> (!getline(ss, tmp, <span class="hljs-string">':'</span>) || !tmp.size() || tmp.size() &gt; <span class="hljs-number">4</span>) 
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> c: tmp) <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isxdigit</span>(c)) <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
    }
    <span class="hljs-keyword">return</span> ss.eof() ? <span class="hljs-string">"IPv6"</span> : <span class="hljs-string">"Neither"</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
}

<span class="hljs-comment">// using regex:</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">validIPAddress</span><span class="hljs-params">(<span class="hljs-built_in">string</span> queryIP)</span> </span>{
  <span class="hljs-built_in">string</span> ipv4_single_reg = <span class="hljs-string">"[0-9]|[1-9][0-9]|1[1-9][0-9]|2[0-4][0-9]|25[0-5]"</span>;
  <span class="hljs-function">regex <span class="hljs-title">ipv4</span><span class="hljs-params">(<span class="hljs-string">"(("</span> + ipv4_single_reg + <span class="hljs-string">")\\.){3}("</span> + ipv4_single_reg + <span class="hljs-string">")"</span>)</span></span>;
  <span class="hljs-function">regex <span class="hljs-title">ipv6</span><span class="hljs-params">(<span class="hljs-string">"((([0-9a-fA-F]){1,4})\\:){7}([0-9a-fA-F]){1,4}"</span>)</span></span>;
  <span class="hljs-keyword">if</span> (regex_match(queryIP, ipv4)) <span class="hljs-keyword">return</span> <span class="hljs-string">"IPv4"</span>;
  <span class="hljs-keyword">if</span> (regex_match(queryIP, ipv6)) <span class="hljs-keyword">return</span> <span class="hljs-string">"IPv6"</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Neither"</span>;
}
</code></pre><h3 id="3e-string-conversion" data-source-line="3471"><a class="markdownIt-Anchor" href="#3e-string-conversion"></a><a href="#string-conversion">3.E String Conversion</a></h3>
<h4 id="le_97-interleaving-string" data-source-line="3472"><a class="markdownIt-Anchor" href="#le_97-interleaving-string"></a>LE_97. Interleaving String</h4>
<pre data-source-line="3473"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isInterleave</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s1, <span class="hljs-built_in">string</span> s2, <span class="hljs-built_in">string</span> s3)</span> </span>{
  <span class="hljs-keyword">if</span> (s1.size() + s2.size() != s3.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &gt; dp(s1.size() + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(s2.size() + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s1.size() + <span class="hljs-number">1</span>; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; s2.size() + <span class="hljs-number">1</span>; j++) {
      <span class="hljs-keyword">if</span> (i + j == <span class="hljs-number">0</span>) dp[i][j] = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>) dp[i][j] = dp[i][j - <span class="hljs-number">1</span>] &amp;&amp; s2[j - <span class="hljs-number">1</span>] == s3[i + j - <span class="hljs-number">1</span>];
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (j == <span class="hljs-number">0</span>) dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] &amp;&amp; s1[i - <span class="hljs-number">1</span>] == s3[i + j - <span class="hljs-number">1</span>];
      <span class="hljs-keyword">else</span> dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] &amp;&amp; s1[i - <span class="hljs-number">1</span>] == s3[i + j - <span class="hljs-number">1</span>] || 
                      dp[i][j - <span class="hljs-number">1</span>] &amp;&amp; s2[j - <span class="hljs-number">1</span>] == s3[i + j - <span class="hljs-number">1</span>];
    }
  }
  <span class="hljs-keyword">return</span> dp[s1.size()][s2.size()];
}
</code></pre><h4 id="le_126-word-ladder-ii" data-source-line="3489"><a class="markdownIt-Anchor" href="#le_126-word-ladder-ii"></a>LE_126. Word Ladder II</h4>
<pre data-source-line="3490"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; getWordNeighborsInDict(<span class="hljs-built_in">string</span> word, <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; dic) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; word.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> c = <span class="hljs-string">'a'</span>; c &lt;= <span class="hljs-string">'z'</span>; c++) {
      <span class="hljs-keyword">char</span> bk = word[i];
      word[i] = c;
      <span class="hljs-keyword">if</span> (c == bk) <span class="hljs-keyword">continue</span>;
      <span class="hljs-keyword">if</span> (dic.find(word) != dic.end()) res.emplace_back(word);
      word[i] = bk;
    }
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; findLadders(<span class="hljs-built_in">string</span> from, <span class="hljs-built_in">string</span> to, 
                                   <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; &amp; wordList) {
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; dict(wordList.begin(), wordList.end());
  <span class="hljs-keyword">if</span> (dict.find(to) == dict.end()) <span class="hljs-keyword">return</span> {};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; res;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;&gt; trails_mem;
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; front_explorers = { from }, back_explorers = { to };
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; next_explorers;
  trails_mem[from] = {{}};
  trails_mem[to]   = {{}};
  <span class="hljs-keyword">bool</span> reached = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">while</span> (reached == <span class="hljs-literal">false</span> &amp;&amp; front_explorers.size() &amp;&amp; back_explorers.size()) {
    <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; *active_explorers_ptr, *waiting_explorers_ptr;
    next_explorers.clear();
    <span class="hljs-keyword">if</span> (front_explorers.size() &lt;= back_explorers.size()) { 
      active_explorers_ptr = &amp; front_explorers; 
      waiting_explorers_ptr = &amp; back_explorers;  
    } <span class="hljs-keyword">else</span> { 
      active_explorers_ptr = &amp; back_explorers;  
      waiting_explorers_ptr = &amp; front_explorers; 
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> word : * active_explorers_ptr) dict.erase(word);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> word : * active_explorers_ptr) {
      <span class="hljs-keyword">auto</span> neighbors = getWordNeighborsInDict(word, dict);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> nebo : neighbors) {
        <span class="hljs-keyword">if</span> (waiting_explorers_ptr-&gt;find(nebo) != waiting_explorers_ptr-&gt;end()) {
          reached = <span class="hljs-literal">true</span>;
          <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; front_half_paths, back_half_paths;
          <span class="hljs-built_in">string</span> word_front, word_back;
          <span class="hljs-keyword">if</span> (waiting_explorers_ptr == &amp; back_explorers) { 
            front_half_paths = trails_mem[word]; 
            back_half_paths = trails_mem[nebo]; 
            word_front = word; word_back = nebo; 
          } <span class="hljs-keyword">else</span> { 
            front_half_paths = trails_mem[nebo]; 
            back_half_paths = trails_mem[word]; 
            word_front = nebo; word_back = word; 
          }
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> front_half_path : front_half_paths) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> back_half_path : back_half_paths) {
              <span class="hljs-keyword">auto</span> tmp_res = front_half_path;
              tmp_res.emplace_back(word_front); tmp_res.emplace_back(word_back);
              tmp_res.insert(tmp_res.end(), back_half_path.rbegin(), 
                             back_half_path.rend());
              res.emplace_back(tmp_res);
            }
          }
        }
        <span class="hljs-keyword">else</span> next_explorers.insert(nebo);
      }
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; trails_tmp_word_in;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> trail : trails_mem[word]) { 
        trail.push_back(word);  
        trails_tmp_word_in.push_back(trail);
      }
      trails_mem.erase(word);
      <span class="hljs-keyword">if</span> (reached == <span class="hljs-literal">false</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> nebo : neighbors)
          trails_mem[nebo].insert(trails_mem[nebo].end(), 
                                  trails_tmp_word_in.begin(), 
                                  trails_tmp_word_in.end());
      }
    }
    swap(* active_explorers_ptr, next_explorers);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_127-word-ladder" data-source-line="3573"><a class="markdownIt-Anchor" href="#le_127-word-ladder"></a>LE_127. Word Ladder</h4>
<pre data-source-line="3574"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ladderLength</span><span class="hljs-params">(<span class="hljs-built_in">string</span> beginWord, <span class="hljs-built_in">string</span> endWord, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; wordList)</span> </span>{
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; dict(wordList.begin(), wordList.end());
  <span class="hljs-keyword">if</span> (dict.find(endWord) == dict.end()) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, len = endWord.size();
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; q1, q2;
  q1.insert(beginWord);
  q2.insert(endWord);
  <span class="hljs-keyword">while</span> (q1.size() &amp;&amp; q2.size()) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> s : q1) dict.erase(s);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> s : q2) dict.erase(s);
    res++;
    <span class="hljs-keyword">if</span> (q1.size() &gt; q2.size()) swap(q1, q2);
    <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; q;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> s : q1) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> w : q2)
        <span class="hljs-keyword">if</span> (oneDiff(s, w))
          <span class="hljs-keyword">return</span> ++res;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> w : dict)
        <span class="hljs-keyword">if</span> (oneDiff(s, w))
          q.insert(w);
    }
    swap(q, q1);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">oneDiff</span><span class="hljs-params">(<span class="hljs-built_in">string</span> &amp; s1, <span class="hljs-built_in">string</span> &amp; s2)</span> </span>{
    <span class="hljs-keyword">if</span> (s1.size() != s2.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">int</span> diff = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s1.size(); i++)
        diff += s1[i] != s2[i];
    <span class="hljs-keyword">return</span> diff == <span class="hljs-number">1</span>;
}
</code></pre><h4 id="le_424-longest-repeating-character-replacement" data-source-line="3609"><a class="markdownIt-Anchor" href="#le_424-longest-repeating-character-replacement"></a>LE_424. Longest Repeating Character Replacement</h4>
<pre data-source-line="3610"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">characterReplacement</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; cnt;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, max_freq = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> fr = <span class="hljs-number">0</span>, to = <span class="hljs-number">0</span>; to &lt; s.size(); to++) {
    cnt[s[to]]++;
    max_freq = max(max_freq, cnt[s[to]]);
    <span class="hljs-keyword">if</span> (to - fr + <span class="hljs-number">1</span> - max_freq &gt; k) cnt[s[fr++]]--;
    res = max(res, to - fr + <span class="hljs-number">1</span>);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="3f-string-subsequence" data-source-line="3624"><a class="markdownIt-Anchor" href="#3f-string-subsequence"></a><a href="#string-subsequence">3.F String Subsequence</a></h3>
<h4 id="le_115-distinct-subsequences" data-source-line="3625"><a class="markdownIt-Anchor" href="#le_115-distinct-subsequences"></a>LE_115. Distinct Subsequences</h4>
<pre data-source-line="3626"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numDistinct</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> t)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">long</span>&gt; dp(t.size() + <span class="hljs-number">1</span>);
  dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= s.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = min(i, <span class="hljs-keyword">int</span>(t.size())); j &gt;= <span class="hljs-number">1</span>; j--)
      <span class="hljs-keyword">if</span>(s[i - <span class="hljs-number">1</span>] == t[j - <span class="hljs-number">1</span>]) dp[j] += dp[j - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">return</span> dp[t.size()];
}
</code></pre><h4 id="le_316-remove-duplicate-letters" data-source-line="3636"><a class="markdownIt-Anchor" href="#le_316-remove-duplicate-letters"></a>LE_316. Remove Duplicate Letters</h4>
<pre data-source-line="3637"><code class="hljs"><span class="hljs-comment">// rm dup, the smallest in lexicographical order</span>
<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">removeDuplicateLetters</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; las(<span class="hljs-number">26</span>, <span class="hljs-number">0</span>); <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; vis(<span class="hljs-number">26</span>, <span class="hljs-literal">false</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) las[s[i] - <span class="hljs-string">'a'</span>] = i;
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">char</span>&gt; stk;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> (vis[s[i] - <span class="hljs-string">'a'</span>] == <span class="hljs-literal">false</span>) {
      <span class="hljs-keyword">while</span> (stk.size() &amp;&amp; stk.top() &gt; s[i] &amp;&amp; i &lt; las[stk.top() - <span class="hljs-string">'a'</span>]) {
        vis[stk.top() - <span class="hljs-string">'a'</span>] = <span class="hljs-literal">false</span>;
        stk.pop();
      }
      stk.push(s[i]);
      vis[s[i] - <span class="hljs-string">'a'</span>] = <span class="hljs-literal">true</span>;
    } 
  }
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">res</span><span class="hljs-params">(stk.size(), <span class="hljs-string">' '</span>)</span></span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = stk.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    res[i] = stk.top();
    stk.pop();
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_474-ones-and-zeroes" data-source-line="3661"><a class="markdownIt-Anchor" href="#le_474-ones-and-zeroes"></a>LE_474. Ones and Zeroes</h4>
<pre data-source-line="3662"><code class="hljs"><span class="hljs-comment">// Input: strs = ["10","0001","111001","1","0"], m = 5, n = 3</span>
<span class="hljs-comment">// Output: 4</span>
<span class="hljs-comment">// The largest subset with at most 5 0's and 3 1's is {"10", "0001", "1", "0"}</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMaxForm</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; strs, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; pir01(strs.size(), <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; strs.size(); i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: strs[i]) c == <span class="hljs-string">'0'</span>? pir01[i][<span class="hljs-number">0</span>]++ : pir01[i][<span class="hljs-number">1</span>]++;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&gt; dp(strs.size(), <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;(m + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>)));
  <span class="hljs-keyword">return</span> backtrack(pir01, dp, m, n);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; pir01, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&gt;&amp; dp, <span class="hljs-keyword">int</span> rm, <span class="hljs-keyword">int</span> rn, <span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>)</span> </span>{
  <span class="hljs-keyword">if</span> (pos &gt;= pir01.size()) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (dp[pos][rm][rn] != <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> dp[pos][rm][rn];
  <span class="hljs-keyword">int</span> abandon = backtrack(pir01, dp, rm, rn, pos + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">int</span> take = rm &gt;= pir01[pos][<span class="hljs-number">0</span>] &amp;&amp; rn &gt;= pir01[pos][<span class="hljs-number">1</span>] ? 
      <span class="hljs-number">1</span> + backtrack(pir01, dp, rm - pir01[pos][<span class="hljs-number">0</span>], rn - pir01[pos][<span class="hljs-number">1</span>], pos + <span class="hljs-number">1</span>) : <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> dp[pos][rm][rn] = max(abandon, take);
}

</code></pre><h3 id="3g-string-compare" data-source-line="3683"><a class="markdownIt-Anchor" href="#3g-string-compare"></a><a href="#string-compare">3.G String Compare</a></h3>
<h4 id="le_165-compare-version-numbers" data-source-line="3684"><a class="markdownIt-Anchor" href="#le_165-compare-version-numbers"></a>LE_165. Compare Version Numbers</h4>
<pre data-source-line="3685"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">compareVersion</span><span class="hljs-params">(<span class="hljs-built_in">string</span> version1, <span class="hljs-built_in">string</span> version2)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v1 = splitVersionString(version1);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v2 = splitVersionString(version2);
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">while</span> (++i &lt; min(v1.size(), v2.size())) {
    <span class="hljs-keyword">if</span> (v1[i] &lt; v2[i]) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">if</span> (v1[i] &gt; v2[i]) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">if</span> (i &lt; v1.size()) 
    <span class="hljs-keyword">return</span> accumulate(v1.begin() + i, v1.end(), <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (i &lt; v2.size()) 
    <span class="hljs-keyword">return</span> accumulate(v2.begin() + i, v2.end(), <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">-1</span> : <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; splitVersionString(<span class="hljs-built_in">string</span> version) {
  <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(version)</span></span>;
  <span class="hljs-built_in">string</span> tmp;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">while</span> (getline(ss, tmp, <span class="hljs-string">'.'</span>))
    res.emplace_back(str2int(tmp));
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">str2int</span><span class="hljs-params">(<span class="hljs-built_in">string</span> str)</span> </span>{
  <span class="hljs-built_in">stringstream</span> ss;
  ss &lt;&lt; str;
  <span class="hljs-keyword">int</span> res;
  ss &gt;&gt; res;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_205-isomorphic-strings" data-source-line="3718"><a class="markdownIt-Anchor" href="#le_205-isomorphic-strings"></a>LE_205. Isomorphic Strings</h4>
<pre data-source-line="3719"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isIsomorphic</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> t)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; map_s(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>);	
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-keyword">map_t</span>(<span class="hljs-number">128</span>, <span class="hljs-number">0</span>);	
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> (map_s[s[i]] != <span class="hljs-keyword">map_t</span>[t[i]])
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    map_s[s[i]] = i + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">map_t</span>[t[i]] = i + <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_290-word-pattern" data-source-line="3732"><a class="markdownIt-Anchor" href="#le_290-word-pattern"></a>LE_290. Word Pattern</h4>
<pre data-source-line="3733"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">wordPattern</span><span class="hljs-params">(<span class="hljs-built_in">string</span> pattern, <span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; char_word_map;
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-keyword">char</span>&gt; word_char_map;
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; token_vec;
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> tmp;
  <span class="hljs-built_in">std</span>::<span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(s)</span></span>;
  <span class="hljs-keyword">while</span> (<span class="hljs-built_in">std</span>::getline(ss, tmp, <span class="hljs-string">' '</span>)) {
    token_vec.push_back(tmp);
  }
  <span class="hljs-keyword">if</span> (pattern.size() != token_vec.size()) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pattern.size(); i++) {
      <span class="hljs-keyword">if</span> (char_word_map.find(pattern[i]) != char_word_map.end()) {
        <span class="hljs-keyword">if</span> (char_word_map[pattern[i]] != token_vec[i]) 
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
      <span class="hljs-keyword">if</span> (word_char_map.find(token_vec[i]) != word_char_map.end()) {
        <span class="hljs-keyword">if</span> (word_char_map[token_vec[i]] != pattern[i]) 
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      } 
      char_word_map[pattern[i]] = token_vec[i];
      word_char_map[token_vec[i]] = pattern[i];
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_389-find-the-difference" data-source-line="3762"><a class="markdownIt-Anchor" href="#le_389-find-the-difference"></a>LE_389. Find the Difference</h4>
<pre data-source-line="3763"><code class="hljs"><span class="hljs-comment">// t = s + one more letter</span>
<span class="hljs-function"><span class="hljs-keyword">char</span> <span class="hljs-title">findTheDifference</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> t)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) res ^= c;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: t) res ^= c;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_392-is-subsequence" data-source-line="3772"><a class="markdownIt-Anchor" href="#le_392-is-subsequence"></a>LE_392. Is Subsequence</h4>
<pre data-source-line="3773"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isSubsequence</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> t)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>; j &lt;= t.size(); j++) {
    <span class="hljs-keyword">if</span> (s[i] == t[j]) i++;
    <span class="hljs-keyword">if</span> (i == s.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> s.empty();
}
</code></pre><h3 id="3f-string-length" data-source-line="3782"><a class="markdownIt-Anchor" href="#3f-string-length"></a><a href="#string-length">3.F String Length</a></h3>
<h4 id="le_318-maximum-product-of-word-lengths" data-source-line="3783"><a class="markdownIt-Anchor" href="#le_318-maximum-product-of-word-lengths"></a>LE_318. Maximum Product of Word Lengths</h4>
<pre data-source-line="3784"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProduct</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; words)</span> </span>{
  <span class="hljs-keyword">size_t</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; msks(words.size(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; words.size(); i++) 
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: words[i]) 
      msks[i] |= (<span class="hljs-number">1</span> &lt;&lt; (c - <span class="hljs-string">'a'</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; words.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; words.size(); j++)
      <span class="hljs-keyword">if</span> ((msks[i] &amp; msks[j]) == <span class="hljs-number">0</span>)
        res = max(res, words[i].size() * words[j].size());
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="3g-password" data-source-line="3798"><a class="markdownIt-Anchor" href="#3g-password"></a><a href="#password">3.G Password</a></h3>
<h4 id="le_420-strong-password-checker" data-source-line="3799"><a class="markdownIt-Anchor" href="#le_420-strong-password-checker"></a>LE_420. Strong Password Checker</h4>
<pre data-source-line="3800"><code class="hljs"><span class="hljs-comment">// 6 &lt;= len &lt;= 20</span>
<span class="hljs-comment">// at least 1 [a-z], 1 [A-Z], 1 [0-9]</span>
<span class="hljs-comment">// no continous repeat 3</span>
<span class="hljs-comment">// return edit distance, ops:</span>
<span class="hljs-comment">// insert, delete, replace</span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">strongPasswordChecker</span><span class="hljs-params">(<span class="hljs-built_in">string</span> pw)</span> </span>{
  <span class="hljs-keyword">int</span> del_gap = max(<span class="hljs-number">0</span>, <span class="hljs-keyword">int</span>(pw.size()) - <span class="hljs-number">20</span>);
  <span class="hljs-keyword">int</span> add_gap = max(<span class="hljs-number">0</span>, <span class="hljs-number">6</span> - <span class="hljs-keyword">int</span>(pw.size()));
  <span class="hljs-keyword">int</span> del_cnt = <span class="hljs-number">0</span>, add_cnt = <span class="hljs-number">0</span>, rpl_cnt = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> upper_lack = <span class="hljs-number">1</span>, lower_lack = <span class="hljs-number">1</span>, digit_lack = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = <span class="hljs-number">0</span>; r &lt; pw.size(); r++) {
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isupper</span>(pw[r])) upper_lack = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">islower</span>(pw[r])) lower_lack = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(pw[r])) digit_lack = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (r - l == <span class="hljs-number">2</span>) {
      <span class="hljs-keyword">if</span> (pw[l] == pw[l + <span class="hljs-number">1</span>] &amp;&amp; pw[l + <span class="hljs-number">1</span>] == pw[r]) {
        <span class="hljs-keyword">if</span> (add_cnt &lt; add_gap) add_cnt++, l = r;
        <span class="hljs-keyword">else</span> rpl_cnt++, l = r + <span class="hljs-number">1</span>;
      } <span class="hljs-keyword">else</span> l++;
    }
  }
  <span class="hljs-keyword">if</span> (pw.size() &lt;= <span class="hljs-number">20</span>) 
    <span class="hljs-keyword">return</span> max(add_gap + rpl_cnt, upper_lack + lower_lack + digit_lack);
  
  rpl_cnt = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; mod_len_cnt(<span class="hljs-number">3</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = <span class="hljs-number">0</span>; r &lt;= pw.size(); r++) {
    <span class="hljs-keyword">if</span> (r == pw.size() || pw[l] != pw[r]) {
      <span class="hljs-keyword">if</span> (r - l &gt; <span class="hljs-number">2</span>) mod_len_cnt[(r - l) % <span class="hljs-number">3</span>][r - l]++;
      l = r;
    }
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [len, cnt]: mod_len_cnt[i]) {
      <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">int</span> del_per_spc = i + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">int</span> del_spc_cnt = min(cnt, (del_gap - del_cnt) / del_per_spc);
        del_cnt += del_per_spc * del_spc_cnt;
        cnt -= del_spc_cnt;
        <span class="hljs-keyword">if</span> (len - del_per_spc &gt; <span class="hljs-number">2</span>) 
          mod_len_cnt[<span class="hljs-number">2</span>][len - del_per_spc] += del_spc_cnt;
      }
      rpl_cnt += cnt * (len / <span class="hljs-number">3</span>);
    }
  }
  rpl_cnt -= (del_gap - del_cnt) / <span class="hljs-number">3</span>;
  <span class="hljs-keyword">return</span> del_gap + max(rpl_cnt, upper_lack + lower_lack + digit_lack);
}
</code></pre><h2 id="4-stack" data-source-line="3852"><a class="markdownIt-Anchor" href="#4-stack"></a><a href="#stack">4 Stack</a></h2>
<h3 id="41-brackets" data-source-line="3853"><a class="markdownIt-Anchor" href="#41-brackets"></a><a href="#brackets">4.1 Brackets</a></h3>
<h4 id="le_20-valid-parentheses" data-source-line="3854"><a class="markdownIt-Anchor" href="#le_20-valid-parentheses"></a>LE_20. Valid Parentheses</h4>
<pre data-source-line="3855"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isValid</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">char</span>&gt; stk;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">char</span>&gt; mp = { {<span class="hljs-string">')'</span>, <span class="hljs-string">'('</span>}, {<span class="hljs-string">']'</span>, <span class="hljs-string">'['</span>}, {<span class="hljs-string">'}'</span>, <span class="hljs-string">'{'</span>} };
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) {
    <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'('</span> || c == <span class="hljs-string">'['</span> || c == <span class="hljs-string">'{'</span>) stk.push(c);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (stk.size() &amp;&amp; mp[c] == stk.top()) stk.pop();
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> stk.empty();
}
</code></pre><h4 id="le_22-generate-parentheses" data-source-line="3867"><a class="markdownIt-Anchor" href="#le_22-generate-parentheses"></a>LE_22. Generate Parentheses</h4>
<pre data-source-line="3868"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">gen_res</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; &amp; res, <span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span> lneed, <span class="hljs-keyword">int</span> lmore)</span> </span>{
  <span class="hljs-keyword">if</span>(lneed == <span class="hljs-number">0</span> &amp;&amp; lmore == <span class="hljs-number">0</span>) { res.push_back(s); <span class="hljs-keyword">return</span>; }
  <span class="hljs-keyword">if</span>(lneed &gt; <span class="hljs-number">0</span>) gen_res(res, s + <span class="hljs-string">"("</span>, lneed - <span class="hljs-number">1</span>, lmore + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">if</span>(lmore &gt; <span class="hljs-number">0</span>) gen_res(res, s + <span class="hljs-string">")"</span>, lneed, lmore - <span class="hljs-number">1</span>);
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; generateParenthesis(<span class="hljs-keyword">int</span> n) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  gen_res(res, <span class="hljs-string">""</span>, n, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_32-longest-valid-parentheses" data-source-line="3881"><a class="markdownIt-Anchor" href="#le_32-longest-valid-parentheses"></a>LE_32. Longest Valid Parentheses</h4>
<pre data-source-line="3882"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">longestValidParentheses</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; stk;
  stk.push(<span class="hljs-number">-1</span>);
  <span class="hljs-keyword">int</span> max_len = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">int</span> t = stk.top();
    <span class="hljs-keyword">if</span>(t != <span class="hljs-number">-1</span> &amp;&amp; s[i] == <span class="hljs-string">')'</span> &amp;&amp; s[t] == <span class="hljs-string">'('</span>) {
      stk.pop();
      max_len = max(max_len, i - stk.top());
    }
    <span class="hljs-keyword">else</span> stk.push(i);
  }
  <span class="hljs-keyword">return</span> max_len;
}
</code></pre><h3 id="42-expression" data-source-line="3898"><a class="markdownIt-Anchor" href="#42-expression"></a><a href="#expression">4.2 Expression</a></h3>
<h4 id="le_150-evaluate-reverse-polish-notation" data-source-line="3899"><a class="markdownIt-Anchor" href="#le_150-evaluate-reverse-polish-notation"></a>LE_150. Evaluate Reverse Polish Notation</h4>
<pre data-source-line="3900"><code class="hljs"><span class="hljs-comment">// Input: tokens = ["2","1","+","3","*"]</span>
<span class="hljs-comment">// Output: 9</span>
<span class="hljs-comment">// Explanation: ((2 + 1) * 3) = 9 </span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">evalRPN</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; tokens)</span> </span>{
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; stk;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x : tokens) {
    <span class="hljs-keyword">if</span> (x == <span class="hljs-string">"+"</span> || x == <span class="hljs-string">"-"</span> || x == <span class="hljs-string">"*"</span> || x == <span class="hljs-string">"/"</span>) {
      <span class="hljs-keyword">int</span> b = stk.top(); stk.pop();
      <span class="hljs-keyword">int</span> a = stk.top(); stk.pop();
      <span class="hljs-keyword">if</span> (x == <span class="hljs-string">"+"</span>) stk.push(a + b);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x == <span class="hljs-string">"-"</span>) stk.push(a - b);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x == <span class="hljs-string">"*"</span>) stk.push(a * b);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x == <span class="hljs-string">"/"</span>) stk.push(a / b);
    }
    <span class="hljs-keyword">else</span> stk.push(atoi(x.c_str()));
  }
  <span class="hljs-keyword">return</span> stk.top();
}
</code></pre><h4 id="le_224-basic-calculator" data-source-line="3920"><a class="markdownIt-Anchor" href="#le_224-basic-calculator"></a>LE_224. Basic Calculator</h4>
<pre data-source-line="3921"><code class="hljs"><span class="hljs-comment">// Input: s = "(1+(4+5+2)-3)+(6+8)"</span>
<span class="hljs-comment">// + - ( ) 1-9 and space</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">calculate</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">int64_t</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> sign = <span class="hljs-number">1</span>;
  <span class="hljs-built_in">stack</span>&lt;pair&lt;<span class="hljs-keyword">int64_t</span>, <span class="hljs-keyword">int</span>&gt;&gt; stk;
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (i &lt; s.size()) {
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(s[i])) {
      <span class="hljs-keyword">int64_t</span> cur_num = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">while</span> (i &lt; s.size() &amp;&amp; <span class="hljs-built_in">isdigit</span>(s[i])) {
        cur_num = cur_num * <span class="hljs-number">10</span> + s[i] - <span class="hljs-string">'0'</span>;
        i++;
      }
      res += cur_num * sign;
      i--; <span class="hljs-comment">// cur is not digit</span>
      sign = <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">'('</span>) {
      stk.push({res, sign});
      res = <span class="hljs-number">0</span>;
      sign = <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">')'</span>) {
      res = stk.top().first + (res * stk.top().second);
      stk.pop();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">'-'</span>) {
      sign *= <span class="hljs-number">-1</span>;
    }
    i++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_227-basic-calculator-ii" data-source-line="3954"><a class="markdownIt-Anchor" href="#le_227-basic-calculator-ii"></a>LE_227. Basic Calculator II</h4>
<pre data-source-line="3955"><code class="hljs"><span class="hljs-comment">// 3+5 / 2 </span>
<span class="hljs-comment">// 3+2*2</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">calculate</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
  <span class="hljs-keyword">if</span> (s.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; stk;
  <span class="hljs-keyword">int64_t</span> cur_num = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">char</span> last_op = <span class="hljs-string">'+'</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(s[i])) cur_num = cur_num * <span class="hljs-number">10</span> + s[i] - <span class="hljs-string">'0'</span>;
    <span class="hljs-keyword">if</span> (i == s.size() - <span class="hljs-number">1</span> || (<span class="hljs-built_in">isdigit</span>(s[i]) == <span class="hljs-literal">false</span> &amp;&amp; s[i] != <span class="hljs-string">' '</span>)) {
      <span class="hljs-keyword">if</span> (last_op == <span class="hljs-string">'+'</span>) stk.push(cur_num);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (last_op == <span class="hljs-string">'-'</span>) stk.push(-cur_num);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (last_op == <span class="hljs-string">'*'</span>) {
        <span class="hljs-keyword">int</span> last_cal = stk.top();
        stk.pop();
        stk.push(last_cal * cur_num);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (last_op == <span class="hljs-string">'/'</span>) {
        <span class="hljs-keyword">int</span> last_cal = stk.top();
        stk.pop();
        stk.push(last_cal / cur_num);
      }
      cur_num = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">if</span> (i != s.size() - <span class="hljs-number">1</span>) last_op = s[i];
    }
  }
  
  <span class="hljs-keyword">int64_t</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (stk.size() &gt; <span class="hljs-number">0</span>) {
    res += stk.top();
    stk.pop();
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_772-basic-calculator-ii" data-source-line="3990"><a class="markdownIt-Anchor" href="#le_772-basic-calculator-ii"></a>LE_772. Basic Calculator II</h4>
<pre data-source-line="3991"><code class="hljs">def calculate(self, s):    
  def calc(it):
    def update(op, v):
      if op == "+": stack.append(v)
      if op == "-": stack.append(-v)
      if op == "*": stack.append(stack.pop() * v)
      if op == "/": stack.append(int(stack.pop() / v))

    num, stack, sign = 0, [], "+"
    
    while it &lt; len(s):
      if s[it].isdigit():
        num = num * 10 + int(s[it])
      elif s[it] in "+-*/":
        update(sign, num)
        num, sign = 0, s[it]
      elif s[it] == "(":
        num, j = calc(it + 1)
        it = j - 1
      elif s[it] == ")":
        update(sign, num)
        return sum(stack), it + 1
      it += 1
    update(sign, num)
    return sum(stack)

  return calc(0)
</code></pre><h4 id="le_241-different-ways-to-add-parentheses" data-source-line="4020"><a class="markdownIt-Anchor" href="#le_241-different-ways-to-add-parentheses"></a>LE_241. Different Ways to Add Parentheses</h4>
<pre data-source-line="4021"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; diffWaysToCompute(<span class="hljs-built_in">string</span> expression) {
  <span class="hljs-keyword">bool</span> is_num = <span class="hljs-literal">true</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; expression.size(); i++) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isdigit</span>(expression[i])) {
      is_num = <span class="hljs-literal">false</span>;
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; lres = diffWaysToCompute(expression.substr(<span class="hljs-number">0</span>, i));
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; rres = diffWaysToCompute(expression.substr(i + <span class="hljs-number">1</span>));
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> l: lres) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> r: rres) {
          <span class="hljs-keyword">switch</span>(expression[i]) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'+'</span>: res.push_back(l + r); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'-'</span>: res.push_back(l - r); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'*'</span>: res.push_back(l * r); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>: res.push_back(l / r); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>: <span class="hljs-keyword">break</span>;
          }
        }
      }
    }
  }
  <span class="hljs-keyword">if</span> (is_num) res.push_back(stoi(expression));
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_282-expression-add-operators" data-source-line="4047"><a class="markdownIt-Anchor" href="#le_282-expression-add-operators"></a>LE_282. Expression Add Operators</h4>
<pre data-source-line="4048"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; res, <span class="hljs-built_in">string</span> num, <span class="hljs-keyword">int</span> target, <span class="hljs-keyword">int</span> ind, 
               <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; cur_path, <span class="hljs-keyword">long</span> cur_res, <span class="hljs-keyword">long</span> last_num)</span> </span>{
  <span class="hljs-keyword">if</span> (ind == num.size()) {
    <span class="hljs-keyword">if</span> (cur_res == target) res.push_back(cur_path);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">string</span> cur_num_str = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">long</span> cur_num = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ind; i &lt; num.size(); i++) {
      <span class="hljs-keyword">if</span> (i &gt; ind &amp;&amp; num[ind] == <span class="hljs-string">'0'</span>) <span class="hljs-keyword">break</span>;
      cur_num_str += num[i];
      cur_num = cur_num * <span class="hljs-number">10</span> + num[i] - <span class="hljs-string">'0'</span>;
      <span class="hljs-keyword">if</span> (ind == <span class="hljs-number">0</span>) {
        backtrack(res, num, target, i + <span class="hljs-number">1</span>, 
                  cur_path + cur_num_str, cur_num, cur_num);
      } <span class="hljs-keyword">else</span> {
        backtrack(res, num, target, i + <span class="hljs-number">1</span>, 
                  cur_path + <span class="hljs-string">"+"</span> + cur_num_str, cur_res + cur_num, cur_num);
        backtrack(res, num, target, i + <span class="hljs-number">1</span>, 
                  cur_path + <span class="hljs-string">"-"</span> + cur_num_str, cur_res - cur_num, -cur_num);
        backtrack(res, num, target, i + <span class="hljs-number">1</span>, 
                  cur_path + <span class="hljs-string">"*"</span> + cur_num_str, 
                  cur_res - last_num + last_num * cur_num, last_num * cur_num);
      }
    }
  }
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; addOperators(<span class="hljs-built_in">string</span> num, <span class="hljs-keyword">int</span> target) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  backtrack(res, num, target, <span class="hljs-number">0</span>, <span class="hljs-string">""</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_301-remove-invalid-parentheses" data-source-line="4082"><a class="markdownIt-Anchor" href="#le_301-remove-invalid-parentheses"></a>LE_301. Remove Invalid Parentheses</h4>
<pre data-source-line="4083"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; removeInvalidParentheses(<span class="hljs-built_in">string</span> s) {
  <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) {
    <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'('</span>) l++;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">')'</span>) <span class="hljs-keyword">if</span> (l) l--; <span class="hljs-keyword">else</span> r++;
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  dfs(res, s, l, r, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; res, <span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> pos)</span> </span>{
  <span class="hljs-keyword">if</span> (l == <span class="hljs-number">0</span> &amp;&amp; r == <span class="hljs-number">0</span> &amp;&amp; isValid(s)) { res.push_back(s); <span class="hljs-keyword">return</span>; }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos; i &lt; s.size(); i++) {
    <span class="hljs-keyword">if</span> (i &gt; pos &amp;&amp; s[i] == s[i - <span class="hljs-number">1</span>]) <span class="hljs-keyword">continue</span>;
    <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">')'</span> &amp;&amp; r &gt; <span class="hljs-number">0</span>) 
      dfs(res, s.substr(<span class="hljs-number">0</span>, i) + s.substr(i + <span class="hljs-number">1</span>), l, r - <span class="hljs-number">1</span>, i);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">'('</span> &amp;&amp; l &gt; <span class="hljs-number">0</span>) 
      dfs(res, s.substr(<span class="hljs-number">0</span>, i) + s.substr(i + <span class="hljs-number">1</span>), l - <span class="hljs-number">1</span>, r, i);
  }
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isValid</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; s)</span> </span>{
  <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: s) {
    <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'('</span>) cnt++;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">')'</span>) cnt--;
    <span class="hljs-keyword">if</span> (cnt &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> cnt == <span class="hljs-number">0</span>;
}
</code></pre><h3 id="43-order-stack" data-source-line="4116"><a class="markdownIt-Anchor" href="#43-order-stack"></a><a href="#order-stack">4.3 Order Stack</a></h3>
<h4 id="le_321-create-maximum-number" data-source-line="4117"><a class="markdownIt-Anchor" href="#le_321-create-maximum-number"></a>LE_321. Create Maximum Number</h4>
<pre data-source-line="4118"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; maxNumber(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= k; i++) {
    <span class="hljs-keyword">auto</span> m1 = maxNumber(nums1, i), m2 = maxNumber(nums2, k - i);
    <span class="hljs-keyword">if</span> (m1.size() + m2.size() == k) {
      <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cur;
      <span class="hljs-keyword">int</span> i1 = <span class="hljs-number">0</span>, i2 = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">while</span> (i1 &lt; m1.size() &amp;&amp; i2 &lt; m2.size()) {
        <span class="hljs-keyword">if</span> (m1[i1] == m2[i2]) {
          <span class="hljs-keyword">int</span> p1 = i1, p2 = i2;
          <span class="hljs-keyword">while</span> (p1 &lt; m1.size() &amp;&amp; p2 &lt; m2.size() &amp;&amp; m1[p1] == m2[p2])
            p1++, p2++;
          <span class="hljs-keyword">if</span> (p1 == m1.size() || p2 &lt; m2.size() &amp;&amp; m2[p2] &gt;= m1[p1]) 
            cur.push_back(m2[i2++]);
          <span class="hljs-keyword">else</span> cur.push_back(m1[i1++]);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m1[i1] &gt; m2[i2]) cur.push_back(m1[i1++]);
        <span class="hljs-keyword">else</span> cur.push_back(m2[i2++]);
      }
      <span class="hljs-keyword">while</span> (i1 &lt; m1.size()) cur.push_back(m1[i1++]);
      <span class="hljs-keyword">while</span> (i2 &lt; m2.size()) cur.push_back(m2[i2++]);
      res = max(res, cur);
    }
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; maxNumber(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-keyword">int</span> remain = <span class="hljs-keyword">int</span>(nums.size()) - k;
  <span class="hljs-keyword">if</span> (remain &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; stk;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: nums) {
    <span class="hljs-keyword">while</span> (stk.size() &amp;&amp; stk.back() &lt; x &amp;&amp; remain) {
      stk.pop_back();
      remain--;
    }
    stk.push_back(x);
  }
  <span class="hljs-keyword">while</span> (remain--) stk.pop_back();
  <span class="hljs-keyword">return</span> stk;
}
</code></pre><h4 id="le_332-reconstruct-itinerary" data-source-line="4160"><a class="markdownIt-Anchor" href="#le_332-reconstruct-itinerary"></a>LE_332. Reconstruct Itinerary</h4>
<pre data-source-line="4161"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; findItinerary(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;&amp; tickets) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">multiset</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; gra;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> ticket: tickets) gra[ticket[<span class="hljs-number">0</span>]].insert(ticket[<span class="hljs-number">1</span>]);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-built_in">string</span>&gt; stk; stk.push(<span class="hljs-string">"JFK"</span>);
  <span class="hljs-keyword">while</span> (stk.size()) {
    <span class="hljs-keyword">while</span> (gra.find(stk.top()) != gra.end() &amp;&amp; gra[stk.top()].size()) {
      <span class="hljs-keyword">auto</span> nxt = gra[stk.top()].begin();
      <span class="hljs-keyword">auto</span> cur = *nxt;
      gra[stk.top()].erase(nxt);
      stk.push(cur);
    }
    res.push_back(stk.top());
    stk.pop();
  }
  reverse(res.begin(), res.end());
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_402-remove-k-digits" data-source-line="4181"><a class="markdownIt-Anchor" href="#le_402-remove-k-digits"></a>LE_402. Remove K Digits</h4>
<pre data-source-line="4182"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">removeKdigits</span><span class="hljs-params">(<span class="hljs-built_in">string</span> num, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (k &gt;= num.size()) <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>;
  <span class="hljs-built_in">string</span> stk = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: num) {
    <span class="hljs-keyword">while</span> (stk.size() &amp;&amp; stk.back() &gt; c &amp;&amp; k) 
      stk.pop_back(), k--;
    stk.push_back(c);
  }
  <span class="hljs-keyword">while</span> (k-- &gt; <span class="hljs-number">0</span>) stk.pop_back();
  <span class="hljs-keyword">auto</span> pos = stk.find_first_not_of(<span class="hljs-string">'0'</span>);
  <span class="hljs-keyword">return</span> pos == <span class="hljs-built_in">string</span>::npos? <span class="hljs-string">"0"</span> : stk.substr(pos);
}
</code></pre><h4 id="le_456-132-pattern" data-source-line="4196"><a class="markdownIt-Anchor" href="#le_456-132-pattern"></a>LE_456. 132 Pattern</h4>
<pre data-source-line="4197"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">find132pattern</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> s3 = INT_MIN; <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; stk;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = nums.rbegin(); it != nums.rend(); it++) {
    <span class="hljs-keyword">if</span> (*it &lt; s3) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">while</span> (stk.size() &amp;&amp; *it &gt; stk.top()) 
      s3 = stk.top(), stk.pop();
    stk.push(*it);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_496-next-greater-element-i" data-source-line="4209"><a class="markdownIt-Anchor" href="#le_496-next-greater-element-i"></a>LE_496. Next Greater Element I</h4>
<pre data-source-line="4210"><code class="hljs"><span class="hljs-comment">// nums1 is a subset of nums2</span>
<span class="hljs-comment">// Input: nums1 = [4,1,2], nums2 = [1,3,4,2]</span>
<span class="hljs-comment">// Output: [-1,3,-1]</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nextGreaterElement(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums2) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; cache;
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; stk;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums2) {
    <span class="hljs-keyword">while</span> (stk.size() &amp;&amp; stk.top() &lt; x) cache[stk.top()] = x, stk.pop();
    stk.push(x);
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums1) res.push_back(cache.count(x) ? cache[x] : <span class="hljs-number">-1</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h2 id="5-dp" data-source-line="4226"><a class="markdownIt-Anchor" href="#5-dp"></a><a href="#dp">5 DP</a></h2>
<h3 id="51-two-sequences" data-source-line="4227"><a class="markdownIt-Anchor" href="#51-two-sequences"></a><a href="#two-sequences">5.1 Two Sequences</a></h3>
<h4 id="le_10-regular-expression-matching" data-source-line="4228"><a class="markdownIt-Anchor" href="#le_10-regular-expression-matching"></a>LE_10. Regular Expression Matching</h4>
<pre data-source-line="4229"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isMatch</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> p)</span> </span>{
  <span class="hljs-keyword">int</span> m = s.size(), n = p.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt; dp(m + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>));
  dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt;= n; j += <span class="hljs-number">2</span>) {
    dp[<span class="hljs-number">0</span>][j] = dp[<span class="hljs-number">0</span>][j - <span class="hljs-number">2</span>] &amp;&amp; p[j - <span class="hljs-number">1</span>] == <span class="hljs-string">'*'</span>;
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++) {
      <span class="hljs-keyword">if</span> (p[j - <span class="hljs-number">1</span>] == <span class="hljs-string">'*'</span>) 
        dp[i][j] = dp[i][j - <span class="hljs-number">2</span>] || dp[i - <span class="hljs-number">1</span>][j] &amp;&amp; 
                   (s[i - <span class="hljs-number">1</span>] == p[j - <span class="hljs-number">2</span>] || p[j - <span class="hljs-number">2</span>] == <span class="hljs-string">'.'</span>);
      <span class="hljs-keyword">else</span> 
        dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] &amp;&amp; 
                   (s[i - <span class="hljs-number">1</span>] == p[j - <span class="hljs-number">1</span>] || p[j - <span class="hljs-number">1</span>] == <span class="hljs-string">'.'</span>);
    }
  }
  <span class="hljs-keyword">return</span> dp[m][n];
}
</code></pre><h4 id="le_44-wildcard-matching" data-source-line="4250"><a class="markdownIt-Anchor" href="#le_44-wildcard-matching"></a>LE_44. Wildcard Matching</h4>
<pre data-source-line="4251"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isMatch</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-built_in">string</span> p)</span> </span>{
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>, a = <span class="hljs-number">0</span>, b = <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">while</span>(i &lt; s.size()) {
    <span class="hljs-keyword">if</span>(p[j] == <span class="hljs-string">'*'</span>) a = i, b = j++;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == p[j] || p[j] == <span class="hljs-string">'?'</span>) i++, j++;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(b != <span class="hljs-number">-1</span>) i = ++a, j = b + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">while</span>(p[j] == <span class="hljs-string">'*'</span>) j++;
  <span class="hljs-keyword">return</span> j == p.size();
}
</code></pre><h4 id="le_72-edit-distance" data-source-line="4264"><a class="markdownIt-Anchor" href="#le_72-edit-distance"></a>LE_72. Edit Distance</h4>
<pre data-source-line="4265"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minDistance</span><span class="hljs-params">(<span class="hljs-built_in">string</span> word1, <span class="hljs-built_in">string</span> word2)</span> </span>{
  <span class="hljs-keyword">int</span> m = word1.size(), n = word2.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; dp(m + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) dp[i][<span class="hljs-number">0</span>] = dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++) dp[<span class="hljs-number">0</span>][j] = dp[<span class="hljs-number">0</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++) {
      <span class="hljs-keyword">if</span> (word1[i - <span class="hljs-number">1</span>] == word2[j - <span class="hljs-number">1</span>]) dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];
      <span class="hljs-keyword">else</span> dp[i][j] = min({dp[i][j - <span class="hljs-number">1</span>], dp[i - <span class="hljs-number">1</span>][j], dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>]}) + <span class="hljs-number">1</span>;
    }
  }
  <span class="hljs-keyword">return</span> dp[m][n];
}
</code></pre><h4 id="le_87-scramble-string" data-source-line="4280"><a class="markdownIt-Anchor" href="#le_87-scramble-string"></a>LE_87. Scramble String</h4>
<pre data-source-line="4281"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isScramble</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s1, <span class="hljs-built_in">string</span> s2)</span> </span>{
  <span class="hljs-keyword">int</span> len = s1.size();
  <span class="hljs-keyword">if</span> (len == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (len == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> s1 == s2;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt;&gt; dp(
    len + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &gt;(len, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(len, <span class="hljs-literal">false</span>)));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) 
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; len; j++)
      dp[<span class="hljs-number">1</span>][i][j] = s1[i] == s2[j];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> d = <span class="hljs-number">2</span>; d &lt;= len; d++)
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= len - d; i++)
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= len - d; j++)
              <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt; d &amp;&amp; dp[d][i][j] == <span class="hljs-literal">false</span>; k++)
                  dp[d][i][j] = dp[k][i][j] &amp;&amp; dp[d - k][i + k][j + k] || 
                                dp[k][i + d - k][j] &amp;&amp; dp[d - k][i][j + k];
  <span class="hljs-keyword">return</span> dp[len][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];
}
</code></pre><h3 id="52-jump" data-source-line="4301"><a class="markdownIt-Anchor" href="#52-jump"></a><a href="#jump">5.2 Jump</a></h3>
<h4 id="le_45-jump-game-ii" data-source-line="4302"><a class="markdownIt-Anchor" href="#le_45-jump-game-ii"></a>LE_45. Jump Game II</h4>
<pre data-source-line="4303"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">jump</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, last = <span class="hljs-number">0</span>, cur = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size() - <span class="hljs-number">1</span>; i++) {
    cur = max(cur, i + nums[i]);
    <span class="hljs-keyword">if</span> (i == last) last = cur, res++;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_55-jump-game" data-source-line="4313"><a class="markdownIt-Anchor" href="#le_55-jump-game"></a>LE_55. Jump Game</h4>
<pre data-source-line="4314"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canJump</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> reach = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (i &lt; nums.size() &amp;&amp; i &lt;= reach) {
      reach = max(i + nums[i], reach);
      i++;
  }
  <span class="hljs-keyword">return</span> i == nums.size();
}
</code></pre><h4 id="le_70-climbing-stairs" data-source-line="4325"><a class="markdownIt-Anchor" href="#le_70-climbing-stairs"></a>LE_70. Climbing Stairs</h4>
<pre data-source-line="4326"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">climbStairs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> / <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">5</span>) * (<span class="hljs-built_in">pow</span>((<span class="hljs-number">1</span> + <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">5</span>)) / <span class="hljs-number">2.0</span>, n + <span class="hljs-number">1</span>) - 
         <span class="hljs-built_in">pow</span>((<span class="hljs-number">1</span> - <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">5</span>)) / <span class="hljs-number">2.0</span>, n + <span class="hljs-number">1</span>));
}
</code></pre><h4 id="le_403-frog-jump" data-source-line="4332"><a class="markdownIt-Anchor" href="#le_403-frog-jump"></a>LE_403. Frog Jump</h4>
<pre data-source-line="4333"><code class="hljs"><span class="hljs-comment">// stones: pos</span>
<span class="hljs-comment">// the 1st jump must be 1 unit.</span>
<span class="hljs-comment">// If the frog's last jump was k units, </span>
<span class="hljs-comment">// its next jump must be either k - 1, k, or k + 1 units. </span>
<span class="hljs-comment">// The frog can only jump in the forward direction.</span>
<span class="hljs-comment">// Input: stones = [0,1,3,5,6,8,12,17]</span>
<span class="hljs-comment">// Output: true</span>
<span class="hljs-comment">// Explanation: </span>
<span class="hljs-comment">// jumping 1 unit to the 2nd stone, then 2 units to the 3rd stone, </span>
<span class="hljs-comment">// then 2 units to the 4th stone, then 3 units to the 6th stone,</span>
<span class="hljs-comment">// 4 units to the 7th stone, and 5 units to the 8th stone.</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canCross</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; stones)</span> </span>{
  <span class="hljs-keyword">int</span> n = stones.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &gt; dp(n + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>));
  dp[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i; j++) {
      <span class="hljs-keyword">int</span> diff = stones[i] - stones[j];
      <span class="hljs-keyword">if</span> (diff &lt; <span class="hljs-number">0</span> || diff &gt; n || dp[j][diff] == <span class="hljs-literal">false</span>) <span class="hljs-keyword">continue</span>;
      dp[i][diff] = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">if</span> (diff - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>) dp[i][diff - <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">if</span> (diff + <span class="hljs-number">1</span> &lt;= n) dp[i][diff + <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;
      <span class="hljs-keyword">if</span> (i == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h3 id="53-grid-path" data-source-line="4363"><a class="markdownIt-Anchor" href="#53-grid-path"></a><a href="#grid-path">5.3 Grid Path</a></h3>
<h4 id="le_63-unique-paths-ii" data-source-line="4364"><a class="markdownIt-Anchor" href="#le_63-unique-paths-ii"></a>LE_63. Unique Paths II</h4>
<pre data-source-line="4365"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">uniquePathsWithObstacles</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; obstacleGrid)</span> </span>{
  <span class="hljs-keyword">if</span> (obstacleGrid.size() == <span class="hljs-number">0</span> || obstacleGrid[<span class="hljs-number">0</span>].size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> m = obstacleGrid.size(), n = obstacleGrid[<span class="hljs-number">0</span>].size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span>&gt;&gt; dp(m, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span>&gt;(n, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
      <span class="hljs-keyword">if</span> (obstacleGrid[i][j] == <span class="hljs-number">1</span>) dp[i][j] = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> &amp;&amp; j == <span class="hljs-number">0</span>) dp[i][j] = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) dp[i][j] += dp[i - <span class="hljs-number">1</span>][j];
        <span class="hljs-keyword">if</span> (j &gt; <span class="hljs-number">0</span>) dp[i][j] += dp[i][j - <span class="hljs-number">1</span>];
      }
    }
  }
  <span class="hljs-keyword">return</span> dp[m - <span class="hljs-number">1</span>][n - <span class="hljs-number">1</span>]; 
}
</code></pre><h4 id="le_64-minimum-path-sum" data-source-line="4383"><a class="markdownIt-Anchor" href="#le_64-minimum-path-sum"></a>LE_64. Minimum Path Sum</h4>
<pre data-source-line="4384"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minPathSum</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; grid.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; grid[i].size(); j++) {
      <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; j &gt; <span class="hljs-number">0</span>) grid[i][j] += min(grid[i - <span class="hljs-number">1</span>][j], grid[i][j - <span class="hljs-number">1</span>]);
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) grid[i][j] += grid[i - <span class="hljs-number">1</span>][j];
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (j &gt; <span class="hljs-number">0</span>) grid[i][j] += grid[i][j - <span class="hljs-number">1</span>];
    }
  }
  <span class="hljs-keyword">return</span> grid.back().back();
}
</code></pre><h3 id="54-triangle" data-source-line="4396"><a class="markdownIt-Anchor" href="#54-triangle"></a><a href="#triangle">5.4 Triangle</a></h3>
<h4 id="le_118-pascals-triangle" data-source-line="4397"><a class="markdownIt-Anchor" href="#le_118-pascals-triangle"></a>LE_118. Pascal's Triangle</h4>
<pre data-source-line="4398"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; generate(<span class="hljs-keyword">int</span> numRows) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numRows; i++) {
    res.push_back(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(i + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>));
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; j++)
      res[i][j] = res[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + res[i - <span class="hljs-number">1</span>][j];
  }   
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_119-pascals-triangle-ii" data-source-line="4409"><a class="markdownIt-Anchor" href="#le_119-pascals-triangle-ii"></a>LE_119. Pascal's Triangle II</h4>
<pre data-source-line="4410"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; getRow(<span class="hljs-keyword">int</span> rowIndex) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res(rowIndex + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
  res[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; rowIndex + <span class="hljs-number">1</span>; i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &gt;= <span class="hljs-number">1</span>; j--)
      res[j] += res[j - <span class="hljs-number">1</span>];
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_120-triangle" data-source-line="4420"><a class="markdownIt-Anchor" href="#le_120-triangle"></a>LE_120. Triangle</h4>
<pre data-source-line="4421"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minimumTotal</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; triangle)</span> </span>{
  <span class="hljs-keyword">int</span> n = triangle.size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; dp = triangle.back();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= i; j++)
      dp[j] = min(dp[j], dp[j + <span class="hljs-number">1</span>]) + triangle[i][j];
  <span class="hljs-keyword">return</span> dp[<span class="hljs-number">0</span>];
}
</code></pre><h4 id="le_174-dungeon-game" data-source-line="4431"><a class="markdownIt-Anchor" href="#le_174-dungeon-game"></a>LE_174. Dungeon Game</h4>
<pre data-source-line="4432"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">calculateMinimumHP</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; dungeon)</span> </span>{
  <span class="hljs-keyword">int</span> m = dungeon.size(), n = m &gt; <span class="hljs-number">0</span> ? dungeon[<span class="hljs-number">0</span>].size() : <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; dp(m + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n + <span class="hljs-number">1</span>, INT_MAX));
  dp[m][n - <span class="hljs-number">1</span>] = dp[m - <span class="hljs-number">1</span>][n] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">int</span> need = min(dp[i + <span class="hljs-number">1</span>][j], dp[i][j + <span class="hljs-number">1</span>]) - dungeon[i][j];
      dp[i][j] = need &lt;= <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : need;
    }
  }
  <span class="hljs-keyword">return</span> dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];
}
</code></pre><h3 id="55-stock" data-source-line="4447"><a class="markdownIt-Anchor" href="#55-stock"></a><a href="#stock">5.5 Stock</a></h3>
<h4 id="le_121-best-time-to-buy-and-sell-stock" data-source-line="4448"><a class="markdownIt-Anchor" href="#le_121-best-time-to-buy-and-sell-stock"></a>LE_121. Best Time to Buy and Sell Stock</h4>
<pre data-source-line="4449"><code class="hljs"><span class="hljs-comment">// many times, no limit</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; prices)</span> </span>{
  <span class="hljs-keyword">int</span> curMin = prices[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; prices.size(); i++) {
    res = max(res, prices[i] - curMin);
    curMin = min(curMin, prices[i]);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_122-best-time-to-buy-and-sell-stock-ii" data-source-line="4461"><a class="markdownIt-Anchor" href="#le_122-best-time-to-buy-and-sell-stock-ii"></a>LE_122. Best Time to Buy and Sell Stock II</h4>
<pre data-source-line="4462"><code class="hljs"><span class="hljs-comment">// limit: one share</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; prices)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; prices.size(); i++)
    res += max(<span class="hljs-number">0</span>, prices[i] - prices[i - <span class="hljs-number">1</span>]);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_123-best-time-to-buy-and-sell-stock-iii" data-source-line="4471"><a class="markdownIt-Anchor" href="#le_123-best-time-to-buy-and-sell-stock-iii"></a>LE_123. Best Time to Buy and Sell Stock III</h4>
<pre data-source-line="4472"><code class="hljs"><span class="hljs-comment">// limit: at most two transactions</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; prices)</span> </span>{
  <span class="hljs-keyword">int</span> cost0 = INT_MAX, cost1 = INT_MAX, prof0 = <span class="hljs-number">0</span>, prof1 = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: prices) {
    cost0 = min(cost0, x);
    prof0 = max(prof0, x - cost0);
    cost1 = min(cost1, x - prof0);
    prof1 = max(prof1, x - cost1);
  }
  <span class="hljs-keyword">return</span> prof1;
}
</code></pre><h4 id="le_188-best-time-to-buy-and-sell-stock-iv" data-source-line="4485"><a class="markdownIt-Anchor" href="#le_188-best-time-to-buy-and-sell-stock-iv"></a>LE_188. Best Time to Buy and Sell Stock IV</h4>
<pre data-source-line="4486"><code class="hljs"><span class="hljs-comment">// limit: at most k transactions</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; prices)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cost(k, INT_MAX), prof(k, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: prices) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) {
      cost[i] = i &gt; <span class="hljs-number">0</span> ? min(cost[i], x - prof[i - <span class="hljs-number">1</span>]) : min(cost[i], x);
      prof[i] = max(prof[i], x - cost[i]);
    }
  }
  <span class="hljs-keyword">return</span> prof[k - <span class="hljs-number">1</span>];
}
</code></pre><h4 id="le_309-best-time-to-buy-and-sell-stock-with-cooldown" data-source-line="4499"><a class="markdownIt-Anchor" href="#le_309-best-time-to-buy-and-sell-stock-with-cooldown"></a>LE_309. Best Time to Buy and Sell Stock with Cooldown</h4>
<pre data-source-line="4500"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; prices)</span> </span>{
  <span class="hljs-keyword">int</span> lst2Cost = INT_MAX, lst2Prof = <span class="hljs-number">0</span>; <span class="hljs-comment">// till i - 2;</span>
  <span class="hljs-keyword">int</span> lst1Cost = INT_MAX, lst1Prof = <span class="hljs-number">0</span>; <span class="hljs-comment">// till i - 1;</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; prices.size(); i++) {
    <span class="hljs-keyword">auto</span> curCost = min(lst1Cost, prices[i] - lst2Prof);
    <span class="hljs-keyword">auto</span> curProf = max(lst1Prof, prices[i] - lst1Cost);
    lst2Cost = lst1Cost; lst1Cost = curCost;
    lst2Prof = lst1Prof; lst1Prof = curProf;
  }
  <span class="hljs-keyword">return</span> lst1Prof;
}
</code></pre><h4 id="le_714-best-time-to-buy-and-sell-stock-with-transaction-fee" data-source-line="4513"><a class="markdownIt-Anchor" href="#le_714-best-time-to-buy-and-sell-stock-with-transaction-fee"></a>LE_714. Best Time to Buy and Sell Stock with Transaction Fee</h4>
<pre data-source-line="4514"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; prices, <span class="hljs-keyword">int</span> fee)</span> </span>{
  <span class="hljs-keyword">int</span> cost = INT_MAX, prof = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: prices) {
    cost = min(cost, x - prof);
    prof = max(prof, x - cost - fee);
  }
  <span class="hljs-keyword">return</span> prof;
}
</code></pre><h3 id="56-robber" data-source-line="4524"><a class="markdownIt-Anchor" href="#56-robber"></a><a href="#robber">5.6 Robber</a></h3>
<h4 id="le_198-house-robber" data-source-line="4525"><a class="markdownIt-Anchor" href="#le_198-house-robber"></a>LE_198. House Robber</h4>
<pre data-source-line="4526"><code class="hljs"><span class="hljs-comment">// avoid adjacent</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rob</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> last2 = <span class="hljs-number">0</span>, last1 = nums[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">int</span> tmp = last1;
    last1 = max(last1, last2 + nums[i]);
    last2 = tmp;
  }
  <span class="hljs-keyword">return</span> last1;
}
</code></pre><h4 id="le_213-house-robber-ii" data-source-line="4538"><a class="markdownIt-Anchor" href="#le_213-house-robber-ii"></a>LE_213. House Robber II</h4>
<pre data-source-line="4539"><code class="hljs"><span class="hljs-comment">// circle, avoid adjacent</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rob</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> nums[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">return</span> max(rob(nums, <span class="hljs-number">0</span>, nums.size() - <span class="hljs-number">1</span>), rob(nums, <span class="hljs-number">1</span>, nums.size()));
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rob</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; nums, <span class="hljs-keyword">int</span> fr, <span class="hljs-keyword">int</span> to)</span> </span>{
  <span class="hljs-keyword">int</span> last1 = nums[fr], last2 = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = fr + <span class="hljs-number">1</span>; i &lt; to; i++) {
    <span class="hljs-keyword">int</span> tmp = last1;
    last1 = max(last1, last2 + nums[i]);
    last2 = tmp;
  }
  <span class="hljs-keyword">return</span> last1;
}
</code></pre><h4 id="le_337-house-robber-iii" data-source-line="4557"><a class="markdownIt-Anchor" href="#le_337-house-robber-iii"></a>LE_337. House Robber III</h4>
<pre data-source-line="4558"><code class="hljs"><span class="hljs-comment">// avoid directly-linked houses</span>
<span class="hljs-built_in">unordered_map</span>&lt;TreeNode*, <span class="hljs-keyword">int</span>&gt; mem;
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rob</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (mem.find(root) != mem.end()) <span class="hljs-keyword">return</span> mem[root];
  <span class="hljs-keyword">int</span> dontRobThis = rob(root-&gt;left) + rob(root-&gt;right);
  <span class="hljs-keyword">int</span> robThis = root-&gt;val;
  <span class="hljs-keyword">if</span> (root-&gt;left) robThis += rob(root-&gt;left-&gt;left) + rob(root-&gt;left-&gt;right);
  <span class="hljs-keyword">if</span> (root-&gt;right) robThis += rob(root-&gt;right-&gt;left) + rob(root-&gt;right-&gt;right);
  mem[root] = max(dontRobThis, robThis);
  <span class="hljs-keyword">return</span> mem[root];
}
</code></pre><h4 id="le_2560-house-robber-iv" data-source-line="4572"><a class="markdownIt-Anchor" href="#le_2560-house-robber-iv"></a>LE_2560. House Robber IV</h4>
<pre data-source-line="4573"><code class="hljs"><span class="hljs-comment">// avoid adjacent, </span>
<span class="hljs-comment">// return the minimum capability of the robber out of all </span>
<span class="hljs-comment">// the possible ways to steal at least k houses.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minCapability</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">int</span> maxNum = INT_MIN, minNum = INT_MAX;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x: nums) {
    maxNum = max(x, maxNum);
    minNum = min(x, minNum);
  }
  <span class="hljs-keyword">int</span> l = minNum, r = maxNum, m, res;
  <span class="hljs-keyword">while</span> (l &lt;= r) {
    m = l + (r - l) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (countRobLessThanM(nums, m) &gt;= k) res = m, r = m - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> l = m + <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countRobLessThanM</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> m)</span> </span>{
  <span class="hljs-keyword">int</span> last2 = <span class="hljs-number">0</span>, last1 = nums[<span class="hljs-number">0</span>] &lt;= m;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">int</span> tmp = last1;
    <span class="hljs-keyword">if</span> (nums[i] &lt;= m) { 
      last1 = max(last1, <span class="hljs-number">1</span> + last2);
      last2 = tmp;
    } <span class="hljs-keyword">else</span> {
      last2 = last1;
    }
  }
  <span class="hljs-keyword">return</span> last1;
}
</code></pre><h3 id="57-lis" data-source-line="4606"><a class="markdownIt-Anchor" href="#57-lis"></a><a href="#lis">5.7 LIS</a></h3>
<h4 id="le_300-longest-increasing-subsequence" data-source-line="4607"><a class="markdownIt-Anchor" href="#le_300-longest-increasing-subsequence"></a>LE_300. Longest Increasing Subsequence</h4>
<pre data-source-line="4608"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lengthOfLIS</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sub;
  sub.push_back(nums[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (nums[i] &gt; sub[sub.size() - <span class="hljs-number">1</span>]) sub.push_back(nums[i]);
    <span class="hljs-keyword">else</span> *lower_bound(sub.begin(), sub.end(), nums[i]) = nums[i];
  }
  <span class="hljs-keyword">return</span> sub.size();
}
</code></pre><h3 id="58-square" data-source-line="4620"><a class="markdownIt-Anchor" href="#58-square"></a><a href="#square">5.8 Square</a></h3>
<h4 id="le_221-maximal-square" data-source-line="4621"><a class="markdownIt-Anchor" href="#le_221-maximal-square"></a>LE_221. Maximal Square</h4>
<pre data-source-line="4622"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maximalSquare</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; matrix)</span> </span>{
  <span class="hljs-keyword">if</span> (matrix.size() == <span class="hljs-number">0</span> || matrix[<span class="hljs-number">0</span>].size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> max_length = <span class="hljs-number">0</span>, m = matrix.size(), n = matrix[<span class="hljs-number">0</span>].size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; dp(m + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++) {
      <span class="hljs-keyword">if</span> (matrix[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] == <span class="hljs-string">'1'</span>) {
        dp[i][j] = min(dp[i<span class="hljs-number">-1</span>][j], min(dp[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>], dp[i][j<span class="hljs-number">-1</span>])) + <span class="hljs-number">1</span>;
        max_length = max(max_length, dp[i][j]);
      }
    }
  }
  <span class="hljs-keyword">return</span> max_length * max_length;
}
</code></pre><h3 id="59-balloons" data-source-line="4638"><a class="markdownIt-Anchor" href="#59-balloons"></a><a href="#ballons">5.9 Balloons</a></h3>
<h4 id="le_312-burst-balloons" data-source-line="4639"><a class="markdownIt-Anchor" href="#le_312-burst-balloons"></a>LE_312. Burst Balloons</h4>
<pre data-source-line="4640"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxCoins</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  nums.insert(nums.begin(), <span class="hljs-number">1</span>); 
  nums.push_back(<span class="hljs-number">1</span>);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; dp(nums.size() + <span class="hljs-number">2</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(nums.size() + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">return</span> solve(nums, dp, <span class="hljs-number">1</span>, nums.size() - <span class="hljs-number">2</span>);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; dp, <span class="hljs-keyword">int</span> fr, <span class="hljs-keyword">int</span> to)</span> </span>{
  <span class="hljs-keyword">if</span> (dp[fr][to]) <span class="hljs-keyword">return</span> dp[fr][to];
  <span class="hljs-keyword">if</span> (fr == to) <span class="hljs-keyword">return</span> dp[fr][to] = nums[fr - <span class="hljs-number">1</span>] * nums[fr] * nums[to + <span class="hljs-number">1</span>];
  <span class="hljs-keyword">int</span> base = nums[fr - <span class="hljs-number">1</span>] * nums[to + <span class="hljs-number">1</span>];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = fr; i &lt;= to; i++)
    dp[fr][to] = max(dp[fr][to], base * nums[i] + 
                 solve(nums, dp, fr, i - <span class="hljs-number">1</span>) + solve(nums, dp, i + <span class="hljs-number">1</span>, to));
  <span class="hljs-keyword">return</span> dp[fr][to];
}
</code></pre><h3 id="5a-coins" data-source-line="4658"><a class="markdownIt-Anchor" href="#5a-coins"></a><a href="#coins">5.A Coins</a></h3>
<h4 id="le_322-coin-change" data-source-line="4659"><a class="markdownIt-Anchor" href="#le_322-coin-change"></a>LE_322. Coin Change</h4>
<pre data-source-line="4660"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">coinChange</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; coins, <span class="hljs-keyword">int</span> amount)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; dp(amount + <span class="hljs-number">1</span>, INT_MAX); dp[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= amount; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> c: coins)
    <span class="hljs-keyword">if</span> (i &gt;= c &amp;&amp; dp[i - c] != INT_MAX) dp[i] = min(dp[i], <span class="hljs-number">1</span> + dp[i - c]);
  <span class="hljs-keyword">return</span> dp[amount] == INT_MAX ? <span class="hljs-number">-1</span> : dp[amount];
}
</code></pre><h2 id="6-dfsbfs" data-source-line="4669"><a class="markdownIt-Anchor" href="#6-dfsbfs"></a><a href="#dfsbfs">6 DFS/BFS</a></h2>
<h3 id="61-permutations" data-source-line="4670"><a class="markdownIt-Anchor" href="#61-permutations"></a><a href="#permutations">6.1 Permutations</a></h3>
<h4 id="le_17-letter-combinations-of-a-phone-number" data-source-line="4671"><a class="markdownIt-Anchor" href="#le_17-letter-combinations-of-a-phone-number"></a>LE_17. Letter Combinations of a Phone Number</h4>
<pre data-source-line="4672"><code class="hljs"><span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-built_in">string</span>&gt; hash_map;
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res_vec;

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; letterCombinations(<span class="hljs-built_in">string</span> digits) {
  <span class="hljs-keyword">if</span>(digits.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res_vec;
  hash_map[<span class="hljs-string">'2'</span>] = <span class="hljs-string">"abc"</span>;
  hash_map[<span class="hljs-string">'3'</span>] = <span class="hljs-string">"def"</span>;
  hash_map[<span class="hljs-string">'4'</span>] = <span class="hljs-string">"ghi"</span>;
  hash_map[<span class="hljs-string">'5'</span>] = <span class="hljs-string">"jkl"</span>;
  hash_map[<span class="hljs-string">'6'</span>] = <span class="hljs-string">"mno"</span>;
  hash_map[<span class="hljs-string">'7'</span>] = <span class="hljs-string">"pqrs"</span>;
  hash_map[<span class="hljs-string">'8'</span>] = <span class="hljs-string">"tuv"</span>;
  hash_map[<span class="hljs-string">'9'</span>] = <span class="hljs-string">"wxyz"</span>;
  <span class="hljs-built_in">string</span> generated = <span class="hljs-string">""</span>;
  recurse(digits, <span class="hljs-number">0</span>, generated);
  <span class="hljs-keyword">return</span> res_vec;
}

<span class="hljs-comment">//                  input       from            generated</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">recurse</span><span class="hljs-params">(<span class="hljs-built_in">string</span> digits, <span class="hljs-keyword">int</span> start, <span class="hljs-built_in">string</span> &amp; generated)</span> </span>{
  <span class="hljs-keyword">if</span>(generated.size() == digits.size())
    res_vec.push_back(generated);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = start; i &lt; digits.size(); i++) {
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> x : hash_map[digits[i]]) {
      generated.push_back(x);
      recurse(digits, i + <span class="hljs-number">1</span>, generated);
      generated.pop_back();
    }
  }
}
</code></pre><h4 id="le_31-next-permutation" data-source-line="4704"><a class="markdownIt-Anchor" href="#le_31-next-permutation"></a>LE_31. Next Permutation</h4>
<pre data-source-line="4705"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">nextPermutation</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; nums)</span> </span>{
  <span class="hljs-keyword">auto</span> iter = is_sorted_until(nums.rbegin(), nums.rend());
  <span class="hljs-keyword">if</span>(iter != nums.rend())
    swap(*iter, *upper_bound(nums.rbegin(), iter, *iter));
  reverse(nums.rbegin(), iter);
}
</code></pre><h4 id="le_46-permutations" data-source-line="4713"><a class="markdownIt-Anchor" href="#le_46-permutations"></a>LE_46. Permutations</h4>
<pre data-source-line="4714"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">permute</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums, <span class="hljs-keyword">int</span> pos)</span> </span>{
  <span class="hljs-keyword">if</span> (pos == nums.size()) {
    res.push_back(nums);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos; i &lt; nums.size(); i++) {
    swap(nums[pos], nums[i]);
    permute(res, nums, pos + <span class="hljs-number">1</span>);
  }
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; permute(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  permute(res, nums, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_47-permutations-ii" data-source-line="4732"><a class="markdownIt-Anchor" href="#le_47-permutations-ii"></a>LE_47. Permutations II</h4>
<pre data-source-line="4733"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">permuteUnique</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; nums, <span class="hljs-keyword">int</span> pos)</span> </span>{
  <span class="hljs-keyword">if</span> (pos == nums.size()) {
    res.push_back(nums);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos; i &lt; nums.size(); i++) {
    <span class="hljs-keyword">if</span> (i == pos || nums[pos] != nums[i]) {
      swap(nums[pos], nums[i]);
      permuteUnique(res, nums, pos + <span class="hljs-number">1</span>);
    } 
  }
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; permuteUnique(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  sort(nums.begin(), nums.end());
  permuteUnique(res, nums, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_60-permutation-sequence" data-source-line="4754"><a class="markdownIt-Anchor" href="#le_60-permutation-sequence"></a>LE_60. Permutation Sequence</h4>
<pre data-source-line="4755"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getPermutation</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-built_in">string</span> res;
  <span class="hljs-built_in">string</span> rem = <span class="hljs-string">"123456789"</span>;
  k--;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i--) {
    <span class="hljs-keyword">int</span> j = k / fac(i - <span class="hljs-number">1</span>);
    k %= fac(i - <span class="hljs-number">1</span>);
    res.push_back(rem[j]);
    rem.erase(rem.begin() + j);
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fac</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
    res *= i;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_77-combinations" data-source-line="4776"><a class="markdownIt-Anchor" href="#le_77-combinations"></a>LE_77. Combinations</h4>
<pre data-source-line="4777"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; combine(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> k) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  backtrack(res, <span class="hljs-number">1</span>, n, k, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;());
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; &amp; res, <span class="hljs-keyword">int</span> cur, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> k, 
               <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; comb)</span> </span>{
  <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>) { res.push_back(comb); <span class="hljs-keyword">return</span>; }
  <span class="hljs-keyword">if</span> (cur &lt;= n - k) backtrack(res, cur + <span class="hljs-number">1</span>, n, k, comb);
  comb.push_back(cur);
  backtrack(res, cur + <span class="hljs-number">1</span>, n, k - <span class="hljs-number">1</span>, comb);
}
</code></pre><h4 id="le_78-subsets" data-source-line="4792"><a class="markdownIt-Anchor" href="#le_78-subsets"></a>LE_78. Subsets</h4>
<pre data-source-line="4793"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; subsets(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  backtrack(res, nums, <span class="hljs-number">0</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;());
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; &amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> ind, 
               <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; subset)</span> </span>{
  <span class="hljs-keyword">if</span> (ind == nums.size()) {res.push_back(subset); <span class="hljs-keyword">return</span>;}
  backtrack(res, nums, ind + <span class="hljs-number">1</span>, subset);
  subset.push_back(nums[ind]);
  backtrack(res, nums, ind + <span class="hljs-number">1</span>, subset);
}
</code></pre><h3 id="62-trace" data-source-line="4809"><a class="markdownIt-Anchor" href="#62-trace"></a><a href="#trace">6.2 Trace</a></h3>
<h4 id="le_79-word-search" data-source-line="4810"><a class="markdownIt-Anchor" href="#le_79-word-search"></a>LE_79. Word Search</h4>
<pre data-source-line="4811"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">exist</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; board, <span class="hljs-built_in">string</span> word)</span> </span>{
  <span class="hljs-keyword">if</span> (word == <span class="hljs-string">""</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (board.size() == <span class="hljs-number">0</span> || board[<span class="hljs-number">0</span>].size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">int</span> m = board.size(), n = board[<span class="hljs-number">0</span>].size();
  <span class="hljs-keyword">if</span> (word.size() &gt; m * n) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)
      <span class="hljs-keyword">if</span> (board[i][j] == word[<span class="hljs-number">0</span>] &amp;&amp; search_from(board, m, n, i, j, word, <span class="hljs-number">0</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">search_from</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; board, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, 
                 <span class="hljs-built_in">string</span> &amp; word, <span class="hljs-keyword">int</span> ind)</span> </span>{
  <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= m || j &lt; <span class="hljs-number">0</span> || j &gt;= n || 
      board[i][j] != word[ind] || board[i][j] == <span class="hljs-string">'#'</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (ind == word.size() - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">char</span> tmp = board[i][j];
  board[i][j] = <span class="hljs-string">'#'</span>;
  <span class="hljs-keyword">bool</span> res = search_from(board, m, n, i - <span class="hljs-number">1</span>, j, word, ind + <span class="hljs-number">1</span>) ||
             search_from(board, m, n, i + <span class="hljs-number">1</span>, j, word, ind + <span class="hljs-number">1</span>) ||
             search_from(board, m, n, i, j - <span class="hljs-number">1</span>, word, ind + <span class="hljs-number">1</span>) ||
             search_from(board, m, n, i, j + <span class="hljs-number">1</span>, word, ind + <span class="hljs-number">1</span>);
  board[i][j] = tmp;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_329-longest-increasing-path-in-a-matrix" data-source-line="4840"><a class="markdownIt-Anchor" href="#le_329-longest-increasing-path-in-a-matrix"></a>LE_329. Longest Increasing Path in a Matrix</h4>
<pre data-source-line="4841"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">longestIncreasingPath</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; vis(matrix.size(), <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(matrix[<span class="hljs-number">0</span>].size(), <span class="hljs-number">0</span>));
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; matrix.size(); x++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>; y &lt; matrix[<span class="hljs-number">0</span>].size(); y++)
      res = max(res, dfs(matrix, vis, x, y));
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; mat, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; vis, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-keyword">if</span> (vis[x][y]) <span class="hljs-keyword">return</span> vis[x][y];
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>} };
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [dx, dy]: dirs) {
    <span class="hljs-keyword">int</span> nx = x + dx, ny = y + dy;
    <span class="hljs-keyword">if</span> (nx &gt;= <span class="hljs-number">0</span> &amp;&amp; nx &lt; mat.size() &amp;&amp; ny &gt;= <span class="hljs-number">0</span> &amp;&amp; ny &lt; mat[<span class="hljs-number">0</span>].size())
      <span class="hljs-keyword">if</span> (mat[nx][ny] &gt; mat[x][y]) 
        res = max(res, <span class="hljs-number">1</span> + dfs(mat, vis, nx, ny));
  }
  vis[x][y] = res;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_417-pacific-atlantic-water-flow" data-source-line="4865"><a class="markdownIt-Anchor" href="#le_417-pacific-atlantic-water-flow"></a>LE_417. Pacific Atlantic Water Flow</h4>
<pre data-source-line="4866"><code class="hljs"><span class="hljs-comment">// p p p p p p p</span>
<span class="hljs-comment">// p 1 2 2 3[5]a</span>
<span class="hljs-comment">// p 3 2 3[4 4]a</span>
<span class="hljs-comment">// p 2 4[5]3 1 a</span>
<span class="hljs-comment">// p[6 7]1 4 5 a</span>
<span class="hljs-comment">// p[5]1 1 2 4 a</span>
<span class="hljs-comment">// a a a a a a a</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; pacificAtlantic(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; heights) {
  <span class="hljs-keyword">int</span> row = heights.size(), col = heights[<span class="hljs-number">0</span>].size();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt; vis_p(row, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(col, <span class="hljs-literal">false</span>)), vis_a = vis_p;
  <span class="hljs-built_in">queue</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; que_p, que_a;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; row; i++) 
    vis_p[i][<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>, que_p.push({i, <span class="hljs-number">0</span>});
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; col; j++) 
    vis_p[<span class="hljs-number">0</span>][j] = <span class="hljs-literal">true</span>, que_p.push({<span class="hljs-number">0</span>, j});
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; row; i++) 
    vis_a[i][col - <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>, que_a.push({i, col - <span class="hljs-number">1</span>});
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; col - <span class="hljs-number">1</span>; j++) 
    vis_a[row - <span class="hljs-number">1</span>][j] = <span class="hljs-literal">true</span>, que_a.push({row - <span class="hljs-number">1</span>, j});
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = {{<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>}};
  <span class="hljs-keyword">auto</span> bfs = [&amp;](<span class="hljs-built_in">queue</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;&amp; que, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt;&amp; vis) {
    <span class="hljs-keyword">while</span> (que.size()) {
      <span class="hljs-keyword">auto</span> [x, y] = que.front(); que.pop();
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [dx, dy]: dirs) {
        <span class="hljs-keyword">auto</span> nx = x + dx, ny = y + dy;
        <span class="hljs-keyword">if</span> (nx &gt;= <span class="hljs-number">0</span> &amp;&amp; ny &gt;= <span class="hljs-number">0</span> &amp;&amp; nx &lt; row &amp;&amp; ny &lt; col &amp;&amp; 
          !vis[nx][ny] &amp;&amp; heights[nx][ny] &gt;= heights[x][y])
          vis[nx][ny] = <span class="hljs-literal">true</span>, que.push({nx, ny});
      }
    }
  };
  bfs(que_p, vis_p);
  bfs(que_a, vis_a);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; row; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; col; j++)
    <span class="hljs-keyword">if</span> (vis_p[i][j] &amp;&amp; vis_a[i][j]) res.push_back({i, j});
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_433-minimum-genetic-mutation" data-source-line="4906"><a class="markdownIt-Anchor" href="#le_433-minimum-genetic-mutation"></a>LE_433. Minimum Genetic Mutation</h4>
<pre data-source-line="4907"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minMutation</span><span class="hljs-params">(<span class="hljs-built_in">string</span> startGene, <span class="hljs-built_in">string</span> endGene, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; bank)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; vis(bank.size(), <span class="hljs-literal">false</span>);
  <span class="hljs-built_in">queue</span>&lt;pair&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;&gt; que; que.push({startGene, <span class="hljs-number">0</span>});
  <span class="hljs-keyword">while</span> (que.size()) {
    <span class="hljs-keyword">auto</span> [cur, cnt] = que.front(); que.pop();
    <span class="hljs-keyword">if</span> (cur == endGene) <span class="hljs-keyword">return</span> cnt;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; bank.size(); i++) {
      <span class="hljs-keyword">if</span> (!vis[i]) {
        <span class="hljs-keyword">int</span> diff = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">8</span>; j++) 
          diff += (bank[i][j] != cur[j]);
        <span class="hljs-keyword">if</span> (diff == <span class="hljs-number">1</span>) {
          vis[i] = <span class="hljs-literal">true</span>;
          que.push({bank[i], cnt + <span class="hljs-number">1</span>});
        }
      }
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
}
</code></pre><h4 id="le_473-matchsticks-to-square" data-source-line="4929"><a class="markdownIt-Anchor" href="#le_473-matchsticks-to-square"></a>LE_473. Matchsticks to Square</h4>
<pre data-source-line="4930"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">makesquare</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; ms)</span> </span>{
  <span class="hljs-keyword">if</span> (ms.size() &lt; <span class="hljs-number">4</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">int</span> sum = accumulate(ms.begin(), ms.end(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (sum % <span class="hljs-number">4</span> != <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt; mem;
  sort(ms.rbegin(), ms.rend());
  <span class="hljs-keyword">return</span> dfs(ms, mem, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, sum / <span class="hljs-number">4</span>);
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; ms, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt;&amp; mem, <span class="hljs-keyword">int</span> msk,
         <span class="hljs-keyword">int</span> edge, <span class="hljs-keyword">int</span> pos, <span class="hljs-keyword">int</span> cur, <span class="hljs-keyword">int</span> tar)</span> </span>{
  <span class="hljs-keyword">if</span> (edge == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (pos &gt;= ms.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (mem.count(msk)) <span class="hljs-keyword">return</span> mem[msk];
  <span class="hljs-keyword">if</span> (cur == tar) <span class="hljs-keyword">return</span> mem[msk] = dfs(ms, mem, msk, edge - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, tar);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pos; i &lt; ms.size(); i++) {
    <span class="hljs-keyword">if</span> (!(msk &amp; (<span class="hljs-number">1</span> &lt;&lt; i)) &amp;&amp; cur + ms[i] &lt;= tar &amp;&amp; 
        dfs(ms, mem, msk | (<span class="hljs-number">1</span> &lt;&lt; i), edge, i + <span class="hljs-number">1</span>, cur + ms[i], tar))
      <span class="hljs-keyword">return</span> mem[msk] = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> mem[msk] = <span class="hljs-literal">false</span>;
}
</code></pre><h3 id="63-n-queens" data-source-line="4954"><a class="markdownIt-Anchor" href="#63-n-queens"></a><a href="#n-queens">6.3 N Queens</a></h3>
<h4 id="le_51-n-queens" data-source-line="4955"><a class="markdownIt-Anchor" href="#le_51-n-queens"></a>LE_51. N-Queens</h4>
<pre data-source-line="4956"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; solveNQueens(<span class="hljs-keyword">int</span> n) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; n_queens(n, <span class="hljs-built_in">string</span>(n, <span class="hljs-string">'.'</span>));
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; occu_col(n, <span class="hljs-literal">false</span>), occu_45(<span class="hljs-number">2</span> * n - <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>), 
               occu_135(<span class="hljs-number">2</span> * n - <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
  backtrack(res, n_queens, occu_col, occu_45, occu_135, <span class="hljs-number">0</span>, n);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; &amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; &amp; n_queens,
               <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &amp; occu_col, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &amp; occu_45, 
               <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &amp; occu_135, <span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> &amp; n)</span> </span>{
  <span class="hljs-keyword">if</span> (row == n) { res.push_back(n_queens); <span class="hljs-keyword">return</span>; }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> col = <span class="hljs-number">0</span>; col != n; col++) {
    <span class="hljs-keyword">if</span> (occu_col[col] == <span class="hljs-literal">false</span> &amp;&amp; occu_45[row + col] == <span class="hljs-literal">false</span> &amp;&amp; 
        occu_135[n - <span class="hljs-number">1</span> + col - row] == <span class="hljs-literal">false</span>) {
      occu_col[col] = occu_45[row + col] = occu_135[n - <span class="hljs-number">1</span> + col - row] = <span class="hljs-literal">true</span>;
      n_queens[row][col] = <span class="hljs-string">'Q'</span>;
      backtrack(res, n_queens, occu_col, occu_45, occu_135, row + <span class="hljs-number">1</span>, n);
      n_queens[row][col] = <span class="hljs-string">'.'</span>;
      occu_col[col] = occu_45[row + col] = occu_135[n - <span class="hljs-number">1</span> + col - row] = <span class="hljs-literal">false</span>;
    }
  }
}
</code></pre><h4 id="le_52-n-queens-ii" data-source-line="4982"><a class="markdownIt-Anchor" href="#le_52-n-queens-ii"></a>LE_52. N-Queens II</h4>
<pre data-source-line="4983"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">totalNQueens</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; occu_col(n, <span class="hljs-literal">false</span>), occu_45(<span class="hljs-number">2</span> * n - <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>), 
               occu_135(<span class="hljs-number">2</span> * n - <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
  backtrack(res, occu_col, occu_45, occu_135, <span class="hljs-number">0</span>, n);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp; res, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &amp; occu_col, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &amp; occu_45, 
               <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; &amp; occu_135, <span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> &amp; n)</span> </span>{
  <span class="hljs-keyword">if</span> (row == n) { res++; <span class="hljs-keyword">return</span>; }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> col = <span class="hljs-number">0</span>; col != n; col++) {
    <span class="hljs-keyword">if</span> (occu_col[col] == <span class="hljs-literal">false</span> &amp;&amp; occu_45[row + col] == <span class="hljs-literal">false</span> &amp;&amp; 
        occu_135[n - <span class="hljs-number">1</span> + col - row] == <span class="hljs-literal">false</span>) {
      occu_col[col] = occu_45[row + col] = occu_135[n - <span class="hljs-number">1</span> + col - row] = <span class="hljs-literal">true</span>;
      backtrack(res, occu_col, occu_45, occu_135, row + <span class="hljs-number">1</span>, n);
      occu_col[col] = occu_45[row + col] = occu_135[n - <span class="hljs-number">1</span> + col - row] = <span class="hljs-literal">false</span>;
    }
  }
}
</code></pre><h3 id="64-island" data-source-line="5005"><a class="markdownIt-Anchor" href="#64-island"></a><a href="#island">6.4 Island</a></h3>
<h4 id="le_130-surrounded-regions" data-source-line="5006"><a class="markdownIt-Anchor" href="#le_130-surrounded-regions"></a>LE_130. Surrounded Regions</h4>
<pre data-source-line="5007"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; mat, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt; &amp;vis, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>} };
  <span class="hljs-keyword">if</span>(mat[x][y]==<span class="hljs-string">'O'</span>) {
    vis[x][y]=<span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> [dx, dy]: dirs) {
      <span class="hljs-keyword">int</span> nx = x + dx, ny = y + dy;
      <span class="hljs-keyword">if</span> (nx &gt;= <span class="hljs-number">0</span> &amp;&amp; ny &gt;= <span class="hljs-number">0</span> &amp;&amp; nx &lt; mat.size() &amp;&amp; ny &lt; mat[<span class="hljs-number">0</span>].size() &amp;&amp;
          mat[nx][ny] == <span class="hljs-string">'O'</span> &amp;&amp; !vis[nx][ny])
        dfs(mat, vis, nx, ny);
    }
  }
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; mat)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt; vis(mat.size(), <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(mat[<span class="hljs-number">0</span>].size(), <span class="hljs-literal">false</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; mat.size(); x++) {
    <span class="hljs-keyword">if</span> (mat[x][<span class="hljs-number">0</span>] == <span class="hljs-string">'O'</span>) dfs(mat, vis, x, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">if</span> (mat[x][mat[<span class="hljs-number">0</span>].size() - <span class="hljs-number">1</span>] == <span class="hljs-string">'O'</span>) dfs(mat, vis, x, mat[<span class="hljs-number">0</span>].size() - <span class="hljs-number">1</span>);
  }
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> y = <span class="hljs-number">1</span>; y &lt; mat[<span class="hljs-number">0</span>].size() - <span class="hljs-number">1</span>; y++) {
    <span class="hljs-keyword">if</span>(mat[<span class="hljs-number">0</span>][y] == <span class="hljs-string">'O'</span>) dfs(mat, vis, <span class="hljs-number">0</span>, y);
    <span class="hljs-keyword">if</span>(mat[mat.size() - <span class="hljs-number">1</span>][y] == <span class="hljs-string">'O'</span>) dfs(mat, vis, mat.size() - <span class="hljs-number">1</span>, y);
  }
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; mat.size(); x++) <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>; y &lt; mat[<span class="hljs-number">0</span>].size(); y++)
    <span class="hljs-keyword">if</span>(mat[x][y] == <span class="hljs-string">'O'</span> &amp;&amp; !vis[x][y]) mat[x][y]=<span class="hljs-string">'X'</span>;
}
</code></pre><h4 id="le_200-number-of-islands" data-source-line="5035"><a class="markdownIt-Anchor" href="#le_200-number-of-islands"></a>LE_200. Number of Islands</h4>
<pre data-source-line="5036"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numIslands</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; grid)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; grid.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; grid[i].size(); j++)
      <span class="hljs-keyword">if</span> (grid[i][j] == <span class="hljs-string">'1'</span>)
      { res++; dfs(grid, i, j);}
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt; &gt; &amp; grid, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span> </span>{
  <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || j &lt; <span class="hljs-number">0</span> || i &gt;= grid.size() || j &gt;= grid[<span class="hljs-number">0</span>].size()) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">if</span> (grid[i][j] != <span class="hljs-string">'1'</span>) <span class="hljs-keyword">return</span>;
  grid[i][j] = <span class="hljs-string">'2'</span>;
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>} };
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [dx, dy]: dirs) dfs(grid, i + dx, j + dy);
}
</code></pre><h4 id="le_463-island-perimeter" data-source-line="5054"><a class="markdownIt-Anchor" href="#le_463-island-perimeter"></a>LE_463. Island Perimeter</h4>
<pre data-source-line="5055"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">islandPerimeter</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; grid.size(); i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; grid[i].size(); j++) {
      <span class="hljs-keyword">if</span> (grid[i][j] == <span class="hljs-number">1</span>) {
        res += (i == <span class="hljs-number">0</span> || grid[i - <span class="hljs-number">1</span>][j] == <span class="hljs-number">0</span>); <span class="hljs-comment">// N</span>
        res += (i == grid.size() - <span class="hljs-number">1</span> || grid[i + <span class="hljs-number">1</span>][j] == <span class="hljs-number">0</span>);	<span class="hljs-comment">// S</span>
        res += (j == <span class="hljs-number">0</span> || grid[i][j - <span class="hljs-number">1</span>] == <span class="hljs-number">0</span>); <span class="hljs-comment">// W</span>
        res += (j == grid[i].size() - <span class="hljs-number">1</span> || grid[i][j + <span class="hljs-number">1</span>] == <span class="hljs-number">0</span>); <span class="hljs-comment">// E</span>
      }
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_695-max-area-of-island" data-source-line="5071"><a class="markdownIt-Anchor" href="#le_695-max-area-of-island"></a>LE_695. Max Area of Island</h4>
<pre data-source-line="5072"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxAreaOfIsland</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid)</span> </span>{
  <span class="hljs-keyword">if</span> (grid.size() == <span class="hljs-number">0</span> || grid[<span class="hljs-number">0</span>].size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt; visited(
    grid.size(), <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;(grid[<span class="hljs-number">0</span>].size(), <span class="hljs-literal">false</span>));
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; grid.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; grid[i].size(); j++)
      { <span class="hljs-keyword">int</span> cur = <span class="hljs-number">0</span>; dfs(grid, visited, res, cur, i, j); }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&gt;&amp; visited, 
         <span class="hljs-keyword">int</span>&amp; res, <span class="hljs-keyword">int</span>&amp; cur, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-keyword">int</span> m = grid.size(), n = grid[<span class="hljs-number">0</span>].size();
  <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span> || x &gt;= m || y &gt;= n || visited[x][y]) <span class="hljs-keyword">return</span>;
  visited[x][y] = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (grid[x][y] == <span class="hljs-number">1</span>) {
    res = max(res, ++cur);
    <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>} };
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [dx, dy]: dirs) 
      dfs(grid, visited, res, cur, x + dx, y + dy);
  }
}
</code></pre><h4 id="le_827-making-a-large-island" data-source-line="5097"><a class="markdownIt-Anchor" href="#le_827-making-a-large-island"></a>LE_827. Making A Large Island</h4>
<pre data-source-line="5098"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">largestIsland</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid)</span> </span>{
  <span class="hljs-keyword">int</span> ild_ind = <span class="hljs-number">2</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; ild_area;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; grid.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; grid[i].size(); j++)
      <span class="hljs-keyword">if</span> (grid[i][j] == <span class="hljs-number">1</span>)
        dfs(grid, ild_area, ild_ind++, i, j);
  <span class="hljs-keyword">int</span> res = ild_area.size() ? ild_area[ild_ind - <span class="hljs-number">1</span>] : <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; grid.size(); i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; grid[i].size(); j++)
      <span class="hljs-keyword">if</span> (grid[i][j] == <span class="hljs-number">0</span>)
        res = max(res, check(grid, ild_area, i, j));
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isLegal</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-keyword">return</span> !(x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span> || x &gt;= grid.size() || y &gt;= grid[<span class="hljs-number">0</span>].size());
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&amp; ild_area, 
         <span class="hljs-keyword">int</span> ild_ind, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-keyword">if</span> (!isLegal(grid, x, y) || grid[x][y] &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>} };
  <span class="hljs-keyword">if</span> (grid[x][y] == <span class="hljs-number">1</span>) {
    grid[x][y] = ild_ind;
    ild_area[ild_ind]++;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [dx, dy]: dirs)
      dfs(grid, ild_area, ild_ind, x + dx, y + dy);
  }
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&amp; ild_area, 
          <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; dirs = { {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>}, {<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>} };
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt; ild_set;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [dx, dy]: dirs) {
    <span class="hljs-keyword">if</span> (isLegal(grid, x + dx, y + dy)) {
      <span class="hljs-keyword">int</span> cur_ild_idx = grid[x + dx][y + dy];
      <span class="hljs-keyword">if</span> (cur_ild_idx &gt; <span class="hljs-number">0</span> &amp;&amp; ild_set.find(cur_ild_idx) == ild_set.end()) {
        ild_set.insert(cur_ild_idx);
        res += ild_area[cur_ild_idx];
      }
    }
  }
  <span class="hljs-keyword">return</span> res + <span class="hljs-number">1</span>;
}
</code></pre><h4 id="le_419-battleships-in-a-board" data-source-line="5147"><a class="markdownIt-Anchor" href="#le_419-battleships-in-a-board"></a>LE_419. Battleships in a Board</h4>
<pre data-source-line="5148"><code class="hljs"><span class="hljs-comment">// count bars</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countBattleships</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; board)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>, row = board.size(), col = board[<span class="hljs-number">0</span>].size();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; row; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; col; j++)
    res += board[i][j] == <span class="hljs-string">'X'</span> &amp;&amp; 
      (i == <span class="hljs-number">0</span> || board[i - <span class="hljs-number">1</span>][j] == <span class="hljs-string">'.'</span>) &amp;&amp;
      (j == <span class="hljs-number">0</span> || board[i][j - <span class="hljs-number">1</span>] == <span class="hljs-string">'.'</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="65-graph" data-source-line="5160"><a class="markdownIt-Anchor" href="#65-graph"></a><a href="#graph">6.5 Graph</a></h3>
<h4 id="le_133-clone-graph" data-source-line="5161"><a class="markdownIt-Anchor" href="#le_133-clone-graph"></a>LE_133. Clone Graph</h4>
<pre data-source-line="5162"><code class="hljs"><span class="hljs-built_in">unordered_map</span>&lt;Node *, Node *&gt; copies;
<span class="hljs-function">Node* <span class="hljs-title">cloneGraph</span><span class="hljs-params">(Node* node)</span> </span>{
  <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">if</span> (copies.find(node) == copies.end()) {
    copies[node] = <span class="hljs-keyword">new</span> Node(node-&gt;val, {});
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> neighbor : node-&gt;neighbors)
      copies[node]-&gt;neighbors.push_back(cloneGraph(neighbor));
  }
  <span class="hljs-keyword">return</span> copies[node];
}
</code></pre><h4 id="le_399-evaluate-division" data-source-line="5174"><a class="markdownIt-Anchor" href="#le_399-evaluate-division"></a>LE_399. Evaluate Division</h4>
<pre data-source-line="5175"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; calcEquation(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;&amp; equations, 
                            <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt;&amp; values, 
                            <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;&amp; queries) {
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">double</span>&gt;&gt;&gt; gra;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; equations.size(); i++) {
    gra[equations[i][<span class="hljs-number">0</span>]].push_back({equations[i][<span class="hljs-number">1</span>], values[i]});
    <span class="hljs-keyword">if</span> (values[i] != <span class="hljs-number">0</span>) 
      gra[equations[i][<span class="hljs-number">1</span>]].push_back({equations[i][<span class="hljs-number">0</span>], <span class="hljs-number">1.</span> / values[i]});
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; que: queries) {
    <span class="hljs-keyword">auto</span> fr = que[<span class="hljs-number">0</span>], to = que[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">if</span> (gra.find(fr) == gra.end() || gra.find(to) == gra.end()) 
      res.push_back(<span class="hljs-number">-1.</span>);
    <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; visited;
      <span class="hljs-keyword">double</span> cur_res = <span class="hljs-number">1.</span>;
      canReach(gra, visited, fr, to, cur_res) ? 
        res.push_back(cur_res) : res.push_back(<span class="hljs-number">-1.</span>);
    }
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canReach</span><span class="hljs-params">(<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">double</span>&gt;&gt;&gt;&amp; gra, 
              <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; visited, 
              <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; fr, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; to, <span class="hljs-keyword">double</span>&amp; res)</span> </span>{
  <span class="hljs-keyword">if</span> (visited.find(fr) != visited.end()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  visited.insert(fr);
  <span class="hljs-keyword">if</span> (fr == to) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [node, val] : gra[fr]) {
    <span class="hljs-keyword">double</span> res_bk = res;
    res *= val;
    <span class="hljs-keyword">if</span> (canReach(gra, visited, node, to, res)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    res = res_bk;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_457-circular-array-loop" data-source-line="5215"><a class="markdownIt-Anchor" href="#le_457-circular-array-loop"></a>LE_457. Circular Array Loop</h4>
<pre data-source-line="5216"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">circularArrayLoop</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; vis(nums.size(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++)
    <span class="hljs-keyword">if</span> (!vis[i] &amp;&amp; dfs(nums, vis, i) == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; vis, <span class="hljs-keyword">int</span> cur)</span> </span>{
  <span class="hljs-keyword">if</span> (nums[cur] == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> vis[cur] = <span class="hljs-number">-1</span>; 
  <span class="hljs-keyword">if</span> (vis[cur] == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> vis[cur] = <span class="hljs-number">2</span>;
  vis[cur] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> nxt = (cur + nums.size() + nums[cur]) % nums.size();
  <span class="hljs-keyword">if</span> (cur == nxt || nums[cur] * nums[nxt] &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> vis[cur] = <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">return</span> vis[cur] = dfs(nums, vis, nxt);
}
</code></pre><h2 id="7-math" data-source-line="5234"><a class="markdownIt-Anchor" href="#7-math"></a><a href="#math">7 Math</a></h2>
<h3 id="71-number" data-source-line="5235"><a class="markdownIt-Anchor" href="#71-number"></a><a href="#number">7.1 Number</a></h3>
<h4 id="le_7-reverse-integer" data-source-line="5236"><a class="markdownIt-Anchor" href="#le_7-reverse-integer"></a>LE_7. Reverse Integer</h4>
<pre data-source-line="5237"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">reverse</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>{
  <span class="hljs-keyword">long</span> ans = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(x) {
    ans = ans * <span class="hljs-number">10</span> + x % <span class="hljs-number">10</span>;
    <span class="hljs-keyword">if</span>(ans &gt; INT_MAX || ans &lt; INT_MIN) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    x /= <span class="hljs-number">10</span>;
  }
  <span class="hljs-keyword">return</span> ans;
}
</code></pre><h4 id="le_136-single-number" data-source-line="5248"><a class="markdownIt-Anchor" href="#le_136-single-number"></a>LE_136. Single Number</h4>
<pre data-source-line="5249"><code class="hljs"><span class="hljs-comment">// other twice</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : nums) res ^= i;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_137-single-number-ii" data-source-line="5257"><a class="markdownIt-Anchor" href="#le_137-single-number-ii"></a>LE_137. Single Number II</h4>
<pre data-source-line="5258"><code class="hljs"><span class="hljs-comment">// other 3 times</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> ones = <span class="hljs-number">0</span>, twos = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) {
    ones = (ones ^ nums[i]) &amp; ~twos;
    twos = (twos ^ nums[i]) &amp; ~ones;
  }
  <span class="hljs-keyword">return</span> ones;
}
</code></pre><h4 id="le_260-single-number-iii" data-source-line="5269"><a class="markdownIt-Anchor" href="#le_260-single-number-iii"></a>LE_260. Single Number III</h4>
<pre data-source-line="5270"><code class="hljs"><span class="hljs-comment">// 2 single, other twice</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; singleNumber(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
  <span class="hljs-keyword">int64_t</span> res_xor = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; x: nums) res_xor ^= x;
  <span class="hljs-keyword">int64_t</span> distinct_bit = res_xor &amp; (-res_xor);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res = {<span class="hljs-number">0</span>, <span class="hljs-number">0</span>};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp;&amp; x: nums) {
    <span class="hljs-keyword">if</span> ((x &amp; distinct_bit) == <span class="hljs-number">0</span>) res[<span class="hljs-number">0</span>] ^= x;
    <span class="hljs-keyword">else</span> res[<span class="hljs-number">1</span>] ^= x;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_9-palindrome-number" data-source-line="5284"><a class="markdownIt-Anchor" href="#le_9-palindrome-number"></a>LE_9. Palindrome Number</h4>
<pre data-source-line="5285"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>{
  <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">int</span> div = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span>(x / div &gt;= <span class="hljs-number">10</span>) div *= <span class="hljs-number">10</span>;
  <span class="hljs-keyword">while</span>(x) {
    <span class="hljs-keyword">int</span> l = x / div;
    <span class="hljs-keyword">int</span> r = x % <span class="hljs-number">10</span>;
    <span class="hljs-keyword">if</span>(l != r) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    x = (x % div) / <span class="hljs-number">10</span>;
    div /= <span class="hljs-number">100</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_190-reverse-bits" data-source-line="5300"><a class="markdownIt-Anchor" href="#le_190-reverse-bits"></a>LE_190. Reverse Bits</h4>
<pre data-source-line="5301"><code class="hljs"><span class="hljs-keyword">uint32_t</span> reverseBits(<span class="hljs-keyword">uint32_t</span> n) {
  n = (n &gt;&gt; <span class="hljs-number">16</span>) | (n &lt;&lt; <span class="hljs-number">16</span>);
  n = ((n &amp; <span class="hljs-number">0xff00ff00</span>) &gt;&gt; <span class="hljs-number">8</span>) | ((n &amp; <span class="hljs-number">0x00ff00ff</span>) &lt;&lt; <span class="hljs-number">8</span>);
  n = ((n &amp; <span class="hljs-number">0xf0f0f0f0</span>) &gt;&gt; <span class="hljs-number">4</span>) | ((n &amp; <span class="hljs-number">0x0f0f0f0f</span>) &lt;&lt; <span class="hljs-number">4</span>);
  n = ((n &amp; <span class="hljs-number">0xcccccccc</span>) &gt;&gt; <span class="hljs-number">2</span>) | ((n &amp; <span class="hljs-number">0x33333333</span>) &lt;&lt; <span class="hljs-number">2</span>);
  n = ((n &amp; <span class="hljs-number">0xaaaaaaaa</span>) &gt;&gt; <span class="hljs-number">1</span>) | ((n &amp; <span class="hljs-number">0x55555555</span>) &lt;&lt; <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> n;
}
</code></pre><h4 id="le_231-power-of-two" data-source-line="5311"><a class="markdownIt-Anchor" href="#le_231-power-of-two"></a>LE_231. Power of Two</h4>
<pre data-source-line="5312"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPowerOfTwo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">0</span> &amp;&amp; ((n &amp; (n - <span class="hljs-number">1</span>)) == <span class="hljs-number">0</span>);
}
</code></pre><h4 id="le_326-power-of-three" data-source-line="5317"><a class="markdownIt-Anchor" href="#le_326-power-of-three"></a>LE_326. Power of Three</h4>
<pre data-source-line="5318"><code class="hljs"><span class="hljs-comment">// 3^19, the largest power of 3 under 2^31 - 1</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPowerOfThree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span>{
  <span class="hljs-keyword">return</span> (n &gt; <span class="hljs-number">0</span>) &amp;&amp; (<span class="hljs-number">1162261467</span> % n == <span class="hljs-number">0</span>);
}
</code></pre><h4 id="le_342-power-of-four" data-source-line="5324"><a class="markdownIt-Anchor" href="#le_342-power-of-four"></a>LE_342. Power of Four</h4>
<pre data-source-line="5325"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPowerOfFour</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">return</span> n &gt; <span class="hljs-number">0</span> &amp;&amp; !(n &amp; n - <span class="hljs-number">1</span>) &amp;&amp; (n &amp; <span class="hljs-number">0x55555555</span>) == n;
}
</code></pre><h4 id="le_233-number-of-digit-one" data-source-line="5330"><a class="markdownIt-Anchor" href="#le_233-number-of-digit-one"></a>LE_233. Number of Digit One</h4>
<pre data-source-line="5331"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countDigitOne</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> p = <span class="hljs-number">1</span>; p &lt;= n; p *= <span class="hljs-number">10</span>) {
    <span class="hljs-keyword">int</span> left = n / p;
    <span class="hljs-keyword">int</span> right = n % p;
    res += (left + <span class="hljs-number">8</span>) / <span class="hljs-number">10</span> * p + (left % <span class="hljs-number">10</span> == <span class="hljs-number">1</span>) * (right + <span class="hljs-number">1</span>);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_258-add-digits" data-source-line="5342"><a class="markdownIt-Anchor" href="#le_258-add-digits"></a>LE_258. Add Digits</h4>
<pre data-source-line="5343"><code class="hljs"><span class="hljs-comment">// Input: num = 38</span>
<span class="hljs-comment">// Output: 2</span>
<span class="hljs-comment">// Explanation: The process is</span>
<span class="hljs-comment">// 38 --&gt; 3 + 8 --&gt; 11</span>
<span class="hljs-comment">// 11 --&gt; 1 + 1 --&gt; 2 </span>
<span class="hljs-comment">// Since 2 has only one digit, return it.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addDigits</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + (num - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span>;
}
</code></pre><h4 id="le_268-missing-number" data-source-line="5354"><a class="markdownIt-Anchor" href="#le_268-missing-number"></a>LE_268. Missing Number</h4>
<pre data-source-line="5355"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">missingNumber</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> n = nums.size();
  <span class="hljs-keyword">int</span> sum = n * (n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) sum -= x;
  <span class="hljs-keyword">return</span> sum;
}
</code></pre><h4 id="le_279-perfect-squares" data-source-line="5363"><a class="markdownIt-Anchor" href="#le_279-perfect-squares"></a>LE_279. Perfect Squares</h4>
<pre data-source-line="5364"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numSquares</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">while</span> (!(n &amp; <span class="hljs-number">3</span>)) n &gt;&gt;= <span class="hljs-number">2</span>;
  <span class="hljs-keyword">if</span> (n % <span class="hljs-number">8</span> == <span class="hljs-number">7</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-built_in">sqrt</span>(n); i &gt; <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">int</span> j = <span class="hljs-built_in">sqrt</span>(n - i * i);
    <span class="hljs-keyword">if</span> (i * i + j * j == n) <span class="hljs-keyword">return</span> j ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;
}
</code></pre><h4 id="le_338-counting-bits" data-source-line="5375"><a class="markdownIt-Anchor" href="#le_338-counting-bits"></a>LE_338. Counting Bits</h4>
<pre data-source-line="5376"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; countBits(<span class="hljs-keyword">int</span> n) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; i++) 
    res[i] = res[i &gt;&gt; <span class="hljs-number">1</span>] + (i &amp; <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_357-count-numbers-with-unique-digits" data-source-line="5384"><a class="markdownIt-Anchor" href="#le_357-count-numbers-with-unique-digits"></a>LE_357. Count Numbers with Unique Digits</h4>
<pre data-source-line="5385"><code class="hljs"><span class="hljs-comment">// return the count of all numbers with unique digits, </span>
<span class="hljs-comment">// where 0 &lt;= x &lt; 10^n</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countNumbersWithUniqueDigits</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) res += <span class="hljs-number">9</span> * A(<span class="hljs-number">9</span>, i - <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">A</span><span class="hljs-params">(<span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> a)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = b; i &gt; b - a; i--) res *= i;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_367-valid-perfect-square" data-source-line="5400"><a class="markdownIt-Anchor" href="#le_367-valid-perfect-square"></a>LE_367. Valid Perfect Square</h4>
<pre data-source-line="5401"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isPerfectSquare</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">long</span> x = <span class="hljs-number">0</span>; x * x &lt;= num; x++) <span class="hljs-keyword">if</span> (x * x == num) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_386-lexicographical-numbers" data-source-line="5407"><a class="markdownIt-Anchor" href="#le_386-lexicographical-numbers"></a>LE_386. Lexicographical Numbers</h4>
<pre data-source-line="5408"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; lexicalOrder(<span class="hljs-keyword">int</span> n) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  dfs(<span class="hljs-number">0</span>, n, res);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; res)</span> </span>{
  <span class="hljs-keyword">if</span> (x &gt;= n) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = !x; i &lt;= <span class="hljs-number">9</span>; i++) {
    <span class="hljs-keyword">if</span> (x * <span class="hljs-number">10</span> + i &lt;= n) {
      res.push_back(x * <span class="hljs-number">10</span> + i);
      dfs(x * <span class="hljs-number">10</span> + i, n, res);
    }
  }
}
</code></pre><h4 id="le_440-k-th-smallest-in-lexicographical-order" data-source-line="5425"><a class="markdownIt-Anchor" href="#le_440-k-th-smallest-in-lexicographical-order"></a>LE_440. K-th Smallest in Lexicographical Order</h4>
<pre data-source-line="5426"><code class="hljs"><span class="hljs-comment">// Input: n = 13, k = 2</span>
<span class="hljs-comment">// Output: 10</span>
<span class="hljs-comment">// Explanation: The lexicographical order is </span>
<span class="hljs-comment">// [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9], </span>
<span class="hljs-comment">// so the second smallest number is 10.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findKthNumber</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>; k--;
  <span class="hljs-keyword">while</span>(k) {
    <span class="hljs-keyword">long</span> cnt = <span class="hljs-number">0</span>, fr = res, to = fr + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (fr &lt;= n) {
      cnt += min(n + <span class="hljs-number">1l</span>, to) - fr;
      fr *= <span class="hljs-number">10</span>, to *= <span class="hljs-number">10</span>;
    }
    <span class="hljs-keyword">if</span> (k &gt;= cnt) res++, k -= cnt;
    <span class="hljs-keyword">else</span> res *= <span class="hljs-number">10</span>, --k;
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_397-integer-replacement" data-source-line="5446"><a class="markdownIt-Anchor" href="#le_397-integer-replacement"></a>LE_397. Integer Replacement</h4>
<pre data-source-line="5447"><code class="hljs"><span class="hljs-comment">// If n is even, replace n with n / 2.</span>
<span class="hljs-comment">// If n is odd, replace n with either n + 1 or n - 1.</span>
<span class="hljs-comment">// Return the minimum number of operations needed for n to become 1.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">integerReplacement</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">if</span> (!(n &amp; <span class="hljs-number">1</span>)) n &gt;&gt;= <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((n + <span class="hljs-number">1</span> &amp; <span class="hljs-number">3</span>) == <span class="hljs-number">0</span> &amp;&amp; n != <span class="hljs-number">3</span>) n++;
    <span class="hljs-keyword">else</span> n--;
    cnt++;
  }
  <span class="hljs-keyword">return</span> cnt;
}
</code></pre><h4 id="le_400-nth-digit" data-source-line="5462"><a class="markdownIt-Anchor" href="#le_400-nth-digit"></a>LE_400. Nth Digit</h4>
<pre data-source-line="5463"><code class="hljs"><span class="hljs-comment">// return the nth digit of the infinite integer sequence </span>
<span class="hljs-comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, ...].</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findNthDigit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">long</span> base = <span class="hljs-number">9</span>, digits = <span class="hljs-number">1</span>, num = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (n &gt; base * digits) {
    n -= base * digits;
    base *= <span class="hljs-number">10</span>;
    digits++;
    num *= <span class="hljs-number">10</span>;
  }
  num += (n - <span class="hljs-number">1</span>) / digits;
  <span class="hljs-keyword">int</span> ind = n % digits;
  <span class="hljs-keyword">if</span> (ind == <span class="hljs-number">0</span>) ind = digits;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ind; i &lt; digits; i++) num /= <span class="hljs-number">10</span>;
  <span class="hljs-keyword">return</span> num % <span class="hljs-number">10</span>;
}
</code></pre><h4 id="le_453-minimum-moves-to-equal-array-elements" data-source-line="5481"><a class="markdownIt-Anchor" href="#le_453-minimum-moves-to-equal-array-elements"></a>LE_453. Minimum Moves to Equal Array Elements</h4>
<pre data-source-line="5482"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minMoves</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> m = *min_element(nums.begin(), nums.end());
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>; <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x: nums) res += x - m;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_462-minimum-moves-to-equal-array-elements-ii" data-source-line="5489"><a class="markdownIt-Anchor" href="#le_462-minimum-moves-to-equal-array-elements-ii"></a>LE_462. Minimum Moves to Equal Array Elements II</h4>
<pre data-source-line="5490"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minMoves2</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  nth_element(nums.begin(), nums.begin() + nums.size() / <span class="hljs-number">2</span>, nums.end());
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>; <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) res += <span class="hljs-built_in">abs</span>(x - nums[nums.size() / <span class="hljs-number">2</span>]);
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_470-implement-rand10-using-rand7" data-source-line="5497"><a class="markdownIt-Anchor" href="#le_470-implement-rand10-using-rand7"></a>LE_470. Implement Rand10() Using Rand7()</h4>
<pre data-source-line="5498"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rand10</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">int</span> res = INT_MAX;
  <span class="hljs-keyword">while</span> (res &gt; <span class="hljs-number">40</span>) res = rand7() + (rand7() - <span class="hljs-number">1</span>) * <span class="hljs-number">7</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + (res - <span class="hljs-number">1</span>) % <span class="hljs-number">10</span>;
}
</code></pre><h3 id="72-operator" data-source-line="5505"><a class="markdownIt-Anchor" href="#72-operator"></a><a href="#operator">7.2 Operator</a></h3>
<h4 id="le_29-divide-two-integers" data-source-line="5506"><a class="markdownIt-Anchor" href="#le_29-divide-two-integers"></a>LE_29. Divide Two Integers</h4>
<pre data-source-line="5507"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">divide</span><span class="hljs-params">(<span class="hljs-keyword">int</span> dividend, <span class="hljs-keyword">int</span> divisor)</span> </span>{
  <span class="hljs-keyword">if</span>(divisor == <span class="hljs-number">0</span> || (dividend == INT_MIN &amp;&amp; divisor == <span class="hljs-number">-1</span>))
    <span class="hljs-keyword">return</span> INT_MAX;
  <span class="hljs-keyword">int</span> sign = ((dividend &lt; <span class="hljs-number">0</span>) ^ (divisor &lt; <span class="hljs-number">0</span>)) ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>;
  <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> dvd = <span class="hljs-built_in">labs</span>(dividend);
  <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> dvs = <span class="hljs-built_in">labs</span>(divisor);
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(dvd &gt;= dvs) {
    <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> tmp = dvs;
    <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> mul = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span>(dvd &gt;= (tmp &lt;&lt; <span class="hljs-number">1</span>)) {
      tmp &lt;&lt;= <span class="hljs-number">1</span>;
      mul &lt;&lt;= <span class="hljs-number">1</span>;
    }
    dvd -= tmp;
    res += mul;
  }
  <span class="hljs-keyword">return</span> sign == <span class="hljs-number">1</span> ? res : -res;
}
</code></pre><h4 id="le_50-powx-n" data-source-line="5528"><a class="markdownIt-Anchor" href="#le_50-powx-n"></a>LE_50. Pow(x, n)</h4>
<pre data-source-line="5529"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">myPow</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x, <span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span>(n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">double</span> t = myPow(x, n / <span class="hljs-number">2</span>);
  <span class="hljs-keyword">if</span>(n % <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> n &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> / x * t * t : x * t * t;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> t * t;
}
</code></pre><h4 id="le_372-super-pow" data-source-line="5537"><a class="markdownIt-Anchor" href="#le_372-super-pow"></a>LE_372. Super Pow</h4>
<pre data-source-line="5538"><code class="hljs"><span class="hljs-comment">// b is a large num</span>
<span class="hljs-comment">// Input: a = 2, b = [1,0]</span>
<span class="hljs-comment">// Output: 1024</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">superPow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; b)</span> </span>{
  <span class="hljs-keyword">if</span> (b.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> x = b.back();
  b.pop_back();
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">pow</span>(superPow(a, b), <span class="hljs-number">10</span>) * <span class="hljs-built_in">pow</span>(a, x) % <span class="hljs-number">1337</span>;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>{
  <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> tmp = <span class="hljs-built_in">pow</span>(a, b / <span class="hljs-number">2</span>) % <span class="hljs-number">1337</span>;
  <span class="hljs-keyword">int</span> res = tmp * tmp % <span class="hljs-number">1337</span>;
  <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>) a %= <span class="hljs-number">1337</span>, res = res * a % <span class="hljs-number">1337</span>;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_69-sqrtx" data-source-line="5557"><a class="markdownIt-Anchor" href="#le_69-sqrtx"></a>LE_69. Sqrt(x)</h4>
<pre data-source-line="5558"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mySqrt</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>{
  <span class="hljs-keyword">int</span> low = <span class="hljs-number">0</span>, high = x;
  <span class="hljs-keyword">while</span> (low &lt;= high) {
    <span class="hljs-keyword">long</span> mid = low + (high - low) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span> (mid * mid &gt; x) high = mid - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mid * mid &lt; x &amp;&amp; (mid + <span class="hljs-number">1</span>) * (mid + <span class="hljs-number">1</span>) &lt;= x) low = mid + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> mid;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
}
</code></pre><h4 id="le_166-fraction-to-recurring-decimal" data-source-line="5570"><a class="markdownIt-Anchor" href="#le_166-fraction-to-recurring-decimal"></a>LE_166. Fraction to Recurring Decimal</h4>
<pre data-source-line="5571"><code class="hljs"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">fractionToDecimal</span><span class="hljs-params">(<span class="hljs-keyword">long</span> n, <span class="hljs-keyword">long</span> d)</span> </span>{
  <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span> || d == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>;
  <span class="hljs-built_in">string</span> res;
  <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span> ^ d &lt; <span class="hljs-number">0</span>) res += <span class="hljs-string">'-'</span>;
  n = <span class="hljs-built_in">abs</span>(n), d = <span class="hljs-built_in">abs</span>(d);
  res += to_string(n / d);
  <span class="hljs-keyword">if</span> (n % d == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;
  res += <span class="hljs-string">'.'</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; dup_map;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">long</span> r = n % d; r &gt; <span class="hljs-number">0</span>; r %= d) {
    <span class="hljs-keyword">if</span> (dup_map.find(r) != dup_map.end()) {
      res.insert(dup_map[r], <span class="hljs-string">"("</span>);
      res += <span class="hljs-string">')'</span>;
      <span class="hljs-keyword">break</span>;
    }
    dup_map[r] = res.size();
    r *= <span class="hljs-number">10</span>;
    res += to_string(r / d);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_172-factorial-trailing-zeroes" data-source-line="5594"><a class="markdownIt-Anchor" href="#le_172-factorial-trailing-zeroes"></a>LE_172. Factorial Trailing Zeroes</h4>
<pre data-source-line="5595"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trailingZeroes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (n &gt;= <span class="hljs-number">5</span>) { res += n / <span class="hljs-number">5</span>; n /= <span class="hljs-number">5</span>; }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_343-integer-break" data-source-line="5602"><a class="markdownIt-Anchor" href="#le_343-integer-break"></a>LE_343. Integer Break</h4>
<pre data-source-line="5603"><code class="hljs"><span class="hljs-comment">// break n into the sum of k &gt;= 2 ints</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">integerBreak</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> n - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">4</span>) {
    res *= <span class="hljs-number">3</span>;
    n -= <span class="hljs-number">3</span>;
    <span class="hljs-built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="hljs-built_in">endl</span>;
  }
  res *= n;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_371-sum-of-two-integers" data-source-line="5617"><a class="markdownIt-Anchor" href="#le_371-sum-of-two-integers"></a>LE_371. Sum of Two Integers</h4>
<pre data-source-line="5618"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>{
  <span class="hljs-keyword">while</span>(b) {
    <span class="hljs-keyword">int</span> tmp = a ^ b;
    b = (<span class="hljs-keyword">uint32_t</span>)(a &amp; b) &lt;&lt; <span class="hljs-number">1</span>;
    a = tmp;
  }
  <span class="hljs-keyword">return</span> a;
}
</code></pre><h4 id="le_401-binary-watch" data-source-line="5628"><a class="markdownIt-Anchor" href="#le_401-binary-watch"></a>LE_401. Binary Watch</h4>
<pre data-source-line="5629"><code class="hljs"><span class="hljs-comment">// H 8 4 2 1 </span>
<span class="hljs-comment">// M 32 16 8 4 2 1</span>
<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; readBinaryWatch(<span class="hljs-keyword">int</span> turnedOn) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> h = <span class="hljs-number">0</span>; h &lt; <span class="hljs-number">12</span>; h++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> m = <span class="hljs-number">0</span>; m &lt; <span class="hljs-number">60</span>; m++) {
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">bitset</span>&lt;<span class="hljs-number">32</span>&gt;((h &lt;&lt; <span class="hljs-number">6</span>) + m).count() == turnedOn) {
      <span class="hljs-built_in">string</span> cur = to_string(h) + <span class="hljs-string">":"</span>;
      <span class="hljs-keyword">if</span> (m &lt; <span class="hljs-number">10</span>) cur += <span class="hljs-string">"0"</span>;
      cur += to_string(m);
      res.push_back(cur);
    }
  } 
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="73-puzzlegame" data-source-line="5645"><a class="markdownIt-Anchor" href="#73-puzzlegame"></a><a href="#puzzlegame">7.3 Puzzle/Game</a></h3>
<h4 id="le_36-valid-sudoku" data-source-line="5646"><a class="markdownIt-Anchor" href="#le_36-valid-sudoku"></a>LE_36. Valid Sudoku</h4>
<pre data-source-line="5647"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isValidSudoku</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt; &gt; &amp; board)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">short</span>&gt; col(<span class="hljs-number">9</span>, <span class="hljs-number">0</span>);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">short</span>&gt; block(<span class="hljs-number">9</span>, <span class="hljs-number">0</span>);
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">short</span>&gt; row(<span class="hljs-number">9</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++) <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">9</span>; j++) {
    <span class="hljs-keyword">if</span>(board[i][j] != <span class="hljs-string">'.'</span>) {
      <span class="hljs-keyword">int</span> ind = <span class="hljs-number">1</span> &lt;&lt; (board[i][j] - <span class="hljs-string">'0'</span>);
      <span class="hljs-keyword">if</span>(row[i] &amp; ind || col[j] &amp; ind || block[i / <span class="hljs-number">3</span> * <span class="hljs-number">3</span> + j / <span class="hljs-number">3</span>] &amp; ind)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      row[i] |= ind;
      col[j] |= ind;
      block[i / <span class="hljs-number">3</span> * <span class="hljs-number">3</span> + j / <span class="hljs-number">3</span>] |= ind;
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_37-sudoku-solver" data-source-line="5665"><a class="markdownIt-Anchor" href="#le_37-sudoku-solver"></a>LE_37. Sudoku Solver</h4>
<pre data-source-line="5666"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">cell</span> {</span><span class="hljs-comment">// encapsulates a single cell on a Sudoku board</span>
  <span class="hljs-keyword">uint8_t</span> value; <span class="hljs-comment">// cell value 1..9 or 0 if unset</span>
  <span class="hljs-comment">// number of possible (unconstrained) values for the cell</span>
  <span class="hljs-keyword">uint8_t</span> numPossibilities;
  <span class="hljs-comment">// if bitset[v] is 1 then value can't be v</span>
  <span class="hljs-built_in">bitset</span>&lt;10&gt; constraints;
  cell() : value(<span class="hljs-number">0</span>), numPossibilities(<span class="hljs-number">9</span>),constraints() {};
};
<span class="hljs-built_in">array</span>&lt;<span class="hljs-built_in">array</span>&lt;cell,9&gt;,9&gt; cells;

<span class="hljs-comment">// sets the value of the cell to [v]</span>
<span class="hljs-comment">// the function also propagates constraints to other cells and deduce new values where possible</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span> v)</span> </span>{ 
  <span class="hljs-comment">// updating state of the cell</span>
  cell&amp; c = cells[i][j];
  <span class="hljs-keyword">if</span> (c.value == v) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (c.constraints[v]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  c.constraints = <span class="hljs-built_in">bitset</span>&lt;<span class="hljs-number">10</span>&gt;(<span class="hljs-number">0x3FE</span>); <span class="hljs-comment">// all 1s</span>
  c.constraints.reset(v);
  c.numPossibilities = <span class="hljs-number">1</span>;
  c.value = v;

  <span class="hljs-comment">// propagating constraints</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k&lt;<span class="hljs-number">9</span>; k++) {
    <span class="hljs-comment">// to the row: </span>
    <span class="hljs-keyword">if</span> (i != k &amp;&amp; !updateConstraints(k, j, v))
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-comment">// to the column:</span>
    <span class="hljs-keyword">if</span> (j != k &amp;&amp; !updateConstraints(i, k, v))
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-comment">// to the 3x3 square:</span>
    <span class="hljs-keyword">int</span> ix = (i / <span class="hljs-number">3</span>) * <span class="hljs-number">3</span> + k / <span class="hljs-number">3</span>;
    <span class="hljs-keyword">int</span> jx = (j / <span class="hljs-number">3</span>) * <span class="hljs-number">3</span> + k % <span class="hljs-number">3</span>;
    <span class="hljs-keyword">if</span> (ix != i &amp;&amp; jx != j &amp;&amp; !updateConstraints(ix, jx, v))
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
<span class="hljs-comment">// update constraints of the cell i,j by excluding possibility of 'excludedValue'</span>
<span class="hljs-comment">// once there's one possibility left the function recurses back into set()</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">updateConstraints</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span> excludedValue)</span> </span>{
  cell&amp; c = cells[i][j];
  <span class="hljs-keyword">if</span> (c.constraints[excludedValue]) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (c.value == excludedValue) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  c.constraints.<span class="hljs-built_in">set</span>(excludedValue);
  <span class="hljs-keyword">if</span> (--c.numPossibilities &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">1</span>; v &lt;= <span class="hljs-number">9</span>; v++) <span class="hljs-keyword">if</span> (!c.constraints[v]) <span class="hljs-keyword">return</span> <span class="hljs-built_in">set</span>(i, j, v);
  assert(<span class="hljs-literal">false</span>);
}

<span class="hljs-comment">// backtracking state - list of empty cells</span>
<span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; bt;

<span class="hljs-comment">// find values for empty cells</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">findValuesForEmptyCells</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// collecting all empty cells</span>
  bt.clear();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">9</span>; j++) 
    <span class="hljs-keyword">if</span> (!cells[i][j].value) bt.push_back(make_pair(i, j));
  <span class="hljs-comment">// making backtracking efficient by pre-sorting empty cells by numPossibilities</span>
  sort(bt.begin(), bt.end(), [<span class="hljs-keyword">this</span>](<span class="hljs-keyword">const</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&amp;a, <span class="hljs-keyword">const</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&amp;b) {
    <span class="hljs-keyword">return</span> cells[a.first][a.second].numPossibilities &lt; cells[b.first][b.second].numPossibilities; });
  <span class="hljs-keyword">return</span> backtrack(<span class="hljs-number">0</span>);
}

<span class="hljs-comment">// Finds value for all empty cells with index &gt;=k</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">backtrack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (k &gt;= bt.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">int</span> i = bt[k].first, j = bt[k].second;
  <span class="hljs-comment">// fast path - only 1 possibility</span>
  <span class="hljs-keyword">if</span> (cells[i][j].value) <span class="hljs-keyword">return</span> backtrack(k + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">auto</span> constraints = cells[i][j].constraints;
  <span class="hljs-comment">// slow path &gt;1 possibility.</span>
  <span class="hljs-comment">// making snapshot of the state</span>
  <span class="hljs-built_in">array</span>&lt;<span class="hljs-built_in">array</span>&lt;cell,9&gt;,9&gt; snapshot(cells);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">1</span>; v &lt;= <span class="hljs-number">9</span>; v++) {
    <span class="hljs-keyword">if</span> (!constraints[v]) {
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">set</span>(i, j, v)) {
        <span class="hljs-keyword">if</span> (backtrack(k + <span class="hljs-number">1</span>))
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
      <span class="hljs-comment">// restoring from snapshot,</span>
      <span class="hljs-comment">// note: computationally this is cheaper</span>
      <span class="hljs-comment">// than alternative implementation with undoing the changes</span>
      cells = snapshot;
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solveSudoku</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt; &amp;board)</span> </span>{
  cells = <span class="hljs-built_in">array</span>&lt;<span class="hljs-built_in">array</span>&lt;cell,<span class="hljs-number">9</span>&gt;,<span class="hljs-number">9</span>&gt;(); <span class="hljs-comment">// clear array</span>
  <span class="hljs-comment">// Decoding input board into the internal cell matrix.</span>
  <span class="hljs-comment">// As we do it - constraints are propagated and even additional values are set as we go</span>
  <span class="hljs-comment">// (in the case if it is possible to unambiguously deduce them).</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">9</span>; j++) 
    <span class="hljs-keyword">if</span> (board[i][j] != <span class="hljs-string">'.'</span> &amp;&amp; !<span class="hljs-built_in">set</span>(i, j, board[i][j] - <span class="hljs-string">'0'</span>))
      <span class="hljs-keyword">return</span>; <span class="hljs-comment">// sudoku is either incorrect or unsolvable</span>
  <span class="hljs-comment">// if we're lucky we've already got a solution,</span>
  <span class="hljs-comment">// however, if we have empty cells we need to use backtracking to fill them</span>
  <span class="hljs-keyword">if</span> (!findValuesForEmptyCells()) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// sudoku is unsolvable</span>

  <span class="hljs-comment">// copying the solution back to the board</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++) <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">9</span>; j++) 
    <span class="hljs-keyword">if</span> (cells[i][j].value) board[i][j] = cells[i][j].value + <span class="hljs-string">'0'</span>;
}
</code></pre><h4 id="le_292-nim-game" data-source-line="5774"><a class="markdownIt-Anchor" href="#le_292-nim-game"></a>LE_292. Nim Game</h4>
<pre data-source-line="5775"><code class="hljs"><span class="hljs-comment">// stones, 2 people, you go 1st, rm 1 - 3 each time</span>
<span class="hljs-comment">// who rms the last 1 win</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canWinNim</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">return</span> n % <span class="hljs-number">4</span> != <span class="hljs-number">0</span>;
}
</code></pre><h4 id="le_289-game-of-life" data-source-line="5782"><a class="markdownIt-Anchor" href="#le_289-game-of-life"></a>LE_289. Game of Life</h4>
<pre data-source-line="5783"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">gameOfLife</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; board)</span> </span>{
  <span class="hljs-keyword">int</span> m = board.size(), n = m ? board[<span class="hljs-number">0</span>].size() : <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) {
      <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = max(i - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); x &lt; min(i + <span class="hljs-number">2</span>, m); x++)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = max(j - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>); y &lt; min(j + <span class="hljs-number">2</span>, n); y++)
          count += board[x][y] &amp; <span class="hljs-number">0x1</span>;
      <span class="hljs-keyword">if</span> (count == <span class="hljs-number">3</span> || count - board[i][j] == <span class="hljs-number">3</span>) board[i][j] |= <span class="hljs-number">2</span>;
    }
  }
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)
      board[i][j] &gt;&gt;= <span class="hljs-number">1</span>;
}
</code></pre><h4 id="le_319-bulb-switcher" data-source-line="5800"><a class="markdownIt-Anchor" href="#le_319-bulb-switcher"></a>LE_319. Bulb Switcher</h4>
<pre data-source-line="5801"><code class="hljs"><span class="hljs-comment">// n bulbs, init off</span>
<span class="hljs-comment">// 1. turn on all</span>
<span class="hljs-comment">// 2. turn off every second</span>
<span class="hljs-comment">// 3. turn on every third</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-comment">// Return the number of bulbs that are on after n rounds.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bulbSwitch</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">sqrt</span>(n);
}
</code></pre><h4 id="le_335-self-crossing" data-source-line="5812"><a class="markdownIt-Anchor" href="#le_335-self-crossing"></a>LE_335. Self Crossing</h4>
<pre data-source-line="5813"><code class="hljs"><span class="hljs-comment">// start at the (0, 0) on an X-Y plane, </span>
<span class="hljs-comment">// and you move distance[0] meters to the north, </span>
<span class="hljs-comment">// then distance[1] meters to the west,</span>
<span class="hljs-comment">// distance[2] meters to the south, </span>
<span class="hljs-comment">// distance[3] meters to the east</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isSelfCrossing</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; dis)</span> </span>{
  <span class="hljs-keyword">if</span> (dis.size() &lt; <span class="hljs-number">4</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  dis.insert(dis.begin(), <span class="hljs-number">0</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">3</span>; i &lt; dis.size(); i++)
    <span class="hljs-keyword">if</span> ((dis[i] &gt;= dis[i - <span class="hljs-number">2</span>] &amp;&amp; dis[i - <span class="hljs-number">1</span>] &lt;= dis[i - <span class="hljs-number">3</span>]) || 
        (i &gt;= <span class="hljs-number">5</span> &amp;&amp; dis[i - <span class="hljs-number">2</span>] &gt;= dis[i - <span class="hljs-number">4</span>] &amp;&amp; 
        dis[i] &gt;= dis[i - <span class="hljs-number">2</span>] - dis[i - <span class="hljs-number">4</span>] &amp;&amp; 
        dis[i - <span class="hljs-number">1</span>] &lt;= dis[i - <span class="hljs-number">3</span>] &amp;&amp; 
        dis[i - <span class="hljs-number">1</span>] + dis[i - <span class="hljs-number">5</span>] &gt;= dis[i - <span class="hljs-number">3</span>])) 
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_365-water-and-jug-problem" data-source-line="5832"><a class="markdownIt-Anchor" href="#le_365-water-and-jug-problem"></a>LE_365. Water and Jug Problem</h4>
<pre data-source-line="5833"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canMeasureWater</span><span class="hljs-params">(<span class="hljs-keyword">int</span> jc1, <span class="hljs-keyword">int</span> jc2, <span class="hljs-keyword">int</span> tc)</span> </span>{
  <span class="hljs-keyword">return</span> tc % gcd(jc1, jc2) == <span class="hljs-number">0</span> &amp;&amp; tc &lt;= (jc1 + jc2);
}
</code></pre><h4 id="le_375-guess-number-higher-or-lower-ii" data-source-line="5838"><a class="markdownIt-Anchor" href="#le_375-guess-number-higher-or-lower-ii"></a>LE_375. Guess Number Higher or Lower II</h4>
<pre data-source-line="5839"><code class="hljs"><span class="hljs-comment">// a number between 1 and n, guess.</span>
<span class="hljs-comment">// if guess wrong, will be told the picked is higher or lower</span>
<span class="hljs-comment">// guess a wrong number x, will pay x dollars. </span>
<span class="hljs-comment">// return the minimum amount of money needed to guarantee a win</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getMoneyAmount</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; dp(n + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> len = <span class="hljs-number">1</span>; len &lt;= n; len++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> fr = <span class="hljs-number">1</span>; fr &lt;= n - len; fr++) {
      <span class="hljs-keyword">int</span> to = fr + len;
      dp[fr][to] = fr + dp[fr + <span class="hljs-number">1</span>][to];
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = fr + <span class="hljs-number">1</span>; i &lt; to; i++)
        dp[fr][to] = min(dp[fr][to], 
          max(dp[fr][i - <span class="hljs-number">1</span>], dp[i + <span class="hljs-number">1</span>][to]) + i);
    }
  }
  <span class="hljs-keyword">return</span> dp[<span class="hljs-number">1</span>][n];
}
</code></pre><h4 id="le_390-elimination-game" data-source-line="5858"><a class="markdownIt-Anchor" href="#le_390-elimination-game"></a>LE_390. Elimination Game</h4>
<pre data-source-line="5859"><code class="hljs"><span class="hljs-comment">// from left, rm 1st 3rd, 5th ...</span>
<span class="hljs-comment">// from right, again</span>
<span class="hljs-comment">// ... which left?</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lastRemaining</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-comment">// lr(n) = rl(n / 2) * 2</span>
  <span class="hljs-comment">// rl(n) = n - lr(n) + 1 </span>
  <span class="hljs-comment">// =&gt; lr(n) = 2 * (n / 2 - lr(n / 2) + 1)</span>
  <span class="hljs-keyword">return</span> n == <span class="hljs-number">1</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span> * (n / <span class="hljs-number">2</span> - lastRemaining(n / <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>);
}
</code></pre><h4 id="le_458-poor-pigs" data-source-line="5870"><a class="markdownIt-Anchor" href="#le_458-poor-pigs"></a>LE_458. Poor Pigs</h4>
<pre data-source-line="5871"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">poorPigs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> buckets, <span class="hljs-keyword">int</span> minutesToDie, <span class="hljs-keyword">int</span> minutesToTest)</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">ceil</span>(<span class="hljs-built_in">log</span>(buckets) / <span class="hljs-built_in">log</span>(minutesToTest / minutesToDie + <span class="hljs-number">1</span>) - <span class="hljs-number">1e-6</span>);
}
</code></pre><h4 id="le_464-can-i-win" data-source-line="5876"><a class="markdownIt-Anchor" href="#le_464-can-i-win"></a>LE_464. Can I Win</h4>
<pre data-source-line="5877"><code class="hljs"><span class="hljs-comment">// return is 1st player can win</span>
<span class="hljs-comment">// 1-n, cannot re-use integers</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canIWin</span><span class="hljs-params">(<span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> target)</span> </span>{
  <span class="hljs-keyword">int</span> tot = m * (m + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">if</span> (target &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (tot &lt; target) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (tot == target) <span class="hljs-keyword">return</span> m &amp; <span class="hljs-number">1</span>;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt; mem;
  <span class="hljs-keyword">return</span> dfs(m, target, mem, <span class="hljs-number">0</span>);
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> target, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt;&amp; mem, <span class="hljs-keyword">int</span> msk)</span> </span>{
  <span class="hljs-keyword">if</span> (mem.count(msk)) <span class="hljs-keyword">return</span> mem[msk];
  <span class="hljs-keyword">if</span> (target &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) 
    <span class="hljs-keyword">if</span> (!(msk &amp; (<span class="hljs-number">1</span> &lt;&lt; i)) &amp;&amp; !dfs(m, target - i - <span class="hljs-number">1</span>, mem, msk | (<span class="hljs-number">1</span> &lt;&lt; i)))
      <span class="hljs-keyword">return</span> mem[msk] = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> mem[msk] = <span class="hljs-literal">false</span>;
}
</code></pre><h4 id="le_486-predict-the-winner" data-source-line="5898"><a class="markdownIt-Anchor" href="#le_486-predict-the-winner"></a>LE_486. Predict the Winner</h4>
<pre data-source-line="5899"><code class="hljs"><span class="hljs-comment">// pick at l or r to earn score</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">PredictTheWinner</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> tot = accumulate(nums.begin(), nums.end(), <span class="hljs-number">0</span>);
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; mem;
  <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * solve(mem, nums, <span class="hljs-number">0</span>, nums.size() - <span class="hljs-number">1</span>) &gt;= tot;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;&amp; mem, 
          <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> fr, <span class="hljs-keyword">int</span> to)</span> </span>{
  <span class="hljs-keyword">if</span> (fr &gt; to) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (fr == to) <span class="hljs-keyword">return</span> nums[fr];
  <span class="hljs-keyword">if</span> (mem.count(fr) &amp;&amp; mem[fr].count(to)) <span class="hljs-keyword">return</span> mem[fr][to];
  <span class="hljs-keyword">int</span> pick_left = nums[fr] + 
    min(solve(mem, nums, fr + <span class="hljs-number">2</span>, to), solve(mem, nums, fr + <span class="hljs-number">1</span>, to - <span class="hljs-number">1</span>));
  <span class="hljs-keyword">int</span> pick_right = nums[to] +
    min(solve(mem, nums, fr + <span class="hljs-number">1</span>, to - <span class="hljs-number">1</span>), solve(mem, nums, fr, to - <span class="hljs-number">2</span>));
  <span class="hljs-keyword">return</span> mem[fr][to] = max(pick_left, pick_right);
}
</code></pre><h4 id="le_488-zuma-game" data-source-line="5919"><a class="markdownIt-Anchor" href="#le_488-zuma-game"></a>LE_488. Zuma Game</h4>
<pre data-source-line="5920"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMinStep</span><span class="hljs-params">(<span class="hljs-built_in">string</span> board, <span class="hljs-built_in">string</span> hand)</span> </span>{
  sort(hand.begin(), hand.end());
  <span class="hljs-built_in">queue</span>&lt;tuple&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;&gt; que;
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; vis = { board+ <span class="hljs-string">"_"</span> + hand };
  que.push({board, hand, <span class="hljs-number">0</span>});
  <span class="hljs-keyword">while</span> (que.size()) {
    <span class="hljs-keyword">auto</span> [curb, curh, cnt] = que.front(); que.pop();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; curb.size(); i++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; curh.size(); j++) {
        <span class="hljs-keyword">if</span> (j &amp;&amp; curh[j] == curh[j - <span class="hljs-number">1</span>]) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">if</span> (i &amp;&amp; curb[i - <span class="hljs-number">1</span>] == curh[j]) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">if</span> (curb[i] == curh[j] || i &amp;&amp; 
          curb[i] == curb[i - <span class="hljs-number">1</span>] &amp;&amp; curb[i] != curh[j]) {
          <span class="hljs-keyword">auto</span> newb = curb.substr(<span class="hljs-number">0</span>, i) + curh[j] + curb.substr(i);
          <span class="hljs-keyword">if</span> ((newb = rmCon(newb, i)) == <span class="hljs-string">""</span>) <span class="hljs-keyword">return</span> cnt + <span class="hljs-number">1</span>;
          <span class="hljs-keyword">auto</span> newh = curh.substr(<span class="hljs-number">0</span>, j) + curh.substr(j + <span class="hljs-number">1</span>);
          <span class="hljs-keyword">if</span> (!vis.count(newb + <span class="hljs-string">"_"</span> + newh)) {
            que.push({newb, newh, cnt + <span class="hljs-number">1</span>});
            vis.insert(newb + <span class="hljs-string">"_"</span> + newh);
          }
        }
      }
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
}

<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">rmCon</span><span class="hljs-params">(<span class="hljs-built_in">string</span> board, <span class="hljs-keyword">int</span> i)</span> </span>{
  <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> board;
  <span class="hljs-keyword">int</span> l = i, r = i;
  <span class="hljs-keyword">while</span> (l &amp;&amp; board[l] == board[l - <span class="hljs-number">1</span>]) l--;
  <span class="hljs-keyword">while</span> (r &lt; board.size() &amp;&amp; board[r] == board[r + <span class="hljs-number">1</span>]) r++;
  <span class="hljs-keyword">if</span> (r - l + <span class="hljs-number">1</span> &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> board;
  <span class="hljs-keyword">return</span> rmCon(board.substr(<span class="hljs-number">0</span>, l) + board.substr(r + <span class="hljs-number">1</span>), l - <span class="hljs-number">1</span>);
}
</code></pre><h3 id="74-binary-code" data-source-line="5957"><a class="markdownIt-Anchor" href="#74-binary-code"></a><a href="#binary-code">7.4 Binary Code</a></h3>
<h4 id="le_89-gray-code" data-source-line="5958"><a class="markdownIt-Anchor" href="#le_89-gray-code"></a>LE_89. Gray Code</h4>
<pre data-source-line="5959"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; grayCode(<span class="hljs-keyword">int</span> n) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res{<span class="hljs-number">0</span>};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
    <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">1</span> &lt;&lt; i;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = res.size() - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--)
      res.push_back(res[j] + tmp);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_461-hamming-distance" data-source-line="5970"><a class="markdownIt-Anchor" href="#le_461-hamming-distance"></a>LE_461. Hamming Distance</h4>
<pre data-source-line="5971"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">hammingDistance</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span> </span>{
  <span class="hljs-keyword">int</span> xr = x ^ y;
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span> (xr) xr &amp;= (xr - <span class="hljs-number">1</span>), res++;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_477-total-hamming-distance" data-source-line="5979"><a class="markdownIt-Anchor" href="#le_477-total-hamming-distance"></a>LE_477. Total Hamming Distance</h4>
<pre data-source-line="5980"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">totalHammingDistance</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i++) {
    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) cnt += (x &gt;&gt; i) &amp; <span class="hljs-number">1</span>;
    res += cnt * (nums.size() - cnt);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="75-geometry" data-source-line="5991"><a class="markdownIt-Anchor" href="#75-geometry"></a><a href="#geometry">7.5 Geometry</a></h3>
<h4 id="le_149-max-points-on-a-line" data-source-line="5992"><a class="markdownIt-Anchor" href="#le_149-max-points-on-a-line"></a>LE_149. Max Points on a Line</h4>
<pre data-source-line="5993"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxPoints</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; points)</span> </span>{
  <span class="hljs-keyword">if</span> (points.size() &lt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> points.size();
  <span class="hljs-keyword">int</span> max_points = <span class="hljs-number">2</span>;
  <span class="hljs-keyword">int</span> n = points.size();
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">float</span>, <span class="hljs-keyword">int</span>&gt; atan_map = {};
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
    atan_map.clear();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i; j++) {
      <span class="hljs-keyword">if</span> (i == j) <span class="hljs-keyword">continue</span>;
      <span class="hljs-keyword">float</span> key = (<span class="hljs-keyword">float</span>)(points[j][<span class="hljs-number">1</span>] - points[i][<span class="hljs-number">1</span>]) / 
                  (points[j][<span class="hljs-number">0</span>] - points[i][<span class="hljs-number">0</span>]);
      <span class="hljs-keyword">if</span> (isnan(key)) key = NAN;
      <span class="hljs-keyword">if</span> (isinf(key)) key = INFINITY;
      max_points = max(max_points, ++atan_map[key] + <span class="hljs-number">1</span>);
    }
  }
  <span class="hljs-keyword">return</span> max_points;
}
</code></pre><h4 id="le_201-bitwise-and-of-numbers-range" data-source-line="6013"><a class="markdownIt-Anchor" href="#le_201-bitwise-and-of-numbers-range"></a>LE_201. Bitwise AND of Numbers Range</h4>
<pre data-source-line="6014"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rangeBitwiseAnd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> m, <span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">while</span> (n &gt; m &amp;&amp; n != <span class="hljs-number">0</span>) n &amp;= n - <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> n;
}
</code></pre><h4 id="le_478-generate-random-point-in-a-circle" data-source-line="6020"><a class="markdownIt-Anchor" href="#le_478-generate-random-point-in-a-circle"></a>LE_478. Generate Random Point in a Circle</h4>
<pre data-source-line="6021"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">double</span> r_, x_, y_;

  Solution(<span class="hljs-keyword">double</span> radius, <span class="hljs-keyword">double</span> x_center, <span class="hljs-keyword">double</span> y_center): 
    r_(radius), x_(x_center), y_(y_center) {}
  
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; randPoint() {
    <span class="hljs-keyword">double</span> rou = <span class="hljs-built_in">sqrt</span>(rand() / <span class="hljs-keyword">double</span>(RAND_MAX)) * r_;
    <span class="hljs-keyword">double</span> xita = rand() / <span class="hljs-keyword">double</span>(RAND_MAX) * <span class="hljs-number">2</span> * M_PI;
    <span class="hljs-keyword">return</span> { x_ + rou * <span class="hljs-built_in">cos</span>(xita), y_ + rou * <span class="hljs-built_in">sin</span>(xita) };
  }
};
</code></pre><h3 id="76-uglygood-number" data-source-line="6036"><a class="markdownIt-Anchor" href="#76-uglygood-number"></a><a href="#primeuglygood-number">7.6 Ugly/Good Number</a></h3>
<h4 id="le_263-ugly-number" data-source-line="6037"><a class="markdownIt-Anchor" href="#le_263-ugly-number"></a>LE_263. Ugly Number</h4>
<pre data-source-line="6038"><code class="hljs"><span class="hljs-comment">// ugly number is positive, prime factors are limited to 2, 3, and 5.</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isUgly</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">while</span> (n != <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">if</span> (n % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>) n /= <span class="hljs-number">5</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) n /= <span class="hljs-number">3</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) n /= <span class="hljs-number">2</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre><h4 id="le_264-ugly-number-ii" data-source-line="6051"><a class="markdownIt-Anchor" href="#le_264-ugly-number-ii"></a>LE_264. Ugly Number II</h4>
<pre data-source-line="6052"><code class="hljs"><span class="hljs-comment">// nth ugly number</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">nthUglyNumber</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; dp(n, <span class="hljs-number">0</span>);
  dp[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>, z = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) {
    dp[i] = min(min(dp[x] * <span class="hljs-number">2</span>, dp[y] * <span class="hljs-number">3</span>), dp[z] * <span class="hljs-number">5</span>);
    <span class="hljs-keyword">if</span> (dp[i] == dp[x] * <span class="hljs-number">2</span>) x++;
    <span class="hljs-keyword">if</span> (dp[i] == dp[y] * <span class="hljs-number">3</span>) y++;
    <span class="hljs-keyword">if</span> (dp[i] == dp[z] * <span class="hljs-number">5</span>) z++;
  }
  <span class="hljs-keyword">return</span> dp[n - <span class="hljs-number">1</span>];
}
</code></pre><h4 id="le_313-super-ugly-number" data-source-line="6067"><a class="markdownIt-Anchor" href="#le_313-super-ugly-number"></a>LE_313. Super Ugly Number</h4>
<pre data-source-line="6068"><code class="hljs"><span class="hljs-comment">// nth ugly number, factors limit in given primes</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">nthSuperUglyNumber</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; primes)</span> </span>{
  priority_queue&lt;<span class="hljs-keyword">long</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">long</span>&gt;, greater&lt;<span class="hljs-keyword">long</span>&gt;&gt; pq;
  pq.push(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) {
    <span class="hljs-keyword">auto</span> cur = pq.top();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> p: primes)
      pq.push(cur * p);
    <span class="hljs-keyword">while</span> (pq.top() == cur) pq.pop();
  }
  <span class="hljs-keyword">return</span> pq.top();
}
</code></pre><h4 id="le_1201-ugly-number-iii" data-source-line="6082"><a class="markdownIt-Anchor" href="#le_1201-ugly-number-iii"></a>LE_1201. Ugly Number III</h4>
<pre data-source-line="6083"><code class="hljs"><span class="hljs-comment">// divisible by a, b, or c.</span>
<span class="hljs-comment">// return the nth ugly number.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span></span>{
  <span class="hljs-keyword">return</span> (n/a + n/b + n/c - n/lcm(a,b) - n/lcm(b,c) - n/lcm(a,c) + 
         n/lcm(a,lcm(b,c)));
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">nthUglyNumber</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b, <span class="hljs-keyword">int</span> c)</span> </span>{
  <span class="hljs-keyword">int</span> low = <span class="hljs-number">0</span>,high = <span class="hljs-number">2</span>*(<span class="hljs-number">1e9</span>);
  <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">while</span>(low&lt;=high){
    <span class="hljs-keyword">int</span> mid = low+(high-low)/<span class="hljs-number">2</span>;
    <span class="hljs-keyword">if</span>(count(mid,a,b,c)&gt;=n){
      ans = mid;
      high = mid<span class="hljs-number">-1</span>;
    }<span class="hljs-keyword">else</span>{
      low = mid+<span class="hljs-number">1</span>;
    }
  }
  <span class="hljs-keyword">return</span> ans;
}
</code></pre><h4 id="le_202-happy-number" data-source-line="6106"><a class="markdownIt-Anchor" href="#le_202-happy-number"></a>LE_202. Happy Number</h4>
<pre data-source-line="6107"><code class="hljs"><span class="hljs-comment">// Input: n = 19</span>
<span class="hljs-comment">// Output: true</span>
<span class="hljs-comment">// Explanation:</span>
<span class="hljs-comment">// 1^2 + 9^2 = 82</span>
<span class="hljs-comment">// 8^2 + 2^2 = 68</span>
<span class="hljs-comment">// 6^2 + 8^2 = 100</span>
<span class="hljs-comment">// 1^2 + 0^2 + 0^2 = 1</span>
<span class="hljs-comment">// ends in 1</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isHappy</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">6</span>) {
    <span class="hljs-keyword">int</span> next = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (n) {
      next += (n % <span class="hljs-number">10</span>) * (n % <span class="hljs-number">10</span>);
      n /= <span class="hljs-number">10</span>;
    }
    n = next;
  }
  <span class="hljs-keyword">return</span> n == <span class="hljs-number">1</span>;
}
</code></pre><h4 id="le_204-count-primes" data-source-line="6128"><a class="markdownIt-Anchor" href="#le_204-count-primes"></a>LE_204. Count Primes</h4>
<pre data-source-line="6129"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countPrimes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; composite_flags(n, <span class="hljs-literal">false</span>);
  <span class="hljs-keyword">int</span> res = <span class="hljs-number">1</span>, upper = <span class="hljs-built_in">sqrt</span>(n);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">3</span>; i &lt; n; i += <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">if</span> (composite_flags[i] == <span class="hljs-literal">false</span>) {
      res++;
      <span class="hljs-keyword">if</span> (i &lt;= upper)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i * i; j &lt; n; j += i)
          composite_flags[j] = <span class="hljs-literal">true</span>;
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h2 id="8-tree" data-source-line="6146"><a class="markdownIt-Anchor" href="#8-tree"></a><a href="#tree">8 Tree</a></h2>
<h3 id="81-traversal" data-source-line="6147"><a class="markdownIt-Anchor" href="#81-traversal"></a><a href="#traversal">8.1 Traversal</a></h3>
<h4 id="le_94-binary-tree-inorder-traversal" data-source-line="6148"><a class="markdownIt-Anchor" href="#le_94-binary-tree-inorder-traversal"></a>LE_94. Binary Tree Inorder Traversal</h4>
<h4 id="le_144-binary-tree-preorder-traversal" data-source-line="6149"><a class="markdownIt-Anchor" href="#le_144-binary-tree-preorder-traversal"></a>LE_144. Binary Tree Preorder Traversal</h4>
<h4 id="le_145-binary-tree-postorder-traversal" data-source-line="6150"><a class="markdownIt-Anchor" href="#le_145-binary-tree-postorder-traversal"></a>LE_145. Binary Tree Postorder Traversal</h4>
<pre data-source-line="6151"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; inorderTraversal(TreeNode* root) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-built_in">stack</span>&lt;TreeNode*&gt; stk;
  <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">nullptr</span>) stk.push(root);
  <span class="hljs-keyword">while</span> (stk.size() &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">auto</span> cur = stk.top();
    <span class="hljs-keyword">if</span> (cur != <span class="hljs-literal">nullptr</span>) {
      stk.pop();
      <span class="hljs-keyword">if</span> (cur-&gt;right != <span class="hljs-literal">nullptr</span>) stk.push(cur-&gt;right);
      stk.push(cur);
      stk.push(<span class="hljs-literal">nullptr</span>);
      <span class="hljs-keyword">if</span> (cur-&gt;left != <span class="hljs-literal">nullptr</span>) stk.push(cur-&gt;left);
    } <span class="hljs-keyword">else</span> {
      stk.pop();
      res.push_back(stk.top()-&gt;val);
      stk.pop();
    }
  } 
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_102-binary-tree-level-order-traversal" data-source-line="6173"><a class="markdownIt-Anchor" href="#le_102-binary-tree-level-order-traversal"></a>LE_102. Binary Tree Level Order Traversal</h4>
<pre data-source-line="6174"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; levelOrder(TreeNode* root) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res;
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> res;
  <span class="hljs-built_in">queue</span>&lt;TreeNode *&gt; que;
  que.push(root);
  <span class="hljs-keyword">while</span>(que.size()) {
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tmp_level;
    <span class="hljs-keyword">int</span> tmp_level_num = que.size();
    <span class="hljs-keyword">while</span>(tmp_level_num) {
      <span class="hljs-keyword">auto</span> p = que.front();
      tmp_level.push_back(p-&gt;val);
      que.pop();
      tmp_level_num--;
      <span class="hljs-keyword">if</span> (p-&gt;left) que.push(p-&gt;left);
      <span class="hljs-keyword">if</span> (p-&gt;right) que.push(p-&gt;right);
    }
    res.push_back(tmp_level);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_103-binary-tree-zigzag-level-order-traversal" data-source-line="6196"><a class="markdownIt-Anchor" href="#le_103-binary-tree-zigzag-level-order-traversal"></a>LE_103. Binary Tree Zigzag Level Order Traversal</h4>
<pre data-source-line="6197"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; zigzagLevelOrder(TreeNode* root) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res;
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> res;
  <span class="hljs-built_in">queue</span>&lt;TreeNode *&gt; que;
  que.push(root);
  <span class="hljs-keyword">while</span> (que.size()) {
    <span class="hljs-keyword">int</span> tmp_level_num = que.size();
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tmp_level;
    <span class="hljs-keyword">while</span> (tmp_level_num--) {
      <span class="hljs-keyword">auto</span> p = que.front();
      tmp_level.push_back(p-&gt;val);
      <span class="hljs-keyword">if</span> (p-&gt;left) que.push(p-&gt;left);
      <span class="hljs-keyword">if</span> (p-&gt;right) que.push(p-&gt;right);
      que.pop();
    }
    <span class="hljs-keyword">if</span> (res.size() &amp; <span class="hljs-number">1</span>) reverse(tmp_level.begin(), tmp_level.end());
    res.push_back(tmp_level);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_199-binary-tree-right-side-view" data-source-line="6219"><a class="markdownIt-Anchor" href="#le_199-binary-tree-right-side-view"></a>LE_199. Binary Tree Right Side View</h4>
<pre data-source-line="6220"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; rightSideView(TreeNode* root) {
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> {};
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-built_in">queue</span>&lt;TreeNode *&gt; que;
  que.push(root);
  <span class="hljs-keyword">while</span> (que.size()) {
    <span class="hljs-keyword">int</span> tmp_layer_count = que.size();
    <span class="hljs-keyword">while</span> (--tmp_layer_count) {
      <span class="hljs-keyword">auto</span> cur = que.front();
      que.pop();
      <span class="hljs-keyword">if</span> (cur-&gt;left) que.push(cur-&gt;left);
      <span class="hljs-keyword">if</span> (cur-&gt;right) que.push(cur-&gt;right);
    }
    <span class="hljs-keyword">auto</span> cur = que.front(); que.pop();
    res.emplace_back(cur-&gt;val);
    <span class="hljs-keyword">if</span> (cur-&gt;left) que.push(cur-&gt;left);
    <span class="hljs-keyword">if</span> (cur-&gt;right) que.push(cur-&gt;right);
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="82-binary-search-tree" data-source-line="6242"><a class="markdownIt-Anchor" href="#82-binary-search-tree"></a><a href="#binary-search-tree">8.2 Binary Search Tree</a></h3>
<h4 id="le_95-unique-binary-search-trees-ii" data-source-line="6243"><a class="markdownIt-Anchor" href="#le_95-unique-binary-search-trees-ii"></a>LE_95. Unique Binary Search Trees II</h4>
<pre data-source-line="6244"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;TreeNode*&gt; generateTrees(<span class="hljs-keyword">int</span> n) {
  <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>&lt;TreeNode*&gt;();
  <span class="hljs-keyword">return</span> generateTrees(<span class="hljs-number">1</span>, n);
}

<span class="hljs-built_in">vector</span>&lt;TreeNode*&gt; generateTrees(<span class="hljs-keyword">int</span> fr, <span class="hljs-keyword">int</span> to) {
  <span class="hljs-built_in">vector</span>&lt;TreeNode*&gt; tree_list;
  <span class="hljs-keyword">if</span> (fr &gt; to) tree_list.push_back(<span class="hljs-literal">nullptr</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = fr; i &lt;= to; i++) {
    <span class="hljs-built_in">vector</span>&lt;TreeNode*&gt; l_tree_list = generateTrees(fr, i - <span class="hljs-number">1</span>);
    <span class="hljs-built_in">vector</span>&lt;TreeNode*&gt; r_tree_list = generateTrees(i + <span class="hljs-number">1</span>, to);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> l : l_tree_list) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> r : r_tree_list) {
        <span class="hljs-keyword">auto</span> tmp = <span class="hljs-keyword">new</span> TreeNode(i);
        tmp-&gt;left = l;
        tmp-&gt;right = r;
        tree_list.push_back(tmp);
      }
    }
  }
  <span class="hljs-keyword">return</span> tree_list;
}
</code></pre><h4 id="le_96-unique-binary-search-trees" data-source-line="6268"><a class="markdownIt-Anchor" href="#le_96-unique-binary-search-trees"></a>LE_96. Unique Binary Search Trees</h4>
<pre data-source-line="6269"><code class="hljs"><span class="hljs-comment">// f[n] = f[0]*f[n-1] + f[1]*f[n-2] + ... + f[n-2]*f[1] + f[n-1]*f[0]</span>
<span class="hljs-comment">// f[n] = (2n)!/(n! * n! * (n+1))</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">numTrees</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; dp(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  dp[<span class="hljs-number">0</span>] = dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i; j++)
      dp[i] += dp[j] * dp[i - <span class="hljs-number">1</span> - j];
  <span class="hljs-keyword">return</span> dp[n];
}
</code></pre><h4 id="le_98-validate-binary-search-tree" data-source-line="6282"><a class="markdownIt-Anchor" href="#le_98-validate-binary-search-tree"></a>LE_98. Validate Binary Search Tree</h4>
<pre data-source-line="6283"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isValidBST</span><span class="hljs-params">(TreeNode * root)</span> </span>{
  <span class="hljs-keyword">return</span> valid(root, LONG_MIN, LONG_MAX);
}
  
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">valid</span><span class="hljs-params">(TreeNode * p, <span class="hljs-keyword">long</span> low, <span class="hljs-keyword">long</span> high)</span> </span>{
  <span class="hljs-keyword">if</span>(p == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> p-&gt;val &gt; low &amp;&amp; p-&gt;val &lt; high	&amp;&amp; 
              valid(p-&gt;left, low, p-&gt;val) &amp;&amp; 
              valid(p-&gt;right, p-&gt;val, high);
}
</code></pre><h4 id="le_99-recover-binary-search-tree" data-source-line="6295"><a class="markdownIt-Anchor" href="#le_99-recover-binary-search-tree"></a>LE_99. Recover Binary Search Tree</h4>
<pre data-source-line="6296"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">recoverTree</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-built_in">stack</span>&lt;TreeNode *&gt; stk;
  TreeNode * cur = root, * pre = <span class="hljs-literal">nullptr</span>;
  TreeNode * re1 = <span class="hljs-literal">nullptr</span>, * re2 = <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">while</span> (cur || stk.size()) {
    <span class="hljs-keyword">while</span> (cur) {
      stk.push(cur);
      cur = cur-&gt;left;
    }
    <span class="hljs-keyword">if</span> (stk.size()) {
      cur = stk.top();
      <span class="hljs-keyword">if</span> (pre &amp;&amp; pre-&gt;val &gt; cur-&gt;val) {
        <span class="hljs-keyword">if</span> (re1 == <span class="hljs-literal">nullptr</span>) { re1 = pre; re2 = cur; }
        <span class="hljs-keyword">else</span> re2 = cur;
      }
      pre = cur;
      stk.pop();
      cur = cur-&gt;right;
    }
  }
  swap(re1-&gt;val, re2-&gt;val);
}
</code></pre><h4 id="le_108-convert-sorted-array-to-binary-search-tree" data-source-line="6321"><a class="markdownIt-Anchor" href="#le_108-convert-sorted-array-to-binary-search-tree"></a>LE_108. Convert Sorted Array to Binary Search Tree</h4>
<pre data-source-line="6322"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">sortedArrayToBST</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
  <span class="hljs-keyword">if</span> (nums.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">return</span> genBST(nums, <span class="hljs-number">0</span>, nums.size() - <span class="hljs-number">1</span>);
}

<span class="hljs-function">TreeNode * <span class="hljs-title">genBST</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> lo, <span class="hljs-keyword">int</span> hi)</span> </span>{
  <span class="hljs-keyword">if</span> (lo &gt; hi) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">int</span> mid = lo + (hi - lo) / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">auto</span> root = <span class="hljs-keyword">new</span> TreeNode(nums[mid]);
  root-&gt;left = genBST(nums, lo, mid - <span class="hljs-number">1</span>);
  root-&gt;right = genBST(nums, mid + <span class="hljs-number">1</span>, hi);
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h4 id="le_109-convert-sorted-list-to-binary-search-tree" data-source-line="6337"><a class="markdownIt-Anchor" href="#le_109-convert-sorted-list-to-binary-search-tree"></a>LE_109. Convert Sorted List to Binary Search Tree</h4>
<pre data-source-line="6338"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">sortedListToBST</span><span class="hljs-params">(ListNode* head)</span> </span>{
  <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">return</span> genBST(head, <span class="hljs-literal">nullptr</span>);
}

<span class="hljs-function">TreeNode * <span class="hljs-title">genBST</span><span class="hljs-params">(ListNode * head, ListNode * tail)</span> </span>{
  <span class="hljs-keyword">if</span> (head == tail) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">auto</span> slow = head, fast = head;
  <span class="hljs-keyword">while</span> (fast != tail &amp;&amp; fast-&gt;next != tail) {
    fast = fast-&gt;next-&gt;next;
    slow = slow-&gt;next;
  }
  <span class="hljs-keyword">auto</span> root = <span class="hljs-keyword">new</span> TreeNode(slow-&gt;val);
  root-&gt;left = genBST(head, slow);
  root-&gt;right = genBST(slow-&gt;next, tail);
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h4 id="le_173-binary-search-tree-iterator" data-source-line="6357"><a class="markdownIt-Anchor" href="#le_173-binary-search-tree-iterator"></a>LE_173. Binary Search Tree Iterator</h4>
<pre data-source-line="6358"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BSTIterator</span> {</span>
<span class="hljs-keyword">private</span>:
  <span class="hljs-built_in">stack</span>&lt;TreeNode *&gt; stk;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push_all_left</span><span class="hljs-params">(TreeNode * node)</span> </span>{
    <span class="hljs-keyword">while</span> (node) { stk.push(node); node = node-&gt;left; }
  }
    
<span class="hljs-keyword">public</span>:
  BSTIterator(TreeNode* root) {
    push_all_left(root);
  }
  
  <span class="hljs-comment">/** @return the next smallest number */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">auto</span> tmp = stk.top();
    stk.pop();
    push_all_left(tmp-&gt;right);
    <span class="hljs-keyword">return</span> tmp-&gt;val;
  }
  
  <span class="hljs-comment">/** @return whether we have a next smallest number */</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> stk.size() &gt; <span class="hljs-number">0</span>;
  }
};
</code></pre><h4 id="le_230-kth-smallest-element-in-a-bst" data-source-line="6385"><a class="markdownIt-Anchor" href="#le_230-kth-smallest-element-in-a-bst"></a>LE_230. Kth Smallest Element in a BST</h4>
<pre data-source-line="6386"><code class="hljs"><span class="hljs-keyword">int</span> vis_cnt_ = <span class="hljs-number">0</span>;
<span class="hljs-keyword">bool</span> done_ = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">int</span> k_ = <span class="hljs-number">0</span>;
<span class="hljs-keyword">int</span> res_ = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">trverse</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span> || done_ == <span class="hljs-literal">true</span>) <span class="hljs-keyword">return</span>;
  trverse(root-&gt;left);
  <span class="hljs-keyword">if</span> (++vis_cnt_ == k_) {
    res_ = root-&gt;val;
    done_ = <span class="hljs-literal">true</span>;
  }
  trverse(root-&gt;right);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kthSmallest</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> k)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  k_ = k;
  trverse(root);
  <span class="hljs-keyword">return</span> res_;
}
</code></pre><h4 id="le_235-lowest-common-ancestor-of-a-binary-search-tree" data-source-line="6409"><a class="markdownIt-Anchor" href="#le_235-lowest-common-ancestor-of-a-binary-search-tree"></a>LE_235. Lowest Common Ancestor of a Binary Search Tree</h4>
<pre data-source-line="6410"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">lowestCommonAncestor</span><span class="hljs-params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">auto</span> cur = root;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">if</span> (cur-&gt;val == p-&gt;val || cur-&gt;val == q-&gt;val) <span class="hljs-keyword">return</span> cur;
    <span class="hljs-keyword">if</span> (cur-&gt;val &gt; p-&gt;val &amp;&amp; cur-&gt;val &lt; q-&gt;val) <span class="hljs-keyword">return</span> cur;
    <span class="hljs-keyword">if</span> (cur-&gt;val &gt; q-&gt;val &amp;&amp; cur-&gt;val &lt; p-&gt;val) <span class="hljs-keyword">return</span> cur;
    <span class="hljs-keyword">if</span> (cur-&gt;val &gt; q-&gt;val) cur = cur-&gt;left;
    <span class="hljs-keyword">else</span> cur = cur-&gt;right;
  }
}
</code></pre><h4 id="le_450-delete-node-in-a-bst" data-source-line="6423"><a class="markdownIt-Anchor" href="#le_450-delete-node-in-a-bst"></a>LE_450. Delete Node in a BST</h4>
<pre data-source-line="6424"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">deleteNode</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> key)</span> </span>{
  <span class="hljs-keyword">if</span> (!root) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>; 
  <span class="hljs-keyword">if</span> (key &lt; root-&gt;val) root-&gt;left = deleteNode(root-&gt;left, key);
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (key &gt; root-&gt;val) root-&gt;right = deleteNode(root-&gt;right, key);
  <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">if</span> (!root-&gt;left) <span class="hljs-keyword">return</span> root-&gt;right;
    <span class="hljs-keyword">if</span> (!root-&gt;right) <span class="hljs-keyword">return</span> root-&gt;left;
    <span class="hljs-keyword">auto</span> cur = root-&gt;left;
    <span class="hljs-keyword">while</span> (cur-&gt;right) cur = cur-&gt;right;
    root-&gt;val = cur-&gt;val;
    root-&gt;left = deleteNode(root-&gt;left, cur-&gt;val);
  }
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h3 id="83-samemirror-tree" data-source-line="6440"><a class="markdownIt-Anchor" href="#83-samemirror-tree"></a><a href="#samemirror-tree">8.3 Same/Mirror Tree</a></h3>
<h4 id="le_100-same-tree" data-source-line="6441"><a class="markdownIt-Anchor" href="#le_100-same-tree"></a>LE_100. Same Tree</h4>
<pre data-source-line="6442"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isSameTree</span><span class="hljs-params">(TreeNode* p, TreeNode* q)</span> </span>{
  <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">nullptr</span> &amp;&amp; q == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">nullptr</span> || q == <span class="hljs-literal">nullptr</span> || p-&gt;val != q-&gt;val) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> isSameTree(p-&gt;left, q-&gt;left) &amp;&amp; isSameTree(p-&gt;right, q-&gt;right);
}
</code></pre><h4 id="le_101-symmetric-tree" data-source-line="6449"><a class="markdownIt-Anchor" href="#le_101-symmetric-tree"></a>LE_101. Symmetric Tree</h4>
<pre data-source-line="6450"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isSymmetric</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">return</span> root == <span class="hljs-literal">nullptr</span> || isMirror(root-&gt;left, root-&gt;right);
}

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isMirror</span><span class="hljs-params">(TreeNode * root_l, TreeNode * root_r)</span> </span>{
  <span class="hljs-keyword">if</span> (root_l == <span class="hljs-literal">nullptr</span> &amp;&amp; root_r == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (root_l == <span class="hljs-literal">nullptr</span> || root_r == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> root_l-&gt;val == root_r-&gt;val &amp;&amp; 
         isMirror(root_l-&gt;left, root_r-&gt;right) &amp;&amp; 
         isMirror(root_l-&gt;right, root_r-&gt;left);
}
</code></pre><h3 id="84-depthwidth" data-source-line="6463"><a class="markdownIt-Anchor" href="#84-depthwidth"></a><a href="#depthwidth">8.4 Depth/Width</a></h3>
<h4 id="le_104-maximum-depth-of-binary-tree" data-source-line="6464"><a class="markdownIt-Anchor" href="#le_104-maximum-depth-of-binary-tree"></a>LE_104. Maximum Depth of Binary Tree</h4>
<pre data-source-line="6465"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxDepth</span><span class="hljs-params">(TreeNode * root)</span> </span>{
  <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> max(maxDepth(root-&gt;left), maxDepth(root-&gt;right)) + <span class="hljs-number">1</span>;
}
</code></pre><h4 id="le_226-invert-binary-tree" data-source-line="6471"><a class="markdownIt-Anchor" href="#le_226-invert-binary-tree"></a>LE_226. Invert Binary Tree</h4>
<pre data-source-line="6472"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">invertTree</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">nullptr</span>) {
    swap(root-&gt;left, root-&gt;right);
    root-&gt;left = invertTree(root-&gt;left);
    root-&gt;right = invertTree(root-&gt;right);
  }
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h4 id="le_111-minimum-depth-of-binary-tree" data-source-line="6482"><a class="markdownIt-Anchor" href="#le_111-minimum-depth-of-binary-tree"></a>LE_111. Minimum Depth of Binary Tree</h4>
<pre data-source-line="6483"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minDepth</span><span class="hljs-params">(TreeNode * root)</span> </span>{
  <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-built_in">queue</span>&lt;TreeNode * &gt; que;
  que.push(root);
  TreeNode * right_most = root;
  <span class="hljs-keyword">int</span> depth = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span>(que.size() != <span class="hljs-number">0</span>) {
    TreeNode *node = que.front(); que.pop();
    <span class="hljs-keyword">if</span>(node-&gt;left == <span class="hljs-literal">nullptr</span> &amp;&amp; node-&gt;right == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">if</span>(node-&gt;left != <span class="hljs-literal">nullptr</span>) que.push(node-&gt;left);
    <span class="hljs-keyword">if</span>(node-&gt;right != <span class="hljs-literal">nullptr</span>) que.push(node-&gt;right);
    <span class="hljs-keyword">if</span>(node == right_most) {
      depth ++;
      <span class="hljs-keyword">if</span>(node-&gt;right == <span class="hljs-literal">nullptr</span>) right_most = node-&gt;left;
      <span class="hljs-keyword">else</span> right_most = node-&gt;right;
    }
  }
  <span class="hljs-keyword">return</span> depth;
}
</code></pre><h4 id="le_222-count-complete-tree-nodes" data-source-line="6504"><a class="markdownIt-Anchor" href="#le_222-count-complete-tree-nodes"></a>LE_222. Count Complete Tree Nodes</h4>
<pre data-source-line="6505"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">leftLen</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + leftLen(root-&gt;left);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rightLen</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + rightLen(root-&gt;right);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countNodes</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (leftLen(root-&gt;left) == rightLen(root-&gt;right)) 
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span> * countNodes(root-&gt;left);
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + countNodes(root-&gt;left) + countNodes(root-&gt;right);
}

</code></pre><h3 id="85-contructdeserilize" data-source-line="6524"><a class="markdownIt-Anchor" href="#85-contructdeserilize"></a><a href="#contructdeserilize">8.5 Contruct/(De)Serilize</a></h3>
<h4 id="le_105-construct-binary-tree-from-preorder-and-inorder-traversal" data-source-line="6525"><a class="markdownIt-Anchor" href="#le_105-construct-binary-tree-from-preorder-and-inorder-traversal"></a>LE_105. Construct Binary Tree from Preorder and Inorder Traversal</h4>
<pre data-source-line="6526"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; preorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder)</span> </span>{
  <span class="hljs-keyword">return</span> buildTree(preorder, preorder.begin(), preorder.end(), 
                   inorder, inorder.begin(), inorder.end());
}

<span class="hljs-function">TreeNode* <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; preorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator pre_low, 
                    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator pre_high, 
                    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator in_low, 
                    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator in_high)</span> </span>{
  <span class="hljs-keyword">if</span> (pre_high - pre_low &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-keyword">auto</span> root = <span class="hljs-keyword">new</span> TreeNode(*pre_low);
  <span class="hljs-keyword">auto</span> root_it = find(in_low, in_high, root-&gt;val);
  root-&gt;left = buildTree(preorder, pre_low + <span class="hljs-number">1</span>, 
                         pre_low + <span class="hljs-number">1</span> + (root_it - in_low), 
                         inorder, in_low, root_it);
  root-&gt;right = buildTree(preorder, pre_high - (in_high - (root_it + <span class="hljs-number">1</span>)), 
                          pre_high, inorder, root_it + <span class="hljs-number">1</span>, in_high);
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h4 id="le_106-construct-binary-tree-from-inorder-and-postorder-traversal" data-source-line="6547"><a class="markdownIt-Anchor" href="#le_106-construct-binary-tree-from-inorder-and-postorder-traversal"></a>LE_106. Construct Binary Tree from Inorder and Postorder Traversal</h4>
<pre data-source-line="6548"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; postorder)</span> </span>{
  <span class="hljs-keyword">return</span> buildTree(inorder, inorder.begin(), inorder.end(), postorder);
}

<span class="hljs-function">TreeNode* <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator it_low, 
                    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator it_high, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; postorder)</span> </span>{
  <span class="hljs-keyword">if</span> (it_high - it_low == <span class="hljs-number">0</span> || postorder.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  TreeNode * root = <span class="hljs-keyword">new</span> TreeNode(postorder.back());
  postorder.pop_back();
  <span class="hljs-keyword">auto</span> inorder_it = find(it_low, it_high, root-&gt;val);
  root-&gt;right = buildTree(inorder, inorder_it + <span class="hljs-number">1</span>, it_high, postorder);
  root-&gt;left = buildTree(inorder, it_low, inorder_it, postorder);
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h4 id="le_297-serialize-and-deserialize-binary-tree" data-source-line="6564"><a class="markdownIt-Anchor" href="#le_297-serialize-and-deserialize-binary-tree"></a>LE_297. Serialize and Deserialize Binary Tree</h4>
<pre data-source-line="6565"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Codec</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-comment">// Encodes a tree to a single string.</span>
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">serialize</span><span class="hljs-params">(TreeNode* root)</span> </span>{
    <span class="hljs-keyword">if</span> (!root) <span class="hljs-keyword">return</span> <span class="hljs-string">"#"</span>;
    <span class="hljs-keyword">return</span> to_string(root-&gt;val) + <span class="hljs-string">" "</span> + serialize(root-&gt;left) + <span class="hljs-string">" "</span> + 
           serialize(root-&gt;right);
  }

  <span class="hljs-comment">// Decodes your encoded data to tree.</span>
  <span class="hljs-function">TreeNode* <span class="hljs-title">deserialize</span><span class="hljs-params">(<span class="hljs-built_in">string</span> data)</span> </span>{
    <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(data)</span></span>; <span class="hljs-keyword">return</span> deserialize(ss);
  }

  <span class="hljs-function">TreeNode* <span class="hljs-title">deserialize</span><span class="hljs-params">(<span class="hljs-built_in">stringstream</span>&amp; ss)</span> </span>{
    <span class="hljs-built_in">string</span> tmp; ss &gt;&gt; tmp;
    <span class="hljs-keyword">if</span> (tmp == <span class="hljs-string">"#"</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
    <span class="hljs-keyword">auto</span> node = <span class="hljs-keyword">new</span> TreeNode(stoi(tmp));
    node-&gt;left = deserialize(ss);
    node-&gt;right = deserialize(ss);
    <span class="hljs-keyword">return</span> node;
  }
};
</code></pre><h4 id="le_331-verify-preorder-serialization-of-a-binary-tree" data-source-line="6590"><a class="markdownIt-Anchor" href="#le_331-verify-preorder-serialization-of-a-binary-tree"></a>LE_331. Verify Preorder Serialization of a Binary Tree</h4>
<pre data-source-line="6591"><code class="hljs"><span class="hljs-comment">//                 9</span>
<span class="hljs-comment">//       3             2</span>
<span class="hljs-comment">//   4       1       #     6</span>
<span class="hljs-comment">// #   #   #   #         #   #</span>
<span class="hljs-comment">// -&gt;</span>
<span class="hljs-comment">// 9,3,4,#,#,1,#,#,2,#,6,#,#</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isValidSerialization</span><span class="hljs-params">(<span class="hljs-built_in">string</span> preorder)</span> </span>{
  <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(preorder)</span></span>;
  <span class="hljs-built_in">string</span> tmp;
  <span class="hljs-keyword">int</span> diff = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (getline(ss, tmp, <span class="hljs-string">','</span>)) {
    <span class="hljs-keyword">if</span> (--diff &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (tmp != <span class="hljs-string">"#"</span>) diff += <span class="hljs-number">2</span>;
  }
  <span class="hljs-keyword">return</span> diff == <span class="hljs-number">0</span>;
}
</code></pre><h4 id="le_427-construct-quad-tree" data-source-line="6609"><a class="markdownIt-Anchor" href="#le_427-construct-quad-tree"></a>LE_427. Construct Quad Tree</h4>
<pre data-source-line="6610"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  Node* ele_[<span class="hljs-number">2</span>] = {<span class="hljs-keyword">new</span> Node(<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>), <span class="hljs-keyword">new</span> Node(<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>)};

  <span class="hljs-function">Node* <span class="hljs-title">construct</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid)</span> </span>{
    <span class="hljs-keyword">return</span> construct(grid, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, grid.size());
  }

  <span class="hljs-function">Node* <span class="hljs-title">construct</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; grid, <span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> n)</span> </span>{
    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> ele_[grid[x][y]]; n &gt;&gt;= <span class="hljs-number">1</span>;
    <span class="hljs-keyword">auto</span> top_left = construct(grid, x, y, n);
    <span class="hljs-keyword">auto</span> top_right = construct(grid, x, y + n, n);
    <span class="hljs-keyword">auto</span> bottom_left = construct(grid, x + n, y, n);
    <span class="hljs-keyword">auto</span> bottom_right = construct(grid, x + n, y + n, n);
    <span class="hljs-keyword">if</span> (top_left == top_right &amp;&amp; top_right == bottom_left &amp;&amp; 
      bottom_left == bottom_right) <span class="hljs-keyword">return</span> top_left;
    <span class="hljs-keyword">return</span> 
      <span class="hljs-keyword">new</span> Node(<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, top_left, top_right, bottom_left, bottom_right);
  }
};
</code></pre><h3 id="86-balanced-tree" data-source-line="6632"><a class="markdownIt-Anchor" href="#86-balanced-tree"></a><a href="#balanced-tree">8.6 Balanced Tree</a></h3>
<h4 id="le_110-balanced-binary-tree" data-source-line="6633"><a class="markdownIt-Anchor" href="#le_110-balanced-binary-tree"></a>LE_110. Balanced Binary Tree</h4>
<pre data-source-line="6634"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isBalanced</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">abs</span>(depth(root-&gt;left) - depth(root-&gt;right)) &lt;= <span class="hljs-number">1</span> &amp;&amp;
         isBalanced(root-&gt;left) &amp;&amp; isBalanced(root-&gt;right);
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">depth</span><span class="hljs-params">(TreeNode * root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + max(depth(root-&gt;left), depth(root-&gt;right));
}
</code></pre><h3 id="87-tree-path" data-source-line="6646"><a class="markdownIt-Anchor" href="#87-tree-path"></a>8.7 <a href="#tree-path">Tree Path</a></h3>
<h4 id="le_112-path-sum" data-source-line="6647"><a class="markdownIt-Anchor" href="#le_112-path-sum"></a>LE_112. Path Sum</h4>
<pre data-source-line="6648"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">hasPathSum</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> sum)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (root-&gt;left == <span class="hljs-literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="hljs-literal">nullptr</span>) 
    <span class="hljs-keyword">return</span> (sum - root-&gt;val == <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> hasPathSum(root-&gt;left, sum - root-&gt;val) || 
         hasPathSum(root-&gt;right, sum - root-&gt;val);
}
</code></pre><h4 id="le_113-path-sum-ii" data-source-line="6657"><a class="markdownIt-Anchor" href="#le_113-path-sum-ii"></a>LE_113. Path Sum II</h4>
<pre data-source-line="6658"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; pathSum(TreeNode* root, <span class="hljs-keyword">int</span> sum) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; path;
  helper(root, sum, path, res);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">helper</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> sum, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp; path, 
            <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; &amp; res)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>;
  path.push_back(root-&gt;val);
  <span class="hljs-keyword">if</span> (root-&gt;left == <span class="hljs-literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="hljs-literal">nullptr</span> &amp;&amp; sum - root-&gt;val == <span class="hljs-number">0</span>) {
    res.push_back(path); 
    path.pop_back();
    <span class="hljs-keyword">return</span>;
  }
  helper(root-&gt;left, sum - root-&gt;val, path, res);
  helper(root-&gt;right, sum - root-&gt;val, path, res);
  path.pop_back();
}
</code></pre><h4 id="le_437-path-sum-iii" data-source-line="6680"><a class="markdownIt-Anchor" href="#le_437-path-sum-iii"></a>LE_437. Path Sum III</h4>
<pre data-source-line="6681"><code class="hljs"><span class="hljs-comment">//             10</span>
<span class="hljs-comment">//       5        -3</span>
<span class="hljs-comment">//   3     2         11</span>
<span class="hljs-comment">// 3   2     1   </span>
<span class="hljs-comment">// tar = 8</span>
<span class="hljs-comment">// return 3, cuz [5 3], [5 2 1], [-3, 11]</span>
<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">long</span>, <span class="hljs-keyword">int</span>&gt; sum_cnt_map_{{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}};
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pathSum</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> targetSum, <span class="hljs-keyword">long</span> curSum = <span class="hljs-number">0</span>)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  curSum += root-&gt;val;
  <span class="hljs-keyword">int</span> res = sum_cnt_map_[curSum - targetSum];
  sum_cnt_map_[curSum]++;
  res += pathSum(root-&gt;left, targetSum, curSum);
  res += pathSum(root-&gt;right, targetSum, curSum);
  sum_cnt_map_[curSum]--;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_124-binary-tree-maximum-path-sum" data-source-line="6700"><a class="markdownIt-Anchor" href="#le_124-binary-tree-maximum-path-sum"></a>LE_124. Binary Tree Maximum Path Sum</h4>
<pre data-source-line="6701"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxPathSum</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">int</span> max_sum = INT_MIN;
  maxPathSum(root, max_sum);
  <span class="hljs-keyword">return</span> max_sum;
}

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxPathSum</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> &amp; max_sum)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> left = max(<span class="hljs-number">0</span>, maxPathSum(root-&gt;left, max_sum));
  <span class="hljs-keyword">int</span> right = max(<span class="hljs-number">0</span>, maxPathSum(root-&gt;right, max_sum));
  max_sum = max(max_sum, left + right + root-&gt;val);
  <span class="hljs-keyword">return</span> max(left, right) + root-&gt;val;
}
</code></pre><h4 id="le_129-sum-root-to-leaf-numbers" data-source-line="6716"><a class="markdownIt-Anchor" href="#le_129-sum-root-to-leaf-numbers"></a>LE_129. Sum Root to Leaf Numbers</h4>
<pre data-source-line="6717"><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sumNumbers</span><span class="hljs-params">(TreeNode* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;
  accumulate(root, sum, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> sum;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">accumulate</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> &amp; sum, <span class="hljs-keyword">int</span> path)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>;
  path = path * <span class="hljs-number">10</span> + root-&gt;val;
  <span class="hljs-keyword">if</span> (root-&gt;left == <span class="hljs-literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="hljs-literal">nullptr</span>) {
    sum += path;
    <span class="hljs-keyword">return</span>;
  }
  accumulate(root-&gt;left, sum, path);
  accumulate(root-&gt;right, sum, path);
}
</code></pre><h4 id="le_236-lowest-common-ancestor-of-a-binary-tree" data-source-line="6736"><a class="markdownIt-Anchor" href="#le_236-lowest-common-ancestor-of-a-binary-tree"></a>LE_236. Lowest Common Ancestor of a Binary Tree</h4>
<pre data-source-line="6737"><code class="hljs"><span class="hljs-function">TreeNode* <span class="hljs-title">lowestCommonAncestor</span><span class="hljs-params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>{
  <span class="hljs-keyword">if</span> (!root || root == p || root == q) <span class="hljs-keyword">return</span> root;
  TreeNode* left = lowestCommonAncestor(root-&gt;left, p, q);
  TreeNode* right = lowestCommonAncestor(root-&gt;right, p, q);
  <span class="hljs-keyword">if</span> (left == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> right;
  <span class="hljs-keyword">if</span> (right == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> left;
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h4 id="le_257-binary-tree-paths" data-source-line="6747"><a class="markdownIt-Anchor" href="#le_257-binary-tree-paths"></a>LE_257. Binary Tree Paths</h4>
<pre data-source-line="6748"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; binaryTreePaths(TreeNode* root) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  binaryTreePaths(root, <span class="hljs-string">""</span>, res);
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">binaryTreePaths</span><span class="hljs-params">(TreeNode* root, <span class="hljs-built_in">string</span> path, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; &amp; paths)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>;
  path += path == <span class="hljs-string">""</span> ? to_string(root-&gt;val) : <span class="hljs-string">"-&gt;"</span> + to_string(root-&gt;val);
  <span class="hljs-keyword">if</span> (root-&gt;left == <span class="hljs-literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="hljs-literal">nullptr</span>) 
    {paths.push_back(path); <span class="hljs-keyword">return</span>;}
  <span class="hljs-keyword">if</span> (root-&gt;left) binaryTreePaths(root-&gt;left, path, paths);
  <span class="hljs-keyword">if</span> (root-&gt;right) binaryTreePaths(root-&gt;right, path, paths);
}
</code></pre><h3 id="88-tree-to-list" data-source-line="6765"><a class="markdownIt-Anchor" href="#88-tree-to-list"></a><a href="#tree-to-list">8.8 Tree To List</a></h3>
<h4 id="le_114-flatten-binary-tree-to-linked-list" data-source-line="6766"><a class="markdownIt-Anchor" href="#le_114-flatten-binary-tree-to-linked-list"></a>LE_114. Flatten Binary Tree to Linked List</h4>
<pre data-source-line="6767"><code class="hljs"><span class="hljs-function">TreeNode * <span class="hljs-title">flatten</span><span class="hljs-params">(TreeNode* root, TreeNode* pre = <span class="hljs-literal">nullptr</span>)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> pre;
  pre = flatten(root-&gt;right, pre);
  pre = flatten(root-&gt;left, pre);
  root-&gt;right = pre;
  root-&gt;left = <span class="hljs-literal">nullptr</span>;
  pre = root;
  <span class="hljs-keyword">return</span> pre;
}
</code></pre><h3 id="89-tree-next-pointer" data-source-line="6778"><a class="markdownIt-Anchor" href="#89-tree-next-pointer"></a><a href="#tree-next-pointer">8.9 Tree Next Pointer</a></h3>
<h4 id="le_116-populating-next-right-pointers-in-each-node" data-source-line="6779"><a class="markdownIt-Anchor" href="#le_116-populating-next-right-pointers-in-each-node"></a>LE_116. Populating Next Right Pointers in Each Node</h4>
<h4 id="le_117-populating-next-right-pointers-in-each-node-ii" data-source-line="6780"><a class="markdownIt-Anchor" href="#le_117-populating-next-right-pointers-in-each-node-ii"></a>LE_117. Populating Next Right Pointers in Each Node II</h4>
<pre data-source-line="6781"><code class="hljs"><span class="hljs-function">Node* <span class="hljs-title">connect</span><span class="hljs-params">(Node* root)</span> </span>{
  <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  <span class="hljs-built_in">queue</span>&lt;Node *&gt; que;
  que.push(root);
  <span class="hljs-keyword">while</span> (que.size()) {
    <span class="hljs-keyword">int</span> layer_size = que.size();
    Node * pre = <span class="hljs-literal">nullptr</span>;
    <span class="hljs-keyword">while</span> (layer_size--) {
      <span class="hljs-keyword">auto</span> tmp = que.front();
      que.pop();
      <span class="hljs-keyword">if</span> (pre) pre-&gt;next = tmp;
      <span class="hljs-keyword">if</span> (tmp-&gt;left) que.push(tmp-&gt;left);
      <span class="hljs-keyword">if</span> (tmp-&gt;right) que.push(tmp-&gt;right);
      pre = tmp;
    }
  }
  <span class="hljs-keyword">return</span> root;
}
</code></pre><h2 id="9-design" data-source-line="6801"><a class="markdownIt-Anchor" href="#9-design"></a><a href="#design">9 Design</a></h2>
<h3 id="91-cache" data-source-line="6802"><a class="markdownIt-Anchor" href="#91-cache"></a><a href="#cache">9.1 Cache</a></h3>
<h4 id="le_146-lru-cache" data-source-line="6803"><a class="markdownIt-Anchor" href="#le_146-lru-cache"></a>LE_146. LRU Cache</h4>
<pre data-source-line="6804"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LRUCache</span> {</span>
<span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">int</span> cap_;
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> {</span>
      <span class="hljs-keyword">int</span> val_;
      <span class="hljs-built_in">list</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator iter_;
  };
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, Node&gt; kv_;
  <span class="hljs-built_in">list</span>&lt;<span class="hljs-keyword">int</span>&gt; lru_key_lst_;
<span class="hljs-keyword">public</span>:
  LRUCache(<span class="hljs-keyword">int</span> capacity): cap_(capacity) {}
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>{
    <span class="hljs-keyword">if</span> (kv_.find(key) == kv_.end()) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    lru_key_lst_.erase(kv_[key].iter_);
    lru_key_lst_.push_front(key);
    kv_[key].iter_ = lru_key_lst_.begin();
    <span class="hljs-keyword">return</span> kv_[key].val_;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key, <span class="hljs-keyword">int</span> value)</span> </span>{
    <span class="hljs-keyword">if</span> (get(key) != <span class="hljs-number">-1</span>) { kv_[key].val_ = value; <span class="hljs-keyword">return</span>; }
    <span class="hljs-keyword">if</span> (kv_.size() &gt;= cap_) {
      <span class="hljs-keyword">auto</span> to_del_key = lru_key_lst_.back();
      kv_.erase(to_del_key);
      lru_key_lst_.pop_back();
    }
    kv_[key].val_ = value;
    lru_key_lst_.push_front(key);
    kv_[key].iter_ = lru_key_lst_.begin();
  }
};
</code></pre><h4 id="le_460-lfu-cache" data-source-line="6838"><a class="markdownIt-Anchor" href="#le_460-lfu-cache"></a>LE_460. LFU Cache</h4>
<pre data-source-line="6839"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LFUCache</span> {</span>
<span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">int</span> cap_;
  <span class="hljs-keyword">int</span> min_freq_;
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> {</span>
    <span class="hljs-keyword">int</span> val_;
    <span class="hljs-keyword">int</span> freq_;
    <span class="hljs-built_in">list</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator iter_;
  };
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, Node&gt; kv_;
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">list</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; freq_klst_;

<span class="hljs-keyword">public</span>:
  LFUCache(<span class="hljs-keyword">int</span> capacity): cap_(capacity) {}
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>{
    <span class="hljs-keyword">if</span> (kv_.find(key) == kv_.end()) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    freq_klst_[kv_[key].freq_++].erase(kv_[key].iter_);
    freq_klst_[kv_[key].freq_].push_front(key);
    kv_[key].iter_ = freq_klst_[kv_[key].freq_].begin();
    <span class="hljs-keyword">if</span> (freq_klst_[min_freq_].size() == <span class="hljs-number">0</span>) min_freq_++;
    <span class="hljs-keyword">return</span> kv_[key].val_;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key, <span class="hljs-keyword">int</span> value)</span> </span>{ 
    <span class="hljs-keyword">if</span> (get(key) != <span class="hljs-number">-1</span>) { kv_[key].val_ = value; <span class="hljs-keyword">return</span>; }
    <span class="hljs-keyword">if</span> (kv_.size() &gt;= cap_) {
      kv_.erase(freq_klst_[min_freq_].back());
      freq_klst_[min_freq_].pop_back();
    }
    min_freq_ = <span class="hljs-number">1</span>;
    freq_klst_[min_freq_].push_front(key);
    kv_[key] = {value, min_freq_, freq_klst_[min_freq_].begin()};
  }
};
</code></pre><h4 id="le_432-all-oone-data-structure" data-source-line="6876"><a class="markdownIt-Anchor" href="#le_432-all-oone-data-structure"></a>LE_432. All O`one Data Structure</h4>
<pre data-source-line="6877"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AllOne</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; key_freq_map_;
  <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; freq_key_set_map_;
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">inc</span><span class="hljs-params">(<span class="hljs-built_in">string</span> key)</span> </span>{
    freq_key_set_map_[++key_freq_map_[key]].insert(key);
    <span class="hljs-keyword">if</span> (key_freq_map_[key] != <span class="hljs-number">1</span>) 
      freq_key_set_map_[key_freq_map_[key] - <span class="hljs-number">1</span>].erase(key);
    <span class="hljs-keyword">if</span> (freq_key_set_map_[key_freq_map_[key] - <span class="hljs-number">1</span>].size() == <span class="hljs-number">0</span>) 
      freq_key_set_map_.erase(key_freq_map_[key] - <span class="hljs-number">1</span>);
  }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dec</span><span class="hljs-params">(<span class="hljs-built_in">string</span> key)</span> </span>{
    freq_key_set_map_[key_freq_map_[key]].erase(key);
    <span class="hljs-keyword">if</span> (freq_key_set_map_[key_freq_map_[key]].size() == <span class="hljs-number">0</span>) 
      freq_key_set_map_.erase(key_freq_map_[key]);
    <span class="hljs-keyword">if</span> (key_freq_map_[key] != <span class="hljs-number">1</span>) 
      freq_key_set_map_[--key_freq_map_[key]].insert(key);
    <span class="hljs-keyword">else</span> key_freq_map_.erase(key);
  }
  
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getMaxKey</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> freq_key_set_map_.size() ? 
      *freq_key_set_map_.rbegin()-&gt;second.begin() : <span class="hljs-string">""</span>;
  }
  
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getMinKey</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> freq_key_set_map_.size() ? 
      *freq_key_set_map_.begin()-&gt;second.begin() : <span class="hljs-string">""</span>;
  }
};
</code></pre><h3 id="92-special-stackqueuelist" data-source-line="6911"><a class="markdownIt-Anchor" href="#92-special-stackqueuelist"></a><a href="#special-stackqueuelist">9.2 Special Stack/Queue/List</a></h3>
<h4 id="le_155-min-stack" data-source-line="6912"><a class="markdownIt-Anchor" href="#le_155-min-stack"></a>LE_155. Min Stack</h4>
<pre data-source-line="6913"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MinStack</span> {</span>
<span class="hljs-keyword">private</span>:
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; dat_stk_;
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; min_stk_;
<span class="hljs-keyword">public</span>:
  MinStack() { }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
    dat_stk_.push(val);
    <span class="hljs-keyword">if</span> (min_stk_.size() == <span class="hljs-number">0</span> || val &lt;= min_stk_.top()) min_stk_.push(val);
  }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (dat_stk_.top() == min_stk_.top()) min_stk_.pop();
    dat_stk_.pop();
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">top</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> dat_stk_.top();
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getMin</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> min_stk_.top();
  }
};
</code></pre><h4 id="le_225-implement-stack-using-queues" data-source-line="6940"><a class="markdownIt-Anchor" href="#le_225-implement-stack-using-queues"></a>LE_225. Implement Stack using Queues</h4>
<pre data-source-line="6941"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyStack</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q1, q2;
  <span class="hljs-comment">/** Push element x onto stack. */</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>{
      <span class="hljs-keyword">if</span> (q1.size()) q1.push(x);
      <span class="hljs-keyword">else</span> q2.push(x);
  }
  
  <span class="hljs-comment">/** Removes the element on top of the stack and returns that element. */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> res = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">if</span> (q1.size()) {
      <span class="hljs-keyword">while</span> (q1.size() != <span class="hljs-number">1</span>) {
        q2.push(q1.front());
        q1.pop();
      }
      res = q1.front();
      q1.pop();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(q2.size()) {
      <span class="hljs-keyword">while</span> (q2.size() != <span class="hljs-number">1</span>) {
        q1.push(q2.front());
        q2.pop();
      }
      res = q2.front();
      q2.pop();
    } 
    <span class="hljs-keyword">return</span> res;
  }
  
  <span class="hljs-comment">/** Get the top element. */</span>
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">top</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> res = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">if</span> (q1.size()) {
      <span class="hljs-keyword">while</span> (q1.size() != <span class="hljs-number">1</span>) {
        q2.push(q1.front());
        q1.pop();
      }
      res = q1.front();
      q2.push(q1.front());
      q1.pop();
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(q2.size()) {
      <span class="hljs-keyword">while</span> (q2.size() != <span class="hljs-number">1</span>) {
        q1.push(q2.front());
        q2.pop();
      }
      res = q2.front();
      q1.push(q2.front());
      q2.pop();
    } 
    <span class="hljs-keyword">return</span> res;
  }
  
  <span class="hljs-comment">/** Returns whether the stack is empty. */</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> q1.empty() &amp;&amp; q2.empty();
  }
};
</code></pre><h4 id="le_232-implement-queue-using-stacks" data-source-line="7003"><a class="markdownIt-Anchor" href="#le_232-implement-queue-using-stacks"></a>LE_232. Implement Queue using Stacks</h4>
<pre data-source-line="7004"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyQueue</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; stk1, stk2;

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>{
    <span class="hljs-keyword">while</span>(stk2.size()) {
      stk1.push(stk2.top());
      stk2.pop();
    }
    stk1.push(x);
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span>(stk1.size()) {
      stk2.push(stk1.top());
      stk1.pop();
    }
    <span class="hljs-keyword">int</span> top = stk2.top();
    stk2.pop();
    <span class="hljs-keyword">return</span> top;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">peek</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span>(stk1.size()) {
      stk2.push(stk1.top());
      stk1.pop();
    }
    <span class="hljs-keyword">int</span> top = stk2.top();
    <span class="hljs-keyword">return</span> top;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> stk1.size() == <span class="hljs-number">0</span> &amp;&amp; stk2.size() == <span class="hljs-number">0</span>;
  }
};
</code></pre><h4 id="le_382-linked-list-random-node" data-source-line="7041"><a class="markdownIt-Anchor" href="#le_382-linked-list-random-node"></a>LE_382. Linked List Random Node</h4>
<pre data-source-line="7042"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  ListNode* head_;
  Solution(ListNode* head): head_(head) {}
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getRandom</span><span class="hljs-params">()</span> </span>{
    ListNode* cur = head_;
    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">1</span>, res;
    <span class="hljs-keyword">while</span> (cur) {
      <span class="hljs-keyword">if</span> (rand() / <span class="hljs-keyword">float</span>(RAND_MAX) &lt; <span class="hljs-number">1.</span> / cnt++) res = cur-&gt;val;
      cur = cur-&gt;next;
    }
    <span class="hljs-keyword">return</span> res;
  }
};
</code></pre><h4 id="le_384-shuffle-an-array" data-source-line="7059"><a class="markdownIt-Anchor" href="#le_384-shuffle-an-array"></a>LE_384. Shuffle an Array</h4>
<pre data-source-line="7060"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; original;
  <span class="hljs-keyword">int</span> n;

<span class="hljs-keyword">public</span>:
  Solution(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
    original = nums;
    n = original.size();
  }

  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; reset() {
    <span class="hljs-keyword">return</span> original;
  }

  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; shuffle() {
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; shuffled = original;
    <span class="hljs-keyword">int</span> leftSize = n;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; i--) {
      <span class="hljs-keyword">int</span> j = rand()%leftSize;
      swap(shuffled[i], shuffled[j]);
      leftSize--;
    }
    <span class="hljs-keyword">return</span> shuffled;
  }
};
</code></pre><h3 id="93-data-stream-io" data-source-line="7087"><a class="markdownIt-Anchor" href="#93-data-stream-io"></a><a href="#data-stream-io">9.3 Data Stream I/O</a></h3>
<h4 id="le_295-find-median-from-data-stream" data-source-line="7088"><a class="markdownIt-Anchor" href="#le_295-find-median-from-data-stream"></a>LE_295. Find Median from Data Stream</h4>
<pre data-source-line="7089"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MedianFinder</span> {</span>
<span class="hljs-keyword">public</span>:
  priority_queue&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;, less&lt;<span class="hljs-keyword">int</span>&gt;&gt; l_;
  priority_queue&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;, greater&lt;<span class="hljs-keyword">int</span>&gt;&gt; r_;

  MedianFinder() {}
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">balance</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (l_.size() + <span class="hljs-number">1</span> &lt; r_.size()) {
      l_.push(r_.top());
      r_.pop();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l_.size() &gt; r_.size() + <span class="hljs-number">1</span>) {
      r_.push(l_.top());
      l_.pop();
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addNum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span> </span>{
    <span class="hljs-keyword">if</span> (l_.size() == <span class="hljs-number">0</span> || num &lt;= l_.top()) l_.push(num);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r_.size() == <span class="hljs-number">0</span> || num &gt;= r_.top()) r_.push(num);
    <span class="hljs-keyword">else</span> l_.push(num);
    balance();
  }
  
  <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">findMedian</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (l_.size() &gt; r_.size()) <span class="hljs-keyword">return</span> l_.top();
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l_.size() &lt; r_.size()) <span class="hljs-keyword">return</span> r_.top();
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> l_.top() * <span class="hljs-number">0.5</span> + r_.top() * <span class="hljs-number">0.5</span>;
  }
};
</code></pre><h4 id="le_352-data-stream-as-disjoint-intervals" data-source-line="7121"><a class="markdownIt-Anchor" href="#le_352-data-stream-as-disjoint-intervals"></a>LE_352. Data Stream as Disjoint Intervals</h4>
<pre data-source-line="7122"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SummaryRanges</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt; set_;
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addNum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> value)</span> </span>{
    set_.insert(value);
  }
  
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; getIntervals() {
    <span class="hljs-keyword">if</span> (set_.size() == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> {};
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; res;
    <span class="hljs-keyword">int</span> lo = <span class="hljs-number">-1</span>, hi = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> v: set_) {
      <span class="hljs-keyword">if</span> (lo &lt; <span class="hljs-number">0</span>) lo = hi = v;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v - hi == <span class="hljs-number">1</span>) hi = v;
      <span class="hljs-keyword">else</span> res.push_back({lo, hi}), lo = hi = v;
    }
    res.push_back({lo, hi});
    <span class="hljs-keyword">return</span> res;
  }
};
</code></pre><h4 id="le_380-insert-delete-getrandom-o1" data-source-line="7145"><a class="markdownIt-Anchor" href="#le_380-insert-delete-getrandom-o1"></a>LE_380. Insert Delete GetRandom O(1)</h4>
<pre data-source-line="7146"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RandomizedSet</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; val_ind_map_;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; num_lst_;
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
    <span class="hljs-keyword">if</span> (val_ind_map_.count(val)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    num_lst_.push_back(val);
    val_ind_map_[val] = num_lst_.size() - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
    <span class="hljs-keyword">if</span> (!val_ind_map_.count(val)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">int</span> ind = val_ind_map_[val];
    num_lst_[ind] = num_lst_.back();
    num_lst_.pop_back();
    val_ind_map_[num_lst_[ind]] = ind;
    val_ind_map_.erase(val);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getRandom</span><span class="hljs-params">()</span> </span>{ 
    <span class="hljs-keyword">return</span> num_lst_[rand() % num_lst_.size()]; 
  }
};
</code></pre><h4 id="le_381-insert-delete-getrandom-o1-duplicates-allowed" data-source-line="7174"><a class="markdownIt-Anchor" href="#le_381-insert-delete-getrandom-o1-duplicates-allowed"></a>LE_381. Insert Delete GetRandom O(1) - Duplicates allowed</h4>
<pre data-source-line="7175"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RandomizedCollection</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; val_inds_map_;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; num_lst_;
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
    num_lst_.push_back(val);
    val_inds_map_[val].insert(num_lst_.size() - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> val_inds_map_[val].size() == <span class="hljs-number">1</span>;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>{
    <span class="hljs-keyword">if</span> (val_inds_map_.count(val) == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">int</span> ind = *val_inds_map_[val].begin();
    val_inds_map_[val].erase(ind);
    num_lst_[ind] = num_lst_.back();
    val_inds_map_[num_lst_.back()].insert(ind);
    val_inds_map_[num_lst_.back()].erase(num_lst_.size() - <span class="hljs-number">1</span>);    
    <span class="hljs-keyword">if</span> (val_inds_map_[val].size() == <span class="hljs-number">0</span>) val_inds_map_.erase(val);
    num_lst_.pop_back();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getRandom</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> num_lst_[rand() % num_lst_.size()];
  }
};
</code></pre><h4 id="le_398-random-pick-index" data-source-line="7204"><a class="markdownIt-Anchor" href="#le_398-random-pick-index"></a>LE_398. Random Pick Index</h4>
<pre data-source-line="7205"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; num_idx_map_;
  
  Solution(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.size(); i++) 
      num_idx_map_[nums[i]].push_back(i);
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">pick</span><span class="hljs-params">(<span class="hljs-keyword">int</span> target)</span> </span>{
    <span class="hljs-keyword">auto</span> idx_vec = num_idx_map_[target];
    <span class="hljs-keyword">return</span> idx_vec[rand() % idx_vec.size()];
  }
};
</code></pre><h4 id="le_497-random-point-in-non-overlapping-rectangles" data-source-line="7221"><a class="markdownIt-Anchor" href="#le_497-random-point-in-non-overlapping-rectangles"></a>LE_497. Random Point in Non-overlapping Rectangles</h4>
<pre data-source-line="7222"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; rects_;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; pre_sum_;

  Solution(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; rects) {
    rects_ = rects;
    pre_sum_.resize(rects.size());
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rects.size(); i++) {
      pre_sum_[i] = (rects[i][<span class="hljs-number">2</span>] - rects[i][<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>) * 
                    (rects[i][<span class="hljs-number">3</span>] - rects[i][<span class="hljs-number">1</span>] + <span class="hljs-number">1</span>);
      <span class="hljs-keyword">if</span> (i) pre_sum_[i] += pre_sum_[i - <span class="hljs-number">1</span>];
    }
  }
  
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; pick() {
    <span class="hljs-keyword">int</span> idx = rand() % pre_sum_.back();
    <span class="hljs-keyword">int</span> rpos = upper_bound(pre_sum_.begin(), pre_sum_.end(), idx) - 
               pre_sum_.begin();
    <span class="hljs-keyword">int</span> bias = idx - (rpos ? pre_sum_[rpos - <span class="hljs-number">1</span>] : <span class="hljs-number">0</span>);
    <span class="hljs-keyword">int</span> x = rects_[rpos][<span class="hljs-number">0</span>] + bias % (rects_[rpos][<span class="hljs-number">2</span>] - rects_[rpos][<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">int</span> y = rects_[rpos][<span class="hljs-number">1</span>] + bias / (rects_[rpos][<span class="hljs-number">2</span>] - rects_[rpos][<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> {x, y};
  }
};
</code></pre><h3 id="94-iterator" data-source-line="7249"><a class="markdownIt-Anchor" href="#94-iterator"></a><a href="#iterator">9.4 Iterator</a></h3>
<h4 id="le_284-peeking-iterator" data-source-line="7250"><a class="markdownIt-Anchor" href="#le_284-peeking-iterator"></a>LE_284. Peeking Iterator</h4>
<pre data-source-line="7251"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PeekingIterator</span> :</span> <span class="hljs-keyword">public</span> Iterator {
<span class="hljs-keyword">public</span>:
  PeekingIterator(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums) : Iterator(nums) {}

  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">peek</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> Iterator(*<span class="hljs-keyword">this</span>).next();
  }
};

</code></pre><h3 id="95-trie" data-source-line="7262"><a class="markdownIt-Anchor" href="#95-trie"></a><a href="#trie">9.5 Trie</a></h3>
<h4 id="le_211-design-add-and-search-words-data-structure" data-source-line="7263"><a class="markdownIt-Anchor" href="#le_211-design-add-and-search-words-data-structure"></a>LE_211. Design Add and Search Words Data Structure</h4>
<pre data-source-line="7264"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WordDictionary</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GNode</span> {</span>
    <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">char</span>, GNode *&gt; nbors;
  };
  
  GNode* gra;
  
  <span class="hljs-comment">/** Initialize your data structure here. */</span>
  WordDictionary() {
    gra = <span class="hljs-keyword">new</span> GNode();
  }
  
  <span class="hljs-comment">/** Adds a word into the data structure. */</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addWord</span><span class="hljs-params">(<span class="hljs-built_in">string</span> word)</span> </span>{
    addWord(word, gra, <span class="hljs-number">0</span>);
  }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addWord</span><span class="hljs-params">(<span class="hljs-built_in">string</span> word, GNode * gn, <span class="hljs-keyword">int</span> ind)</span> </span>{
    <span class="hljs-keyword">if</span> (ind &gt;= word.size()) { 
      gn-&gt;nbors[<span class="hljs-string">'#'</span>] =  <span class="hljs-keyword">new</span> GNode(); 
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (gn-&gt;nbors.find(word[ind]) == gn-&gt;nbors.end())
      gn-&gt;nbors[word[ind]] = <span class="hljs-keyword">new</span> GNode();
    addWord(word, gn-&gt;nbors[word[ind]], ind + <span class="hljs-number">1</span>);
  }
  
  <span class="hljs-comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-built_in">string</span> word)</span> </span>{
    <span class="hljs-keyword">return</span> search(word, gra, <span class="hljs-number">0</span>);
  }
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-built_in">string</span> word, GNode * gn, <span class="hljs-keyword">int</span> ind)</span> </span>{
    <span class="hljs-keyword">if</span> (ind &gt;= word.size() &amp;&amp; gn-&gt;nbors.find(<span class="hljs-string">'#'</span>) != gn-&gt;nbors.end()) 
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">bool</span> res = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (word[ind] == <span class="hljs-string">'.'</span>) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;&amp; pir : gn-&gt;nbors)
        res |= search(word, pir.second, ind + <span class="hljs-number">1</span>);
      <span class="hljs-keyword">return</span> res;
    }
    <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (gn-&gt;nbors.find(word[ind]) == gn-&gt;nbors.end())
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> search(word, gn-&gt;nbors[word[ind]], ind + <span class="hljs-number">1</span>);
    }
  }
};
</code></pre><h4 id="le_212-word-search-ii" data-source-line="7316"><a class="markdownIt-Anchor" href="#le_212-word-search-ii"></a>LE_212. Word Search II</h4>
<pre data-source-line="7317"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TrieNode</span> {</span>
    <span class="hljs-built_in">string</span> word;
    <span class="hljs-built_in">vector</span>&lt;TrieNode *&gt; nbors;
    TrieNode() {
      word = <span class="hljs-string">""</span>;
      nbors = <span class="hljs-built_in">vector</span>&lt;TrieNode *&gt;(<span class="hljs-number">26</span>, <span class="hljs-literal">nullptr</span>);
    }
  };
  
  TrieNode * root = <span class="hljs-keyword">new</span> TrieNode();
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; res;
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addWord</span><span class="hljs-params">(<span class="hljs-built_in">string</span> &amp; word)</span> </span>{
    TrieNode * tn = root;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;&amp; c : word) {
      <span class="hljs-keyword">if</span> (tn-&gt;nbors[c - <span class="hljs-string">'a'</span>] == <span class="hljs-literal">nullptr</span>)
        tn-&gt;nbors[c - <span class="hljs-string">'a'</span>] = <span class="hljs-keyword">new</span> TrieNode();
      tn = tn-&gt;nbors[c - <span class="hljs-string">'a'</span>];
    }
    tn-&gt;word = word;
  }
  
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; findWords(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; board, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&amp; words) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;&amp; word : words) addWord(word);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; board.size(); i++)
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; board[i].size(); j++)
        findWords(board, i, j, root);
    <span class="hljs-keyword">return</span> res;
  }
  
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findWords</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">char</span>&gt;&gt;&amp; board, <span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, TrieNode * tn)</span> </span>{
    <span class="hljs-keyword">if</span> (board[i][j] != <span class="hljs-string">'#'</span> &amp;&amp; tn-&gt;nbors[board[i][j] - <span class="hljs-string">'a'</span>]) {
      tn = tn-&gt;nbors[board[i][j] - <span class="hljs-string">'a'</span>];
      <span class="hljs-keyword">if</span> (tn-&gt;word != <span class="hljs-string">""</span>) { res.push_back(tn-&gt;word); tn-&gt;word = <span class="hljs-string">""</span>; }
      <span class="hljs-keyword">auto</span> c_bk = board[i][j];
      board[i][j] = <span class="hljs-string">'#'</span>;
      <span class="hljs-keyword">if</span> (i &lt; board.size() - <span class="hljs-number">1</span>) findWords(board, i + <span class="hljs-number">1</span>, j, tn);
      <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) findWords(board, i - <span class="hljs-number">1</span>, j, tn);
      <span class="hljs-keyword">if</span> (j &lt; board[i].size() - <span class="hljs-number">1</span>) findWords(board, i, j + <span class="hljs-number">1</span>, tn);
      <span class="hljs-keyword">if</span> (j &gt; <span class="hljs-number">0</span>) findWords(board, i, j - <span class="hljs-number">1</span>, tn);
      board[i][j] = c_bk;
    }
  }
};
</code></pre><h4 id="le_421-maximum-xor-of-two-numbers-in-an-array" data-source-line="7365"><a class="markdownIt-Anchor" href="#le_421-maximum-xor-of-two-numbers-in-an-array"></a>LE_421. Maximum XOR of Two Numbers in an Array</h4>
<pre data-source-line="7366"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TrieNode</span> {</span>
    TrieNode* links[<span class="hljs-number">2</span>];
  };
  TrieNode* root_;

  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findMaximumXOR</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>{
    root_ = <span class="hljs-keyword">new</span> TrieNode();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) {
      <span class="hljs-keyword">auto</span> node = root_;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">31</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
        <span class="hljs-keyword">int</span> bit = (x &gt;&gt; i) &amp; <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (node-&gt;links[bit] == <span class="hljs-literal">nullptr</span>)
          node-&gt;links[bit] = <span class="hljs-keyword">new</span> TrieNode();
        node = node-&gt;links[bit];
      }
    }
    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x: nums) {
      <span class="hljs-keyword">auto</span> node = root_;
      <span class="hljs-keyword">int</span> cur = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">31</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
        <span class="hljs-keyword">int</span> bit = (x &gt;&gt; i) &amp; <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (node-&gt;links[<span class="hljs-number">1</span> - bit] == <span class="hljs-literal">nullptr</span>)
          node = node-&gt;links[bit];
        <span class="hljs-keyword">else</span> cur |= (<span class="hljs-number">1</span> &lt;&lt; i), node = node-&gt;links[<span class="hljs-number">1</span> - bit];
      }
      res = max(res, cur);
    }
    <span class="hljs-keyword">return</span> res;
  }
};
</code></pre><h3 id="96-nested-integer" data-source-line="7401"><a class="markdownIt-Anchor" href="#96-nested-integer"></a><a href="#nested-integer">9.6 Nested Integer</a></h3>
<h4 id="le_341-flatten-nested-list-iterator" data-source-line="7402"><a class="markdownIt-Anchor" href="#le_341-flatten-nested-list-iterator"></a>LE_341. Flatten Nested List Iterator</h4>
<pre data-source-line="7403"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NestedIterator</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-built_in">stack</span>&lt;<span class="hljs-built_in">vector</span>&lt;NestedInteger&gt;::iterator&gt; begins, ends;

  NestedIterator(<span class="hljs-built_in">vector</span>&lt;NestedInteger&gt; &amp;nestedList) {
    begins.push(nestedList.begin());
    ends.push(nestedList.end());
  }
  
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">next</span><span class="hljs-params">()</span> </span>{
    hasNext();
    <span class="hljs-keyword">return</span> (begins.top()++)-&gt;getInteger();
  }
  
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">hasNext</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (begins.size()) {
      <span class="hljs-keyword">if</span> (begins.top() == ends.top()) {
        begins.pop();
        ends.pop();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">auto</span> x = begins.top();
        <span class="hljs-keyword">if</span> (x-&gt;isInteger()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        begins.top()++;
        begins.push(x-&gt;getList().begin());
        ends.push(x-&gt;getList().end());
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
};
</code></pre><h4 id="le_385-mini-parser" data-source-line="7435"><a class="markdownIt-Anchor" href="#le_385-mini-parser"></a>LE_385. Mini Parser</h4>
<pre data-source-line="7436"><code class="hljs"><span class="hljs-comment">/* class NestedInteger {
 *   public:
 *     NestedInteger();
 *     NestedInteger(int value);
 *     bool isInteger() const;
 *     int getInteger() const;
 *     void setInteger(int value);
 *     void add(const NestedInteger &amp;ni);
 *     const vector&lt;NestedInteger&gt; &amp;getList() const;
 */</span>
<span class="hljs-comment">// Input: s = "[123,[456,[789]]]"</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> {</span>
<span class="hljs-keyword">public</span>:
  <span class="hljs-function">NestedInteger <span class="hljs-title">deserialize</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span> </span>{
    <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(s)</span></span>;
    <span class="hljs-keyword">return</span> deserialize(ss);
  }

  <span class="hljs-function">NestedInteger <span class="hljs-title">deserialize</span><span class="hljs-params">(<span class="hljs-built_in">stringstream</span>&amp; ss)</span> </span>{
    <span class="hljs-keyword">int</span> num;
    <span class="hljs-keyword">if</span> (ss &gt;&gt; num) <span class="hljs-keyword">return</span> NestedInteger(num);
    ss.clear(); ss.get();
    NestedInteger lst;
    <span class="hljs-keyword">while</span> (ss.peek() != <span class="hljs-string">']'</span>) {
        lst.add(deserialize(ss));
        <span class="hljs-keyword">if</span> (ss.peek() == <span class="hljs-string">','</span>) ss.get();
    }
    ss.get();
    <span class="hljs-keyword">return</span> lst;
  }
};
</code></pre><h3 id="97-app" data-source-line="7469"><a class="markdownIt-Anchor" href="#97-app"></a><a href="#app">9.7 App</a></h3>
<h4 id="le_355-design-twitter" data-source-line="7470"><a class="markdownIt-Anchor" href="#le_355-design-twitter"></a>LE_355. Design Twitter</h4>
<pre data-source-line="7471"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Twitter</span> {</span>
<span class="hljs-keyword">public</span>:
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Tweet</span> {</span>
  <span class="hljs-keyword">int</span> id_;
  <span class="hljs-keyword">int</span> t_;
  Tweet* next_ = <span class="hljs-literal">nullptr</span>;
  Tweet(<span class="hljs-keyword">int</span> id, <span class="hljs-keyword">int</span> ts): id_(id), t_(ts) {}
};

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">User</span> {</span>
  <span class="hljs-keyword">int</span> id_;
  <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt; followed_uid_set_;
  Tweet* tlst_head_ = <span class="hljs-literal">nullptr</span>;
  User() {}
  User(<span class="hljs-keyword">int</span> id): id_(id) { follow(id); }
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">follow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>{ followed_uid_set_.insert(id); }
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">unfollow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>{ followed_uid_set_.erase(id); }
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">post</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id, <span class="hljs-keyword">int</span> ts)</span> </span>{ 
    <span class="hljs-keyword">auto</span> tptr = <span class="hljs-keyword">new</span> Tweet(id, ts);
    tptr-&gt;next_ = tlst_head_;
    tlst_head_ = tptr;
  }
};

<span class="hljs-keyword">int</span> ts_ = <span class="hljs-number">0</span>;
<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, User&gt; id_usr_map_;

Twitter() {}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">postTweet</span><span class="hljs-params">(<span class="hljs-keyword">int</span> userId, <span class="hljs-keyword">int</span> tweetId)</span> </span>{
  <span class="hljs-keyword">if</span> (!id_usr_map_.count(userId)) id_usr_map_[userId] = User(userId);
  id_usr_map_[userId].post(tweetId, ts_++);
}

<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; getNewsFeed(<span class="hljs-keyword">int</span> userId) {
  <span class="hljs-keyword">if</span> (!id_usr_map_.count(userId)) <span class="hljs-keyword">return</span> {};
  <span class="hljs-keyword">auto</span> comp = [] (<span class="hljs-keyword">const</span> Tweet* t0, <span class="hljs-keyword">const</span> Tweet* t1) { <span class="hljs-keyword">return</span> t0-&gt;t_ &lt; t1-&gt;t_; };
  priority_queue&lt;Tweet*, <span class="hljs-built_in">vector</span>&lt;Tweet*&gt;, <span class="hljs-keyword">decltype</span>(comp)&gt; pq(comp); 
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> uid: id_usr_map_[userId].followed_uid_set_) {
    <span class="hljs-keyword">auto</span> usr = id_usr_map_[uid];
    <span class="hljs-keyword">if</span> (usr.tlst_head_) pq.push(usr.tlst_head_);
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">while</span> (pq.size() &amp;&amp; res.size() &lt; <span class="hljs-number">10</span>) {
    <span class="hljs-keyword">auto</span> id = pq.top()-&gt;id_;
    <span class="hljs-keyword">auto</span> nxt = pq.top()-&gt;next_;
    pq.pop();
    res.push_back(id);
    <span class="hljs-keyword">if</span> (nxt) pq.push(nxt);
  }
  <span class="hljs-keyword">return</span> res;
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">follow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> followerId, <span class="hljs-keyword">int</span> followeeId)</span> </span>{
  <span class="hljs-keyword">if</span> (!id_usr_map_.count(followerId)) 
    id_usr_map_[followerId] = User(followerId);
  <span class="hljs-keyword">if</span> (!id_usr_map_.count(followeeId)) 
    id_usr_map_[followeeId] = User(followeeId);
  id_usr_map_[followerId].follow(followeeId);
}

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">unfollow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> followerId, <span class="hljs-keyword">int</span> followeeId)</span> </span>{
  <span class="hljs-keyword">if</span> (!id_usr_map_.count(followerId) || followerId == followeeId) <span class="hljs-keyword">return</span>;
  id_usr_map_[followerId].unfollow(followeeId);
}
};
</code></pre><h2 id="a-topodisjoint" data-source-line="7540"><a class="markdownIt-Anchor" href="#a-topodisjoint"></a><a href="#topodisjoint">A Topo/Disjoint</a></h2>
<h3 id="a1-course-schedule" data-source-line="7541"><a class="markdownIt-Anchor" href="#a1-course-schedule"></a><a href="#course-schedule">A.1 Course Schedule</a></h3>
<h4 id="le_207-course-schedule" data-source-line="7542"><a class="markdownIt-Anchor" href="#le_207-course-schedule"></a>LE_207. Course Schedule</h4>
<pre data-source-line="7543"><code class="hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">GNode</span>{</span>
  <span class="hljs-keyword">int</span> val;
  <span class="hljs-keyword">bool</span> visited;
  <span class="hljs-built_in">vector</span>&lt;GNode *&gt; nbors;
  GNode(<span class="hljs-keyword">int</span> v) : val(v), visited(<span class="hljs-literal">false</span>) {}
};

<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">canFinish</span><span class="hljs-params">(<span class="hljs-keyword">int</span> numCourses, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>{
  <span class="hljs-built_in">vector</span>&lt;GNode *&gt; graph;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numCourses; i++) graph.push_back(<span class="hljs-keyword">new</span> GNode(i));
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> pir : prerequisites) graph[pir[<span class="hljs-number">0</span>]]-&gt;nbors.push_back(graph[pir[<span class="hljs-number">1</span>]]);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numCourses; i++) <span class="hljs-keyword">if</span> (dfs(graph[i]) == <span class="hljs-literal">false</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(GNode * node)</span> </span>{
  <span class="hljs-keyword">bool</span> res = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">if</span> (node-&gt;visited) res = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">else</span> {
    node-&gt;visited = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> gn : node-&gt;nbors) <span class="hljs-keyword">if</span> (dfs(gn) == <span class="hljs-literal">false</span>) { res = <span class="hljs-literal">false</span>; <span class="hljs-keyword">break</span>; }
  }
  node-&gt;visited = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h4 id="le_210-course-schedule-ii" data-source-line="7569"><a class="markdownIt-Anchor" href="#le_210-course-schedule-ii"></a>LE_210. Course Schedule II</h4>
<pre data-source-line="7570"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findOrder(<span class="hljs-keyword">int</span> numCourses, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; prerequisites) {
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; indegree(numCourses, <span class="hljs-number">0</span>), res;
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; gra(numCourses);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; pir: prerequisites) {
    indegree[pir[<span class="hljs-number">0</span>]]++;
    gra[pir[<span class="hljs-number">1</span>]].push_back(pir[<span class="hljs-number">0</span>]);
  }
  <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; que;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numCourses; i++) <span class="hljs-keyword">if</span> (indegree[i] == <span class="hljs-number">0</span>) que.push(i);
  <span class="hljs-keyword">while</span> (que.size()) {
    <span class="hljs-keyword">auto</span> cur = que.front();
    res.push_back(cur);
    que.pop();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; o: gra[cur]) <span class="hljs-keyword">if</span> (--indegree[o] == <span class="hljs-number">0</span>) que.push(o);
  }
  <span class="hljs-keyword">if</span> (res.size() != numCourses) res.clear();
  <span class="hljs-keyword">return</span> res;
}
</code></pre><h3 id="le_630-course-schedule-iii" data-source-line="7590"><a class="markdownIt-Anchor" href="#le_630-course-schedule-iii"></a>LE_630. Course Schedule III</h3>
<pre data-source-line="7591"><code class="hljs"><span class="hljs-comment">// courses[i] = [durationi, lastDayi]</span>
<span class="hljs-comment">// Return the maximum number of courses that you can take.</span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">scheduleCourse</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; courses)</span> </span>{
  sort(courses.begin(), courses.end(), 
    [](<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; a, <span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; b) {<span class="hljs-keyword">return</span> a[<span class="hljs-number">1</span>] &lt; b[<span class="hljs-number">1</span>];});
  <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;
  priority_queue&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;, less&lt;<span class="hljs-keyword">int</span>&gt;&gt; pq; 
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>; i &lt; courses.size(); i++) {
    sum += courses[i][<span class="hljs-number">0</span>];
    pq.push(courses[i][<span class="hljs-number">0</span>]);
    <span class="hljs-keyword">if</span> (sum &gt; courses[i][<span class="hljs-number">1</span>]) sum -= pq.top(), pq.pop();
  }
  <span class="hljs-keyword">return</span> pq.size();
}
</code></pre><h4 id="le_310-minimum-height-trees" data-source-line="7607"><a class="markdownIt-Anchor" href="#le_310-minimum-height-trees"></a>LE_310. Minimum Height Trees</h4>
<pre data-source-line="7608"><code class="hljs"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; findMinHeightTrees(<span class="hljs-keyword">int</span> n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; edges) {
  <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> {<span class="hljs-number">0</span>};
  <span class="hljs-keyword">if</span> (n == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>};
  <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; gra;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; edge: edges) { 
    gra[edge[<span class="hljs-number">0</span>]].insert(edge[<span class="hljs-number">1</span>]);
    gra[edge[<span class="hljs-number">1</span>]].insert(edge[<span class="hljs-number">0</span>]);
  }
  <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; que;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [k, vs]: gra) <span class="hljs-keyword">if</span> (vs.size() == <span class="hljs-number">1</span>) que.push(k);
  <span class="hljs-keyword">while</span> (gra.size() &gt; <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">auto</span> cur_layer_sz = que.size();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cur_layer_sz; i++) {
      <span class="hljs-keyword">auto</span> cur = que.front();
      que.pop();
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; node: gra[cur]) {
        gra[node].erase(cur);
        <span class="hljs-keyword">if</span> (gra[node].size() == <span class="hljs-number">1</span>)  que.push(node);
      }
      gra.erase(cur);
    }
  }
  <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [k, vs]: gra) res.push_back(k);
  <span class="hljs-keyword">return</span> res;
}
</code></pre></div></article><body></body></html>